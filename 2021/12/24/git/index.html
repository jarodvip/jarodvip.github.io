<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222" media="(prefers-color-scheme: light)"><meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 7.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css" integrity="sha256-VHqXKFhhMxcpubYf9xiWdCiojEbY9NexQ4jh8AxbvcM=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"jarod.vip","root":"/","images":"/images","scheme":"Gemini","darkmode":true,"version":"8.26.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"always","padding":18,"offset":12},"hljswrap":true,"codeblock":{"theme":{"light":"default","dark":"stackoverflow-dark"},"prism":{"light":"prism","dark":"prism-dark"},"copy_button":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"language":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js" defer></script><meta name="description" content="初次使用配置用户信息1234567891011git config --global user.name &quot;malu&quot;git config --global user.email &quot;malu@malu.me&quot;git config --global alias.l &#x27;log --pretty&#x3D;format:&quot;%h %ad [%an] %s%"><meta property="og:type" content="article"><meta property="og:title" content="Git"><meta property="og:url" content="https://jarod.vip/2021/12/24/git/index.html"><meta property="og:site_name" content="Jarod&#39;s Blog"><meta property="og:description" content="初次使用配置用户信息1234567891011git config --global user.name &quot;malu&quot;git config --global user.email &quot;malu@malu.me&quot;git config --global alias.l &#x27;log --pretty&#x3D;format:&quot;%h %ad [%an] %s%"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2021-12-24T10:06:38.000Z"><meta property="article:modified_time" content="2025-12-28T07:54:18.773Z"><meta property="article:author" content="Jarod"><meta property="article:tag" content="git"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://jarod.vip/2021/12/24/git/"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://jarod.vip/2021/12/24/git/","path":"2021/12/24/git/","title":"Git"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>Git | Jarod's Blog</title><script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script><script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><link rel="alternate" href="/atom.xml" title="Jarod's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><div class="column"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">Jarod's Blog</p><i class="logo-line"></i></a></div><div class="site-nav-right"><div class="toggle popup-trigger" aria-label="搜索" role="button"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a></li></ul></nav></header><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9D%E6%AC%A1%E4%BD%BF%E7%94%A8%E9%85%8D%E7%BD%AE%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="nav-number">1.</span> <span class="nav-text">初次使用配置用户信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8HTTP-basic-auth-clone"><span class="nav-number">2.</span> <span class="nav-text">使用HTTP basic auth clone</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git%E8%B5%8B%E4%BA%88%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90"><span class="nav-number">3.</span> <span class="nav-text">git赋予文件权限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git%E6%B7%BB%E5%8A%A0%E5%A4%9A%E4%B8%AA%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-number">4.</span> <span class="nav-text">git添加多个远程仓库</span></a></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#git%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-number"></span> <span class="nav-text">git基本使用方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80"><span class="nav-number">1.</span> <span class="nav-text">查看远程仓库地址</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E5%88%86%E6%94%AF"><span class="nav-number">2.</span> <span class="nav-text">查看所有分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%AF%8F%E6%AC%A1%E6%8F%90%E4%BA%A4%E7%9A%84%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8"><span class="nav-number">3.</span> <span class="nav-text">查看每次提交的所有文件列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E7%89%B9%E5%AE%9A%E7%9A%84commit-id%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8"><span class="nav-number">4.</span> <span class="nav-text">查看特定的commit id中的文件列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E6%9C%80%E8%BF%91%E4%B8%80%E6%AC%A1%E6%8F%90%E4%BA%A4%E7%9A%84%E6%96%87%E4%BB%B6%E5%88%97%E8%A1%A8"><span class="nav-number">5.</span> <span class="nav-text">查看最近一次提交的文件列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9F%A5%E7%9C%8B%E9%85%8D%E7%BD%AE"><span class="nav-number">6.</span> <span class="nav-text">查看配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E6%AC%A1%E5%AE%8C%E6%95%B4%E6%8F%90%E4%BA%A4"><span class="nav-number">7.</span> <span class="nav-text">一次完整提交</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86"><span class="nav-number"></span> <span class="nav-text">使用代理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%9F%A5%E8%AF%A2"><span class="nav-number"></span> <span class="nav-text">查询</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%86%E6%94%AF"><span class="nav-number"></span> <span class="nav-text">分支</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"><span class="nav-number"></span> <span class="nav-text">合并分支</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%90%88%E5%B9%B6%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3"><span class="nav-number"></span> <span class="nav-text">合并冲突解决</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%87%E7%AD%BE"><span class="nav-number"></span> <span class="nav-text">标签</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%88%87%E6%8D%A2%E8%BF%9C%E7%A8%8B%E5%88%86%E6%94%AF%EF%BC%8CGit%E6%AF%8F%E6%AC%A1%E6%8F%90%E4%BA%A4%E9%9C%80%E8%A6%81%E5%AF%86%E7%A0%81%E5%A4%84%E7%90%86"><span class="nav-number"></span> <span class="nav-text">切换远程分支，Git每次提交需要密码处理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Git-%E5%90%88%E5%B9%B6%E9%81%87%E5%88%B0%E5%86%B2%E7%AA%81%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95"><span class="nav-number"></span> <span class="nav-text">Git 合并遇到冲突解决办法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E4%BD%BF%E7%94%A8%E6%A0%88%E4%BF%9D%E5%AD%98%E7%BC%96%E8%BE%91%E6%95%B0%E6%8D%AE%E5%90%8Epull%E4%B8%8B%E6%9D%A5%E5%86%8D%E5%90%88%E5%B9%B6"><span class="nav-number">1.</span> <span class="nav-text">1.使用栈保存编辑数据后pull下来再合并</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E4%BB%8Exxxx%E5%88%86%E6%94%AF%E5%90%88%E5%B9%B6%E5%88%B0dev"><span class="nav-number">2.</span> <span class="nav-text">2.从xxxx分支合并到dev</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Git%E5%90%8E%E6%82%94%E8%8D%AF-%E6%85%8E%E7%94%A8"><span class="nav-number"></span> <span class="nav-text">Git后悔药(慎用)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%BE%E5%BC%83%E6%9C%AC%E5%9C%B0%E4%BF%AE%E6%94%B9"><span class="nav-number">1.</span> <span class="nav-text">放弃本地修改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%BE%E5%BC%83%E6%9C%AC%E5%9C%B0%E4%BF%AE%E6%94%B9%EF%BC%8C%E4%BD%BF%E7%94%A8%E8%BF%9C%E7%A8%8B%E6%9C%80%E6%96%B0%E7%89%88%E6%9C%AC"><span class="nav-number">2.</span> <span class="nav-text">放弃本地修改，使用远程最新版本</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E6%9E%9C%E5%8F%AA%E9%9C%80%E8%A6%81%E7%A7%BB%E9%99%A4%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6"><span class="nav-number">3.</span> <span class="nav-text">如果只需要移除一个文件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%96%E8%80%85%E5%A6%82%E6%9E%9C%E4%BD%A0%E6%83%B3%E4%BB%8E%E6%9A%82%E5%AD%98%E5%8C%BA%E7%A7%BB%E9%99%A4%E6%89%80%E6%9C%89%E6%B2%A1%E6%9C%89%E6%8F%90%E4%BA%A4%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="nav-number">4.</span> <span class="nav-text">或者如果你想从暂存区移除所有没有提交的修改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%BE%E5%BC%83%E8%BF%9C%E7%A8%8B%E4%B8%8A%E4%B8%80%E6%AC%A1%E6%8F%90%E4%BA%A4%E7%9A%84%E5%86%85%E5%AE%B9"><span class="nav-number">5.</span> <span class="nav-text">放弃远程上一次提交的内容</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BF%AE%E6%94%B9%E9%94%99%E8%AF%AF%E7%9A%84%E6%8F%90%E4%BA%A4%E4%BF%A1%E6%81%AF"><span class="nav-number">6.</span> <span class="nav-text">修改错误的提交信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%81%A2%E5%A4%8D%E6%9F%90%E4%B8%AA%E6%96%87%E4%BB%B6%E5%88%B0%E6%8C%87%E5%AE%9Ahash"><span class="nav-number">7.</span> <span class="nav-text">恢复某个文件到指定hash</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Stash%E6%9C%AA%E6%8F%90%E4%BA%A4%E7%9A%84%E6%9B%B4%E6%94%B9"><span class="nav-number"></span> <span class="nav-text">Stash未提交的更改</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ubuntu-git%E5%8D%87%E7%BA%A7%E5%88%B0%E6%9C%80%E6%96%B0%E7%89%88"><span class="nav-number"></span> <span class="nav-text">Ubuntu git升级到最新版</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#cmd%E4%B8%8Bgit-log%E4%B9%B1%E7%A0%81"><span class="nav-number"></span> <span class="nav-text">cmd下git log乱码</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#gitk%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="nav-number">1.</span> <span class="nav-text">gitk乱码问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git-Bash%E4%B8%AD%E6%9F%A5%E7%9C%8Blog%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81"><span class="nav-number">2.</span> <span class="nav-text">Git Bash中查看log中文乱码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-diff%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%94%A8%E4%B8%8A%E9%9D%A2%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="nav-number">3.</span> <span class="nav-text">git diff乱码问题也可以用上面的设置</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-bash-%E4%B9%B1%E7%A0%81%E4%B8%B4%E6%97%B6%E8%BD%AC%E6%8D%A2"><span class="nav-number"></span> <span class="nav-text">git-bash 乱码临时转换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%A7%A3%E5%86%B3-idea-Terminal-%E9%85%8D%E7%BD%AE-git-bash-%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81"><span class="nav-number"></span> <span class="nav-text">解决 idea Terminal 配置 git bash 中文乱码</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ERROR"><span class="nav-number"></span> <span class="nav-text">ERROR</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#git-pull-%E6%8A%A5%E9%94%99%EF%BC%9A"><span class="nav-number">1.</span> <span class="nav-text">git pull 报错：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Git%E5%BF%BD%E7%95%A5%E8%A7%84%E5%88%99%E5%8F%8A-gitignore%E8%A7%84%E5%88%99%E4%B8%8D%E7%94%9F%E6%95%88%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95"><span class="nav-number">2.</span> <span class="nav-text">Git忽略规则及.gitignore规则不生效的解决办法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-pull%E7%9A%84%E6%97%B6%E5%80%99%E9%81%87%E5%88%B0"><span class="nav-number">3.</span> <span class="nav-text">git pull的时候遇到</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#openshift-git-clone-Permission-denied"><span class="nav-number">4.</span> <span class="nav-text">openshift git clone Permission denied</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E8%84%9A%E6%9C%AC"><span class="nav-number"></span> <span class="nav-text">自动脚本</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%83%A8%E7%BD%B2gitlab%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="nav-number"></span> <span class="nav-text">部署gitlab服务器</span></a></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Jarod</p><div class="site-description" itemprop="description">记录生活中的点点滴滴</div></div><div class="site-state-wrap animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">299</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">7</span> <span class="site-state-item-name">分类</span></div><div class="site-state-item site-state-tags"><span class="site-state-item-count">345</span> <span class="site-state-item-name">标签</span></div></nav></div><div class="links-of-author animated"><span class="links-of-author-item"><a href="https://github.com/jarodvip" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jarodvip" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a></span></div></div></div></div></aside></div><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2021/12/24/git/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="Git | Jarod's Blog"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Git</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-12-24 18:06:38" itemprop="dateCreated datePublished" datetime="2021-12-24T18:06:38+08:00">2021-12-24</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2025-12-28 15:54:18" itemprop="dateModified" datetime="2025-12-28T15:54:18+08:00">2025-12-28</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a> </span></span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>7.6k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>7 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><h3 id="初次使用配置用户信息"><a href="#初次使用配置用户信息" class="headerlink" title="初次使用配置用户信息"></a>初次使用配置用户信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;malu&quot;</span><br><span class="line">git config --global user.email &quot;malu@malu.me&quot;</span><br><span class="line"></span><br><span class="line">git config --global alias.l &#x27;log --pretty=format:&quot;%h %ad [%an] %s%d&quot; --date=format:&quot;%Y-%m-%d %H:%M&quot; --no-merges -30&#x27;</span><br><span class="line">git config --global alias.ll &#x27;log --pretty=format:&quot;%h %ad [%an] %s%d&quot; --date=format:&quot;%Y-%m-%d %H:%M&quot; --stat -6&#x27;</span><br><span class="line">git config --global alias.lll &#x27;log --pretty=format:&quot;%h %ad [%an] %s%d&quot; --date=format:&quot;%Y-%m-%d %H:%M&quot; --stat --graph -10&#x27;</span><br><span class="line"></span><br><span class="line">git config --global alias.s &#x27;status --short&#x27;</span><br><span class="line"></span><br><span class="line"># 防止gitk中文乱码</span><br><span class="line">git config --global gui.encoding utf-8</span><br></pre></td></tr></table></figure><h3 id="使用HTTP-basic-auth-clone"><a href="#使用HTTP-basic-auth-clone" class="headerlink" title="使用HTTP basic auth clone"></a>使用HTTP basic auth clone</h3><p>使用http方式去clone时，如果用户名密码包含特殊字符，则都需要URL encode 比如用户名含有邮箱的@符号时需要转换成%40</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://malu%40malu.me:password@github.com/pingmalu/test.git </span><br></pre></td></tr></table></figure><h3 id="git赋予文件权限"><a href="#git赋予文件权限" class="headerlink" title="git赋予文件权限"></a>git赋予文件权限</h3><p>查看当前权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[localhost]$ git ls-files --stage run.sh</span><br><span class="line">100644 c1bda43ae2d82769f5e66404fdbe7d752ddb383b 0       run.sh</span><br></pre></td></tr></table></figure><p>增加可执行权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[localhost]$ git update-index --chmod +x run.sh</span><br></pre></td></tr></table></figure><h3 id="git添加多个远程仓库"><a href="#git添加多个远程仓库" class="headerlink" title="git添加多个远程仓库"></a>git添加多个远程仓库</h3><p>添加新的远程仓库:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add malu https://malu.me/project/xxx.git</span><br></pre></td></tr></table></figure><p>将本地的所有分支推送到新的远程仓库:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --all malu</span><br></pre></td></tr></table></figure><p>强制推送到新的远程仓库:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -f malu</span><br></pre></td></tr></table></figure><h1 id="git基本使用方法"><a href="#git基本使用方法" class="headerlink" title="git基本使用方法"></a>git基本使用方法</h1><h3 id="查看远程仓库地址"><a href="#查看远程仓库地址" class="headerlink" title="查看远程仓库地址"></a>查看远程仓库地址</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><h3 id="查看所有分支"><a href="#查看所有分支" class="headerlink" title="查看所有分支"></a>查看所有分支</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -a</span><br></pre></td></tr></table></figure><h3 id="查看每次提交的所有文件列表"><a href="#查看每次提交的所有文件列表" class="headerlink" title="查看每次提交的所有文件列表"></a>查看每次提交的所有文件列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --stat</span><br></pre></td></tr></table></figure><h3 id="查看特定的commit-id中的文件列表"><a href="#查看特定的commit-id中的文件列表" class="headerlink" title="查看特定的commit id中的文件列表"></a>查看特定的commit id中的文件列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show --stat &lt;commit id&gt;</span><br></pre></td></tr></table></figure><h3 id="查看最近一次提交的文件列表"><a href="#查看最近一次提交的文件列表" class="headerlink" title="查看最近一次提交的文件列表"></a>查看最近一次提交的文件列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git show --stat</span><br><span class="line">或</span><br><span class="line">git log --stat -1</span><br></pre></td></tr></table></figure><h3 id="查看配置"><a href="#查看配置" class="headerlink" title="查看配置"></a>查看配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config -l</span><br></pre></td></tr></table></figure><h3 id="一次完整提交"><a href="#一次完整提交" class="headerlink" title="一次完整提交"></a>一次完整提交</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m&#x27;修改BUG&#x27;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><h1 id="使用代理"><a href="#使用代理" class="headerlink" title="使用代理"></a>使用代理</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config http.proxy http://user:pwd@server.com:port</span><br></pre></td></tr></table></figure><p>http全局代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy http://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>http当前项目代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --local http.proxy http://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>socks5全局代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy socks5://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>socks5全局代理，只对github.com</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.https://github.com.proxy socks5://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>clone时使用代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/xxx.git -c http.proxy=socks5://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>clone时使用代理并取最新的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/xxx.git -c http.proxy=socks5://127.0.0.1:1080 --depth=1</span><br></pre></td></tr></table></figure><p>取消代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset http.proxy</span><br></pre></td></tr></table></figure><p>取消只对github.com的代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset http.https://github.com.proxy</span><br></pre></td></tr></table></figure><h1 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h1><p>显示文件的每一行是在哪个版本最后修改。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git blame filename.c </span><br></pre></td></tr></table></figure><p>查找commit内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log  --pretty=onelinegrep 关键字</span><br></pre></td></tr></table></figure><p>查看用户代码量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --stat --author=&#x27;username&#x27;perl -ne &#x27;END &#123; print $c &#125; $c += $1 if /(\d+) insertions/;&#x27;</span><br></pre></td></tr></table></figure><h1 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h1><p>查看本地分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure><p>查看所有分支 （加-v显示最后一次提交信息）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -a -v</span><br></pre></td></tr></table></figure><p>本地创建分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch dev</span><br></pre></td></tr></table></figure><p>将本地分支上传至远程</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><p>下载在线的一个分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch dev origin/dev</span><br></pre></td></tr></table></figure><p>删除本地分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d dev</span><br></pre></td></tr></table></figure><p>删除远程分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -r -d origin/branch-name</span><br><span class="line">git push origin :branch-name</span><br></pre></td></tr></table></figure><p>切换本地分支到dev</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout dev</span><br></pre></td></tr></table></figure><h1 id="合并分支"><a href="#合并分支" class="headerlink" title="合并分支"></a>合并分支</h1><p>1.开发分支（dev）上的代码达到上线的标准后，要合并到 master 分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout dev</span><br><span class="line">git pull</span><br><span class="line">git checkout master</span><br><span class="line">git merge dev</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><p>2.当master代码改动了，需要更新开发分支（dev）上的代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout master </span><br><span class="line">git pull </span><br><span class="line">git checkout dev</span><br><span class="line">git merge master </span><br><span class="line">git push -u origin dev</span><br></pre></td></tr></table></figure><p>3.假设本地有2个分支dev master,要把dev合并到master 也可以</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge dev master</span><br></pre></td></tr></table></figure><p>4.把dev合并到master还可以</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase dev master</span><br></pre></td></tr></table></figure><h2 id="合并冲突解决"><a href="#合并冲突解决" class="headerlink" title="合并冲突解决"></a>合并冲突解决</h2><p>1.如果合并冲突取对方代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge -s recursive -X theirs dev --allow-unrelated-histories</span><br></pre></td></tr></table></figure><p>2.如果合并冲突取当前分支代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge -s recursive -X ours dev --allow-unrelated-histories</span><br></pre></td></tr></table></figure><p>–allow-unrelated-histories 把两段不相干的 分支进行强行合并 3.一个分支完全覆盖另一个分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout master  // 切换到旧的分支</span><br><span class="line">git reset –hard dev   // 将本地的旧分支 master 重置成 dev</span><br><span class="line">git push origin master –force  // 再推送到远程仓库</span><br></pre></td></tr></table></figure><h1 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h1><p>本地新建标签</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a only_apache -m &quot;只有apache集成环境&quot;</span><br></pre></td></tr></table></figure><p>查看本地标签</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag</span><br></pre></td></tr></table></figure><p>切换至指定标签</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout only_apache</span><br></pre></td></tr></table></figure><p>把所有本地标签提交到服务器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --tags</span><br></pre></td></tr></table></figure><p>将标签only_apache提交到服务器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin only_apache</span><br></pre></td></tr></table></figure><h1 id="切换远程分支，Git每次提交需要密码处理"><a href="#切换远程分支，Git每次提交需要密码处理" class="headerlink" title="切换远程分支，Git每次提交需要密码处理"></a>切换远程分支，Git每次提交需要密码处理</h1><p>把远程分支从https切换到ssh模式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 先查看远程分支</span><br><span class="line">git remote -v</span><br><span class="line"># 删除远程分支</span><br><span class="line">git remote rm origin</span><br><span class="line"># 添加远程分支</span><br><span class="line">git remote add origin git@github.com:pingmalu/test.git</span><br></pre></td></tr></table></figure><h2 id="Git-合并遇到冲突解决办法"><a href="#Git-合并遇到冲突解决办法" class="headerlink" title="Git 合并遇到冲突解决办法"></a>Git 合并遇到冲突解决办法</h2><h3 id="1-使用栈保存编辑数据后pull下来再合并"><a href="#1-使用栈保存编辑数据后pull下来再合并" class="headerlink" title="1.使用栈保存编辑数据后pull下来再合并"></a>1.使用栈保存编辑数据后pull下来再合并</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git stash: 备份当前的工作区的内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前的工作区内容保存到Git栈中。</span><br><span class="line">git pull:  暂存了本地修改之后，就可以pull了。</span><br><span class="line">git stash pop: 从Git栈中读取最近一次保存的内容，恢复工作区的相关内容。由于可能存在多个Stash的内容，所以用栈来管理，pop会从最近的一个stash中读取内容并恢复。</span><br><span class="line">git stash pop stash@&#123;$num&#125;: 如果要应用并删除其他stash，命令：git stash pop stash@&#123;$num&#125; ，比如应用并删除第二个：git stash pop stash@&#123;1&#125;</span><br><span class="line">git stash list: 显示Git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。</span><br><span class="line">git stash clear: 清空Git栈。此时使用gitg等图形化工具会发现，原来stash的哪些节点都消失了。</span><br></pre></td></tr></table></figure><h3 id="2-从xxxx分支合并到dev"><a href="#2-从xxxx分支合并到dev" class="headerlink" title="2.从xxxx分支合并到dev"></a>2.从xxxx分支合并到dev</h3><p>先把xxxx分支上的提交hash找出来，再去dev上执行cherry-pick:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick a2a544fd01c2578046b335636e4</span><br><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><h2 id="Git后悔药-慎用"><a href="#Git后悔药-慎用" class="headerlink" title="Git后悔药(慎用)"></a>Git后悔药(慎用)</h2><h3 id="放弃本地修改"><a href="#放弃本地修改" class="headerlink" title="放弃本地修改"></a>放弃本地修改</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard</span><br><span class="line">git clean -df</span><br></pre></td></tr></table></figure><p>其他：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached &lt;FILE&gt;：已 add（tracked） 未 commit 的文件，使其回到未 add 状态（untracked）。</span><br><span class="line">git rm -f &lt;FILE&gt;： 从本地删除已 add 的文件。</span><br><span class="line">git checkout -- &lt;FILE&gt; ：有修改的文件回到 tracked 状态，对已 tracked 的文件撤销修改。</span><br><span class="line">git reset HEAD &lt;FILE&gt;：撤销 commit，回到 modified 状态。</span><br><span class="line">git reset --soft HEAD^：撤销 commit，回到 tracked 状态。</span><br><span class="line">git clean：删除所有 untracked 文件。</span><br><span class="line"></span><br><span class="line">git clean -n：演习</span><br><span class="line">git clean -f：删除当前目录下 untracked 文件，除过 .gitignore 里的文件或文件夹</span><br><span class="line">git clean -f &lt;path&gt;：指定路径下</span><br><span class="line">git clean -df：删除当前目录下 untracked 文件和文件夹</span><br><span class="line">git clean -xf：删除当前目录下所有 untracked 文件，不管 .gitignore</span><br></pre></td></tr></table></figure><h3 id="放弃本地修改，使用远程最新版本"><a href="#放弃本地修改，使用远程最新版本" class="headerlink" title="放弃本地修改，使用远程最新版本"></a>放弃本地修改，使用远程最新版本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch --all</span><br><span class="line">git reset --hard origin/master</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><h3 id="如果只需要移除一个文件"><a href="#如果只需要移除一个文件" class="headerlink" title="如果只需要移除一个文件"></a>如果只需要移除一个文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset &lt;文件名&gt;</span><br></pre></td></tr></table></figure><h3 id="或者如果你想从暂存区移除所有没有提交的修改"><a href="#或者如果你想从暂存区移除所有没有提交的修改" class="headerlink" title="或者如果你想从暂存区移除所有没有提交的修改"></a>或者如果你想从暂存区移除所有没有提交的修改</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset</span><br></pre></td></tr></table></figure><h3 id="放弃远程上一次提交的内容"><a href="#放弃远程上一次提交的内容" class="headerlink" title="放弃远程上一次提交的内容"></a>放弃远程上一次提交的内容</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line">或用：</span><br><span class="line">git reset --hard HEAD~1</span><br><span class="line"></span><br><span class="line">git push --force</span><br></pre></td></tr></table></figure><h3 id="修改错误的提交信息"><a href="#修改错误的提交信息" class="headerlink" title="修改错误的提交信息"></a>修改错误的提交信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend -m ”YOUR-NEW-COMMIT-MESSAGE”</span><br><span class="line">git push &lt;remote&gt; &lt;branch&gt; --force</span><br></pre></td></tr></table></figure><h3 id="恢复某个文件到指定hash"><a href="#恢复某个文件到指定hash" class="headerlink" title="恢复某个文件到指定hash"></a>恢复某个文件到指定hash</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout fc0c4369b362a38 .\index.html</span><br></pre></td></tr></table></figure><h2 id="Stash未提交的更改"><a href="#Stash未提交的更改" class="headerlink" title="Stash未提交的更改"></a>Stash未提交的更改</h2><p>stash在本质上会取走所有的变更并存储它们为以备将来使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure><p>检查stash列表，你可以运行下面的命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash list</span><br></pre></td></tr></table></figure><p>如果想要解除stash并且恢复未提交的变更</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash apply</span><br></pre></td></tr></table></figure><p>每个stash都有一个标识符，一个唯一的号码（尽管在这种情况下只有一个stash）。 如果只想留有余地进行apply stash，你应该给apply添加特定的标识符</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash apply stash@&#123;2&#125;</span><br></pre></td></tr></table></figure><p>如果想取出stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash pop</span><br></pre></td></tr></table></figure><p>取出指定stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash pop stash@&#123;2&#125;</span><br></pre></td></tr></table></figure><p>清除stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash drop stash@&#123;0&#125;</span><br></pre></td></tr></table></figure><p>清除所有stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash clear</span><br></pre></td></tr></table></figure><p>找回删除的stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fsck --lost-found</span><br><span class="line">git show 8dd73fa8d14880182f11e24dc10bca570b6127d7</span><br></pre></td></tr></table></figure><hr><h1 id="Ubuntu-git升级到最新版"><a href="#Ubuntu-git升级到最新版" class="headerlink" title="Ubuntu git升级到最新版"></a>Ubuntu git升级到最新版</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt-get install software-properties-common</span><br><span class="line">add-apt-repository ppa:git-core/ppa</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install git</span><br></pre></td></tr></table></figure><h2 id="cmd下git-log乱码"><a href="#cmd下git-log乱码" class="headerlink" title="cmd下git log乱码"></a>cmd下git log乱码</h2><p>windows配置环境变量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LESSCHARSET 为 utf-8</span><br></pre></td></tr></table></figure><p>统一配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git config --global i18n.commitencoding utf-8</span><br><span class="line">git config --global i18n.logoutputencoding utf-8</span><br><span class="line"></span><br><span class="line">export LESSCHARSET=utf-8 ## linux bash配置环境变量</span><br><span class="line">set LESSCHARSET=utf-8 #windows配置环境变量</span><br></pre></td></tr></table></figure><h3 id="gitk乱码问题"><a href="#gitk乱码问题" class="headerlink" title="gitk乱码问题"></a>gitk乱码问题</h3><p>编辑C:\Users\Administrator\.gitconfig 全局文件（也可编辑项目目录.git&#x2F;config用于设定单个项目）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[gui]</span><br><span class="line">  encoding = utf-8</span><br><span class="line">[i18n]</span><br><span class="line">  commitencoding = &#123;utf-8gbk&#125;</span><br></pre></td></tr></table></figure><p>[gui]用于设定gitk总的编码格式 [i18n]用于设定commit等编码，这个默认不需要去设置</p><h3 id="Git-Bash中查看log中文乱码"><a href="#Git-Bash中查看log中文乱码" class="headerlink" title="Git Bash中查看log中文乱码"></a>Git Bash中查看log中文乱码</h3><p>修改%Git%\etc\profile (Linux下为 ~&#x2F;.bash_profile 文件)，在末尾添加如下一行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LESSCHARSET=utf-8</span><br></pre></td></tr></table></figure><p>要马上生效，直接设置该环境变量，或者重新登录</p><h3 id="git-diff乱码问题也可以用上面的设置"><a href="#git-diff乱码问题也可以用上面的设置" class="headerlink" title="git diff乱码问题也可以用上面的设置"></a>git diff乱码问题也可以用上面的设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LESSCHARSET=utf-8</span><br></pre></td></tr></table></figure><h2 id="git-bash-乱码临时转换"><a href="#git-bash-乱码临时转换" class="headerlink" title="git-bash 乱码临时转换"></a>git-bash 乱码临时转换</h2><p>utf-8转gbk</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status  iconv -f utf-8 -t gbk</span><br></pre></td></tr></table></figure><p>gbk 转 utf-8 输出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winpty ipconfig</span><br></pre></td></tr></table></figure><h2 id="解决-idea-Terminal-配置-git-bash-中文乱码"><a href="#解决-idea-Terminal-配置-git-bash-中文乱码" class="headerlink" title="解决 idea Terminal 配置 git bash 中文乱码"></a>解决 idea Terminal 配置 git bash 中文乱码</h2><p>修改：C:\Program Files\Git\etc\bash.bashrc 文件，在这个文件末尾追加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export LANG=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">export LC_ALL=&quot;zh_CN.UTF-8&quot;</span><br></pre></td></tr></table></figure><h1 id="ERROR"><a href="#ERROR" class="headerlink" title="ERROR"></a>ERROR</h1><h3 id="git-pull-报错："><a href="#git-pull-报错：" class="headerlink" title="git pull 报错："></a>git pull 报错：</h3><blockquote><p>Auto packing the repository for optimum performance. You may also run “git gc” manually. See “git help gc” for more information.</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git gc</span><br></pre></td></tr></table></figure><p>由于git本身不保存文件之前的差异文件.只保存每个文件的快照.所以在频繁修改大文件的情况下会造成git目录变得肥大不堪.git早就有了解决方案.git gc后,会在.git目录下生成一个packfile与idx文件.只保存文件差异</p><h3 id="Git忽略规则及-gitignore规则不生效的解决办法"><a href="#Git忽略规则及-gitignore规则不生效的解决办法" class="headerlink" title="Git忽略规则及.gitignore规则不生效的解决办法"></a>Git忽略规则及.gitignore规则不生效的解决办法</h3><p>原因是.gitignore只能忽略那些原来没有被track的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore是无效的。 那么解决方法就是先把本地缓存删除（改变成未track状态），然后再提交：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached .    #将会移除所有的缓存索引</span><br><span class="line">git add .</span><br><span class="line">git commit -m &#x27;update .gitignore&#x27;</span><br></pre></td></tr></table></figure><p>!!! 还有一种可能是.gitignore的文件编码问题导致 比如我遇到Unicode的编码，把它改成ANSI即可</p><h3 id="git-pull的时候遇到"><a href="#git-pull的时候遇到" class="headerlink" title="git pull的时候遇到"></a>git pull的时候遇到</h3><blockquote><p>Unlink of file ‘.git&#x2F;objects&#x2F;pack&#x2F;pack-***.pack’ failed. Should I try again? (y&#x2F;n) y</p></blockquote><p>上面的问题，按n或者y都没有用，先Ctrl+C 再执行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git gc --auto  #自动清理本地的文件</span><br><span class="line">git repack -d -l   #将版本库未打包的松散对象打包</span><br></pre></td></tr></table></figure><h3 id="openshift-git-clone-Permission-denied"><a href="#openshift-git-clone-Permission-denied" class="headerlink" title="openshift git clone Permission denied"></a>openshift git clone Permission denied</h3><p>openshift执行git clone ssh:&#x2F;&#x2F;<a href="mailto:&#120;&#120;&#120;&#x40;&#x78;&#x78;&#120;&#x2e;&#114;&#x68;&#99;&#x6c;&#x6f;&#x75;&#x64;&#x2e;&#99;&#x6f;&#x6d;">xxx@xxx.rhcloud.com</a>&#x2F;~&#x2F;git&#x2F;xxx.git&#x2F; 时报错 ：</p><blockquote><p>Permission denied (publickey,gssapi-keyex,gssapi-with-mic). fatal: Could not read from remote repository. Please make sure you have the correct access rights and the repository exists.</p></blockquote><p>解决办法： 将密钥拷贝的.ssh目录下，改名id_rsa&#x2F;id_rsa.pub（密钥&#x2F;公钥）再执行克隆命令成功解决。</p><h1 id="自动脚本"><a href="#自动脚本" class="headerlink" title="自动脚本"></a>自动脚本</h1><p>每次提交md笔记需要敲命令，感觉太麻烦了，于是有了这个windows BAT脚本 拉取：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">@echo ========================================================</span><br><span class="line">@echo git pull</span><br><span class="line">@echo ========================================================</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><p>提交:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">@echo ========================================================</span><br><span class="line">@echo git push</span><br><span class="line">@echo ========================================================</span><br><span class="line">git add . &amp;&amp; git commit -am &#x27;update&#x27; &amp;&amp; git push</span><br></pre></td></tr></table></figure><h1 id="部署gitlab服务器"><a href="#部署gitlab服务器" class="headerlink" title="部署gitlab服务器"></a>部署gitlab服务器</h1><p>docker安装： <a target="_blank" rel="noopener" href="https://docs.gitlab.com/omnibus/docker/">https://docs.gitlab.com/omnibus/docker/</a></p></div><footer class="post-footer"><div class="post-tags"><a href="/tags/git/" rel="tag"># git</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2021/12/23/%E6%96%B0%E6%89%8B%E6%95%99%E7%A8%8B-debian-10-%E5%A6%82%E4%BD%95%E5%8D%87%E7%BA%A7%E5%AE%98%E6%96%B9buster-backports%E6%BA%905-10-x%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC/" rel="prev" title="新手教程 Debian 10 如何升级官方buster-backports源5.10.X内核版本"><i class="fa fa-angle-left"></i> 新手教程 Debian 10 如何升级官方buster-backports源5.10.X内核版本</a></div><div class="post-nav-item"><a href="/2022/01/05/cdn%E5%85%AC%E5%85%B1%E5%BA%93%E5%8A%A0%E9%80%9F%E6%9C%8D%E5%8A%A1/" rel="next" title="CDN公共库加速服务">CDN公共库加速服务 <i class="fa fa-angle-right"></i></a></div></div></footer></article></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Jarod</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span title="站点总字数">755k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">11:26</span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><div class="sidebar-dimmer"></div><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up fa-lg"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript></body></html>