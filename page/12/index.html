<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"jarod.vip",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"always",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="记录生活中的点点滴滴"><meta property="og:type" content="website"><meta property="og:title" content="Jarod&#39;s Blog"><meta property="og:url" content="https://jarod.vip/page/12/index.html"><meta property="og:site_name" content="Jarod&#39;s Blog"><meta property="og:description" content="记录生活中的点点滴滴"><meta property="og:locale" content="zh_CN"><meta property="article:author" content="Jarod"><meta property="article:tag" content="VPS,hexo,linux,debian,windows,macos"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://jarod.vip/page/12/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!0,isPost:!1,lang:"zh-CN"}</script><title>Jarod's Blog</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-R131WF8QZC"></script><script>function gtag(){dataLayer.push(arguments)}CONFIG.hostname===location.hostname&&(window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-R131WF8QZC"))</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?e67344a16e268228733f496a595ecb7a",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Jarod's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Jarod's Blog</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content index posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2019/10/08/centos%E6%8C%82%E8%BD%BD%E7%A3%81%E7%9B%98%E5%AE%8C%E6%95%B4%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/10/08/centos%E6%8C%82%E8%BD%BD%E7%A3%81%E7%9B%98%E5%AE%8C%E6%95%B4%E5%9B%BE%E6%96%87%E6%95%99%E7%A8%8B/" class="post-title-link" itemprop="url">Centos挂载磁盘完整图文教程</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-10-08 21:32:29" itemprop="dateCreated datePublished" datetime="2019-10-08T21:32:29+08:00">2019-10-08</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>820</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p><strong>1：查看服务器上未挂载的磁盘（磁盘有普通磁盘，高效磁盘，SSD磁盘）；命令如下：</strong></p><p>fdisk –l</p><p><img src="https://www.jarods.org/wp-content/uploads/2019/10/v2-4106065c56bb25db39c6c9dcef85c690_hd.jpg"></p><p>从上图可以看出，服务器的 &#x2F;dev&#x2F;vdb 42.9GB 此磁盘未挂载；</p><h2 id="2：磁盘分区（分区有主分区，扩展-分区，逻辑分区）；命令如下："><a href="#2：磁盘分区（分区有主分区，扩展-分区，逻辑分区）；命令如下：" class="headerlink" title="2：磁盘分区（分区有主分区，扩展 分区，逻辑分区）；命令如下："></a>2：磁盘分区（分区有主分区，扩展 分区，逻辑分区）；命令如下：</h2><p>fdisk &#x2F;dev&#x2F;vdb</p><p>n-&gt;p-&gt;1-&gt;回车-&gt;回车-&gt;w</p><p><img src="https://www.jarods.org/wp-content/uploads/2019/10/v2-e7513c23320fe2d00049c684084e9f35_hd.jpg"></p><p>上图的大概意思是这样的：</p><p>n：添加一个分区</p><p>P：主分区</p><p>两个回车指是开始和结束的磁盘大小；</p><p>w：写入磁盘</p><p>此时磁盘虽然已经分区，但是还没有文件系统，磁盘依然不能用；</p><p>博主服务器只购买了一块数据盘，所以我就全部用来做主分区了，如果你想把一个磁盘分成好几块，可以继续按此命令分区即可；你可以继续创建扩展分区……；</p><h2 id="3：格式化磁盘并写入文件系统：命令如下："><a href="#3：格式化磁盘并写入文件系统：命令如下：" class="headerlink" title="3：格式化磁盘并写入文件系统：命令如下："></a>3：格式化磁盘并写入文件系统：命令如下：</h2><p>mkfs.ext4 &#x2F;dev&#x2F;vdb1 &#x2F;&#x2F;这里可以用ext3，也可以用ext4；</p><p>出现如下图这们的界面，就是格式化磁盘写入文件成功：</p><p><img src="https://www.jarods.org/wp-content/uploads/2019/10/v2-24b491bb3789a42f60781b188c03c996_hd.jpg"></p><h2 id="4：挂载新磁盘到操作系统的某个节点上，命令如下："><a href="#4：挂载新磁盘到操作系统的某个节点上，命令如下：" class="headerlink" title="4：挂载新磁盘到操作系统的某个节点上，命令如下："></a>4：挂载新磁盘到操作系统的某个节点上，命令如下：</h2><p>mkdir &#x2F;mydata</p><p>mount &#x2F;dev&#x2F;vdb1 &#x2F;mydata</p><p>在系统的根创建一个mydata，把这个磁盘挂载到此目录；挂载位置可以自己随意创建；</p><h2 id="5：查看磁盘信息，确认挂载新磁盘是否成功，命令如下："><a href="#5：查看磁盘信息，确认挂载新磁盘是否成功，命令如下：" class="headerlink" title="5：查看磁盘信息，确认挂载新磁盘是否成功，命令如下："></a>5：查看磁盘信息，确认挂载新磁盘是否成功，命令如下：</h2><p>df</p><p>如果挂载成功，会出现如下图这样的界面；</p><p><img src="https://www.jarods.org/wp-content/uploads/2019/10/v2-9ff0cf49e020f3b6e4ad12990a933060_hd.jpg"></p><h2 id="6：查看磁盘所有信息；"><a href="#6：查看磁盘所有信息；" class="headerlink" title="6：查看磁盘所有信息；"></a>6：查看磁盘所有信息；</h2><p>当我们再来查所有分区时，用fdisk -l 命令就会多了一个主分区，&#x2F;dev&#x2F;vdb1；如下图：</p><p><img src="https://www.jarods.org/wp-content/uploads/2019/10/v2-c72776117591a916568612b49a71cd05_hd.jpg"></p><h2 id="7：设置开机启动自动挂载；"><a href="#7：设置开机启动自动挂载；" class="headerlink" title="7：设置开机启动自动挂载；"></a>7：设置开机启动自动挂载；</h2><p>新创建的分区不能开机自动挂载，每次重启机器都要手动挂载。</p><p>设置开机自动挂载需要修改&#x2F;etc&#x2F;fstab文件 ；命令如下：</p><p>echo “&#x2F;dev&#x2F;vdb1 &#x2F;mydata ext4 defaults 0 0” &gt;&gt; &#x2F;etc&#x2F;fstab</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2019/10/05/cloudflare-%E8%87%AA%E5%AE%9A%E4%B9%89ip%E8%8A%82%E7%82%B9%E6%94%B6%E5%BD%95/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/10/05/cloudflare-%E8%87%AA%E5%AE%9A%E4%B9%89ip%E8%8A%82%E7%82%B9%E6%94%B6%E5%BD%95/" class="post-title-link" itemprop="url">Cloudflare 自定义IP节点收录</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-10-05 21:13:11" itemprop="dateCreated datePublished" datetime="2019-10-05T21:13:11+08:00">2019-10-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>2.4k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="CFIP白名单"><a href="#CFIP白名单" class="headerlink" title="CFIP白名单"></a>CFIP白名单</h2><p>173.245.48.0&#x2F;20<br>103.21.244.0&#x2F;22<br>103.22.200.0&#x2F;22<br>103.31.4.0&#x2F;22<br>141.101.64.0&#x2F;18<br>108.162.192.0&#x2F;18<br>190.93.240.0&#x2F;20<br>188.114.96.0&#x2F;20<br>197.234.240.0&#x2F;22<br>198.41.128.0&#x2F;17<br>162.158.0.0&#x2F;15<br>104.16.0.0&#x2F;12<br>172.64.0.0&#x2F;13<br>131.0.72.0&#x2F;22</p><h2 id="百度云加速与Cloudflare合作节点"><a href="#百度云加速与Cloudflare合作节点" class="headerlink" title="百度云加速与Cloudflare合作节点"></a>百度云加速与Cloudflare合作节点</h2><p>162.159.211.4-103</p><p>103.21.244.0&#x2F;22<br>103.22.200.0&#x2F;22<br>103.31.4.0&#x2F;22<br>104.16.0.0&#x2F;12<br>108.162.192.0&#x2F;18<br>131.0.72.0&#x2F;22<br>141.101.64.0&#x2F;18<br>162.158.0.0&#x2F;15<br>172.64.0.0&#x2F;13<br>173.245.48.0&#x2F;20<br>188.114.96.0&#x2F;20<br>190.93.240.0&#x2F;20<br>197.234.240.0&#x2F;22<br>198.41.128.0&#x2F;17</p><h2 id="Cloudflare节点推荐"><a href="#Cloudflare节点推荐" class="headerlink" title="Cloudflare节点推荐"></a>Cloudflare节点推荐</h2><p><a target="_blank" rel="noopener" href="http://www.moeelf.com/archives/10.html">www.moeelf.com/archives/10.html</a></p><p>CloudFlare 百度云合作 ip：</p><p>162.159.208.4-162.159.208.103</p><p>162.159.209.4-162.159.209.103</p><p>162.159.210.4-162.159.210.103</p><p>162.159.211.4-162.159.211.103</p><p>官方列表：CloudFlare公开的节点 <a target="_blank" rel="noopener" href="https://www.cloudflare.com/zh-cn/ips/">https://www.cloudflare.com/zh-cn/ips/</a></p><p>各线路推荐列表：<br>电信：推荐走圣何塞，例：104.16.160.* 或者上面的百度云合作 ip。<br>移动：推荐走移动香港，例：172.64.32.*、141.101.115.* 或者 104.23.240.0-104.23.243.254。<br>联通：没发布什么好线路，可走圣何塞。例：104.16.160.* 或者 104.23.240.0-104.23.243.254。也可以试一下走亚特兰大 108.162.236.*（日前不可用。） 。</p><h2 id="Qi推荐"><a href="#Qi推荐" class="headerlink" title="Qi推荐"></a>Qi推荐</h2><p>108.162.236.1&#x2F;24 联通 走美国<br>172.64.32.1&#x2F;24 移动 走香港<br>104.16.160.1&#x2F;24 电信 走美国洛杉矶<br>———<br>172.64.0.0&#x2F;24 电信 美国旧金山<br>104.20.157.0&#x2F;24 联通 走日本<br>104.28.14.0&#x2F;24 移动 走新加坡<br>（联通移动推荐节点）<br>104.23.240.0-104.23.243.254<br>（电信推荐百度云合作ip）<br>162.159.208.4-162.159.208.103<br>162.159.209.4-162.159.209.103<br>162.159.210.4-162.159.210.103<br>162.159.211.4-162.159.211.103</p><h2 id="适合电信的节点"><a href="#适合电信的节点" class="headerlink" title="适合电信的节点"></a>适合电信的节点</h2><p>104.23.240.* 走欧洲各国出口 英国德国荷兰等 延迟比美国高一些 适合源站在欧洲的网站 172.64.32.* 虽然去程走新加坡，但是回程线路的绕路的，实际效果不好，不推荐 104.16.160.* 圣何塞的线路，比洛杉矶要快一点，推荐 108.162.236.* 亚特兰大线路，延迟稳定，但是延迟较高</p><h2 id="适合移动的节点"><a href="#适合移动的节点" class="headerlink" title="适合移动的节点"></a>适合移动的节点</h2><p>162.158.133.* 走的丹麦，这一段ip只有部分能用，可以自己试一下。绕美国。 198.41.214.* 198.41.212.* 198.41.208.* 198.41.209.* 172.64.32.* 141.101.115.* 移动走香港的IP段有很多，以上并不是全部。CF移动走香港的分直连和走ntt的效果都挺不错的，不过部分地区晚上还是会丢包。 172.64.0. 这是走圣何塞的，一般用香港的就行 172.64.16.* 欧洲线路.绕</p><h2 id="1-0-0-1效果较好"><a href="#1-0-0-1效果较好" class="headerlink" title="1.0.0.1效果较好"></a>1.0.0.1效果较好</h2><h2 id="电信部分"><a href="#电信部分" class="headerlink" title="电信部分"></a>电信部分</h2><p>大多数省直接使用1.0.0.0即可，延迟低，丢包少， 少部分还是需要换ip</p><h3 id="新加坡"><a href="#新加坡" class="headerlink" title="新加坡"></a>新加坡</h3><p>172.64.32.0-172.64.47.254</p><h3 id="移动部分"><a href="#移动部分" class="headerlink" title="移动部分"></a>移动部分</h3><h3 id="新加坡-1"><a href="#新加坡-1" class="headerlink" title="新加坡"></a>新加坡</h3><p>104.18.48.0-104.18.63.255 104.24.112.0-104.24.127.255 104.27.128.0-104.27.143.255 104.28.0.0-104.28.15.255</p><h3 id="移动部分-1"><a href="#移动部分-1" class="headerlink" title="移动部分"></a>移动部分</h3><h3 id="圣何塞-cogentco-com"><a href="#圣何塞-cogentco-com" class="headerlink" title="圣何塞 cogentco.com"></a>圣何塞 cogentco.com</h3><p>104.28.16.0-31.255 104.27.144.0-243.254 104.23.240.0-243.254</p><h3 id="香港cloudflare1-100g-hkix-net"><a href="#香港cloudflare1-100g-hkix-net" class="headerlink" title="香港cloudflare1-100g.hkix.net"></a>香港cloudflare1-100g.hkix.net</h3><p>大部分都是这个通道 1.0.0.0-254 1.1.1.0-254 66.235.200.0-254 此段为IPOWER.COM endurance.com专用，有可能被跳转到IPOWER.COM endurance.com页面 104.16.80.0-95.255 104.16.175.255-104.16.191.255</p><h3 id="香港直连"><a href="#香港直连" class="headerlink" title="香港直连"></a>香港直连</h3><p>23.227.63.0-254 此段为shopify.com专用，有可能被跳转到shopify.com页面 104.16.0.0-79.255 104.16.96.0-175.254 104.16.192.0-207.255</p><h3 id="新加坡-ae-0-cloudflare-sngpsi07-sg-bb-gin-ntt-net"><a href="#新加坡-ae-0-cloudflare-sngpsi07-sg-bb-gin-ntt-net" class="headerlink" title="新加坡 ae-0.cloudflare.sngpsi07.sg.bb.gin.ntt.net"></a>新加坡 ae-0.cloudflare.sngpsi07.sg.bb.gin.ntt.net</h3><p>都从香港ntt转发 104.28.0.0-15.255</p><h3 id="联通部分"><a href="#联通部分" class="headerlink" title="联通部分"></a>联通部分</h3><h3 id="伦敦-cloudflare-gw-cr10-lon1-ip4-gtt-net"><a href="#伦敦-cloudflare-gw-cr10-lon1-ip4-gtt-net" class="headerlink" title="伦敦 cloudflare-gw.cr10-lon1.ip4.gtt.net"></a>伦敦 cloudflare-gw.cr10-lon1.ip4.gtt.net</h3><p>172.64.19.16</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2019/10/05/centos%E7%B2%BE%E7%AE%80%E4%B8%8E%E4%BC%98%E5%8C%96/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/10/05/centos%E7%B2%BE%E7%AE%80%E4%B8%8E%E4%BC%98%E5%8C%96/" class="post-title-link" itemprop="url">CentOS精简与优化</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-10-05 21:12:17" itemprop="dateCreated datePublished" datetime="2019-10-05T21:12:17+08:00">2019-10-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.9k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>CentOS安装完毕后，需要进行的优化步骤。</p><blockquote><p>注意：本文所述的优化，是针对于VPS环境的，桌面环境和独立服务器的CentOS请勿使用本文中的方法进行优化，否则可能导致桌面环境不正常。独立服务器也不要使用本文中的方法去优化，否则会引起异常~</p></blockquote><h2 id="1，删除不必要的软件包"><a href="#1，删除不必要的软件包" class="headerlink" title="1，删除不必要的软件包"></a>1，删除不必要的软件包</h2><p>yum remove Deployment_Guide-en-US finger cups-libs cups ypbind<br>yum remove bluez-libs desktop-file-utils ppp rp-pppoe wireless-tools irda-utils<br>yum remove sendmail* samba* talk-server finger-server bind* xinetd<br>yum remove nfs-utils nfs-utils-lib rdate fetchmail eject ksh mkbootdisk mtools<br>yum remove syslinux tcsh startup-notification talk apmd rmt dump setserial portmap yp-tools<br>yum groupremove “Mail Server” “Games and Entertainment” “X Window System” “X Software Development” yum groupremove “Development Libraries” “Dialup Networking Support” yum groupremove “Games and Entertainment” “Sound and Video” “Graphics” “Editors” yum groupremove “Text-based Internet” “GNOME Desktop Environment” “GNOME Software Development”</p><h2 id="2，升级整个系统"><a href="#2，升级整个系统" class="headerlink" title="2，升级整个系统"></a>2，升级整个系统</h2><p>yum update #更新全部更新 yum clean all #清理全部缓存的安装文件以节省空间</p><h2 id="3，禁用seLinux"><a href="#3，禁用seLinux" class="headerlink" title="3，禁用seLinux"></a>3，禁用seLinux</h2><p>sestatus 先执行这一句看看seLinux状态，如果不是disabled，那么执行如下步骤将其禁用 vi &#x2F;etc&#x2F;selinux&#x2F;config<br>SELINUX=disabled 禁用SeLinux SELINUX=enforcing 使用SeLinux</p><h2 id="4，停止网卡对ipv6的支持"><a href="#4，停止网卡对ipv6的支持" class="headerlink" title="4，停止网卡对ipv6的支持"></a>4，停止网卡对ipv6的支持</h2><p>vi &#x2F;etc&#x2F;modprobe.conf 添加如下行到文尾：<br>alias net-pf-10 off alias ipv6 off</p><p>重启后生效。</p><h2 id="5，修改环境变量语言编码，防止出现乱码"><a href="#5，修改环境变量语言编码，防止出现乱码" class="headerlink" title="5，修改环境变量语言编码，防止出现乱码"></a>5，修改环境变量语言编码，防止出现乱码</h2><p>vi &#x2F;etc&#x2F;profile 找到export PATH ……这一行，在其上面加上一行 LANG=en_US.UTF-8<br>然后在export PATH ……这一行后面补充一个LANG<br>source &#x2F;etc&#x2F;profile</p><h2 id="6，初始化防火墙"><a href="#6，初始化防火墙" class="headerlink" title="6，初始化防火墙"></a>6，初始化防火墙</h2><p>touch &#x2F;etc&#x2F;sysconfig&#x2F;iptables<br>iptables -F<br>iptables -X<br>iptables -Z<br>service iptables save<br>service iptables restart</p><h2 id="7，来个一键优化脚本，自动禁用无用服务，且禁止其开机自启动"><a href="#7，来个一键优化脚本，自动禁用无用服务，且禁止其开机自启动" class="headerlink" title="7，来个一键优化脚本，自动禁用无用服务，且禁止其开机自启动"></a>7，来个一键优化脚本，自动禁用无用服务，且禁止其开机自启动</h2><p>#! &#x2F;bin&#x2F;bash service acpid off<br>service atd stop<br>service auditd stop<br>service avahi-daemon stop<br>service avahi-dnsconfd stop<br>service bluetooth stop<br>service conman stop<br>service cpuspeed stop<br>service cups stop<br>service dnsmasq stop<br>service dund stop<br>service firstboot stop<br>service hidd stop<br>service httpd stop<br>service ibmasm stop<br>service ip6tables stop<br>service irda stop<br>service kdump stop<br>service lm_sensors stop<br>service mcstrans stop<br>service messagebus stop<br>service microcode_ctl stop<br>service netconsole stop<br>service netfs stop<br>service netplugd stop<br>service nfs stop<br>service nfslock stop<br>service nscd stop<br>service ntpd stop<br>service oddjobd stop</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2019/09/28/linux%E4%B8%8B%EF%BC%8C%E5%AE%89%E8%A3%85rclone%EF%BC%8C%E6%8C%82%E8%BD%BDgoogle-drive%E3%80%81onedrive%E3%80%81webdav%E3%80%81ftp%E7%AD%89%E7%AD%89%EF%BC%9B%E4%BA%92%E7%9B%B8%E6%8B%B7%E8%B4%9D/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/09/28/linux%E4%B8%8B%EF%BC%8C%E5%AE%89%E8%A3%85rclone%EF%BC%8C%E6%8C%82%E8%BD%BDgoogle-drive%E3%80%81onedrive%E3%80%81webdav%E3%80%81ftp%E7%AD%89%E7%AD%89%EF%BC%9B%E4%BA%92%E7%9B%B8%E6%8B%B7%E8%B4%9D/" class="post-title-link" itemprop="url">Linux下，安装Rclone，挂载Google Drive、OneDrive、WebDAV、FTP等等；互相拷贝、备份文件等</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-09-28 16:14:53" itemprop="dateCreated datePublished" datetime="2019-09-28T16:14:53+08:00">2019-09-28</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.5k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>Rclone，Linux下，可挂载Google Drive、OneDrive、WebDAV、FTP等等，堪称神器。下面是安装和使用教程。</p><p><strong>一、安装Rclone</strong> 下面的操作基于Centos系统</p><p>1、安装必须的应用</p><p>yum -y install wget unzip screen fuse fuse-devel</p><p>2、安装Rclone</p><p>curl <a target="_blank" rel="noopener" href="https://rclone.org/install.sh">https://rclone.org/install.sh</a> sudo bash</p><p><strong>二、挂载Google Drive</strong></p><p>1、挂载GDrive</p><p>rclone config</p><p>选择 <em>n</em> ，创建新链接，并命名为 <em>gdrive</em> 。然后选择Google Drive <img src="https://www.jarods.org/wp-content/uploads/2019/09/rclone-01.png"></p><p>client_id、client_secret 留空直接回车，SCOPE 选1，root_folder_id、service_account_file留空回车,Edit advanced config、Use auto config 选择n</p><p>这时，会出现个链接，复制到浏览器中，获取授权代码，并把授权代码粘贴到终端。 根据提示选择，一般为n、y、q <img src="https://www.jarods.org/wp-content/uploads/2019/09/rclone-02.png"></p><p>把Google Drive挂载到服务器上的一个目录。为便于以后web访问，可挂载到&#x2F;www&#x2F;wwwroot&#x2F;下（以下演示为&#x2F;www&#x2F;wwwroot&#x2F;gdrive.xxx.com，gdrive.xxx.com改为自己的域名）</p><p>.&#x2F;rclone mount gdrive: &#x2F;www&#x2F;wwwroot&#x2F;gdrive.xxx.com –allow-other –allow-non-empty –vfs-cache-mode writes</p><p>2、设置开机启动rclone</p><p>先把rclone的可执行文件复制到&#x2F;usr&#x2F;bin：</p><p>cp &#x2F;root&#x2F;rclone-v*&#x2F;rclone &#x2F;usr&#x2F;bin&#x2F;rclone</p><p>新建一个rclone.service文件：</p><p>vi &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;rclone.service</p><p>粘贴：</p><p>[Unit]<br>Description&#x3D;rclone<br>    <br>[Service]<br>User&#x3D;root<br>ExecStart&#x3D;&#x2F;usr&#x2F;bin&#x2F;rclone mount gdrive: &#x2F;www&#x2F;wwwroot&#x2F;gdrive.xxx.com –allow-other –allow-non-empty –vfs-cache-mode writes<br>Restart&#x3D;on-abort<br>    <br>[Install]<br>WantedBy&#x3D;multi-user.target</p><p>重载daemon，让新的服务文件生效：</p><p>systemctl daemon-reload</p><p>启动rclone：</p><p>systemctl start rclone</p><p>设置开机启动：</p><p>systemctl enable rclone</p><p><strong>三、Rclone的操作</strong></p><p>1、列出远程目录（gdrive为之前创建的）</p><p>rclone lsd gdrive</p><p>2、复制文件</p><p>rclone copy 源文件&#x2F;目录 目标目录</p><p>源文件&#x2F;目录、目标目录要绝对路径，均可以为服务器、网盘等 如要保存别人分享的Gdrive，可先保存到自己的网盘，然后复制这些文件到自己的网盘，以免共享的人删除文件。</p><p>rclone copy gdrive:gongxiang&#x2F;japan gdrive:gongxiang&#x2F;self</p><p>3、同步文件</p><p>rclone sync 源文件&#x2F;目录 目标目录</p><p>这个只同步没有的文件。适合变化较大的文件。</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2019/09/10/cbbr%EF%BC%9A%E9%80%82%E7%94%A8%E4%BA%8Edebian8%E3%80%81ubuntu14%E3%80%81centos6%E7%9A%84bbr%E9%AD%94%E6%94%B9bbr/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/09/10/cbbr%EF%BC%9A%E9%80%82%E7%94%A8%E4%BA%8Edebian8%E3%80%81ubuntu14%E3%80%81centos6%E7%9A%84bbr%E9%AD%94%E6%94%B9bbr/" class="post-title-link" itemprop="url">CBBR：适用于Debian8+、Ubuntu14+、CentOS6+的BBR&魔改BBR</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-09-10 21:50:18" itemprop="dateCreated datePublished" datetime="2019-09-10T21:50:18+08:00">2019-09-10</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.7k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>CBBR：这是一个方便开启魔改bbr&amp;&amp;bbr的脚本。执行两步后最后输出<code>Finish！</code>提示，则成功。</p><h3 id="Debian-x2F-Ubuntu（64位）开启魔改BBR"><a href="#Debian-x2F-Ubuntu（64位）开启魔改BBR" class="headerlink" title="Debian&#x2F;Ubuntu（64位）开启魔改BBR"></a>Debian&#x2F;Ubuntu（64位）开启魔改BBR</h3><p>Ubuntu14.04需要提前：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y software-properties-common</span><br><span class="line">sudo add-apt-repository ppa:ubuntu-toolchain-r/test</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get -y install g++-4.9</span><br></pre></td></tr></table></figure><p>Debian9需要提前：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O libssl.deb https://raw.githubusercontent.com/xratzh/CBBR/master/debkernel/libssl1.0.0_1.0.2-1_amd64.deb</span><br><span class="line">dpkg -i libssl.deb</span><br></pre></td></tr></table></figure><p><strong>第一步：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install -y wget &amp;&amp; wget --no-check-certificate -O D1.sh https://raw.githubusercontent.com/xratzh/CBBR/master/D1.sh &amp;&amp; bash D1.sh</span><br></pre></td></tr></table></figure><p>之后输入Y就会重启</p><p><strong>第二步：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O D2.sh https://raw.githubusercontent.com/xratzh/CBBR/master/D2.sh &amp;&amp; bash D2.sh</span><br></pre></td></tr></table></figure><h3 id="CentOS7开启魔改BBR"><a href="#CentOS7开启魔改BBR" class="headerlink" title="CentOS7开启魔改BBR"></a>CentOS7开启魔改BBR</h3><p><strong>第一步：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget --no-check-certificate -O C71.sh https://raw.githubusercontent.com/xratzh/CBBR/master/C71.sh &amp;&amp; bash C71.sh</span><br></pre></td></tr></table></figure><p>之后输入Y就会重启</p><p><strong>第二步：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O C72.sh https://raw.githubusercontent.com/xratzh/CBBR/master/C72.sh &amp;&amp; bash C72.sh</span><br></pre></td></tr></table></figure><h3 id="CentOS6开启魔改BBR"><a href="#CentOS6开启魔改BBR" class="headerlink" title="CentOS6开启魔改BBR"></a>CentOS6开启魔改BBR</h3><p><strong>第一步：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget &amp;&amp; wget --no-check-certificate -O C61.sh https://raw.githubusercontent.com/xratzh/CBBR/master/C61.sh &amp;&amp; bash C61.sh</span><br></pre></td></tr></table></figure><p>之后输入Y就会重启</p><p><strong>第二步：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O C62.sh https://raw.githubusercontent.com/xratzh/CBBR/master/C62.sh &amp;&amp; bash C62.sh</span><br></pre></td></tr></table></figure><h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a><a target="_blank" rel="noopener" href="https://github.com/guonning/CBBR-1#tips"></a>Tips</h3><p><strong>存在对于其他内核的删除，只保留4.11.8内核的行为</strong> <strong>为什么不能一键</strong>，因为Linux内核在4.0后支持不重启更换，但是CentOS和Debian&#x2F;Ubuntu很多的内核都是4.0-的版本，Debian9和Ubuntu16.04则是4.0+的版本。 Xratzh压力测试，发现bbr和魔改bbr都开启时会达到最快（个人验证），本脚本默认两者都开启。 脚本里加入了对内核的锁定，之后update时不会变动内核。内核统一选择4.11.8版本。 由于这个我找到的CentOS&#x2F;Ubuntu历史内核的镜像站的网速时快时慢，所以自己下载了上传到GitHub，这样能保持一个较为稳定的速度。原来的内核地址仍然在脚本里面，只是被添加注释了，如果你不信任我上传的内核，可以自己取消注释使用镜像站的内核下载方式。 部分内容借鉴了<a target="_blank" rel="noopener" href="https://moeclub.org/2017/06/24/278/">Vicer大佬</a>和<a target="_blank" rel="noopener" href="https://github.com/teddysun">Teddysun大佬</a>的脚本，感谢hostloc的yankee大佬和<a target="_blank" rel="noopener" href="https://github.com/nanqinlang">nanqinlang</a>大佬的魔改优化。</p><p>转自：<a target="_blank" rel="noopener" href="https://github.com/veip007/CBBR">https://github.com/veip007/CBBR</a></p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2019/08/20/%E4%B8%80%E9%94%AEdd%E7%BD%91%E7%BB%9C%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F-%E9%AD%94%E6%94%B9%E7%89%88%EF%BC%88%E9%80%82%E7%94%A8%E4%BA%8Elinux-windows%EF%BC%89/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/08/20/%E4%B8%80%E9%94%AEdd%E7%BD%91%E7%BB%9C%E9%87%8D%E8%A3%85%E7%B3%BB%E7%BB%9F-%E9%AD%94%E6%94%B9%E7%89%88%EF%BC%88%E9%80%82%E7%94%A8%E4%BA%8Elinux-windows%EF%BC%89/" class="post-title-link" itemprop="url">一键DD网络重装系统 – 魔改版（适用于Linux / Windows）</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-08-20 15:58:02" itemprop="dateCreated datePublished" datetime="2019-08-20T15:58:02+08:00">2019-08-20</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>2.5k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>当我们需要重装VPS&#x2F;云平台&#x2F;独立服务器操作系统时，通常可以通过服务商模板和ISO挂载的方式重新安装。</p><p>从今天开始，你将拥有了一个全新的方式，通过网络一键式重新安装纯净操作系统，无需CD-ROM,无需VNC&#x2F;IPIM&#x2F;KVM。</p><p>无论是Linux，还是Windows，都可以通过网络一键式完成安装，通过简单的两行命令开启美妙的体验。</p><h3 id="现实需求"><a href="#现实需求" class="headerlink" title="现实需求"></a>现实需求</h3><p>为什么我们需要重装纯净系统？</p><p>1. 服务商提供的系统模板可能会内置一些软件，甚至和我们即将安装的软件产生冲突，导致安装失败。</p><p>2. ISO挂载并不是所有服务商都提供的服务，一些IPIM&#x2F;KVM传输速度过于缓慢，安装效率较差。</p><p>3. Linux&#x2F;Windows在使用中可能遇到一些找不到问题的莫名错误。相信你一定深有体会！</p><h3 id="你需要了解"><a href="#你需要了解" class="headerlink" title="你需要了解"></a>你需要了解</h3><p>1. 所有系统除特殊说明外，安装完毕的默认密码是<strong>cxthhhhh.com</strong>，为了防止暴力破解，你必须在安装完毕立刻修改默认密码！</p><p>2. 因硬件配置和网络环境不同，安装全程需要15-60分钟，请耐心等待。安装完成即可通过IP:22(Linux SSH)&#x2F;IP:3389(Windows RDP)进行连接。</p><p>3. 为了稳定性和安全性，我建议所有网站管理员&#x2F;开发者&#x2F;公司使用最新的系统，同时我只为最新的系统提供技术支持。</p><p>4. 一些没有DHCP的VPS&#x2F;云平台&#x2F;独立服务器，安装后无法访问网络，你需要登陆VNC&#x2F;IPIM&#x2F;KVM后手动进行网卡IP配置。</p><h3 id="重装系统前环境需求"><a href="#重装系统前环境需求" class="headerlink" title="重装系统前环境需求"></a>重装系统前环境需求</h3><p>1. 当前已安装任意由GRUB or GRUB2引导Linux系统(RedHat&#x2F;CentOS&#x2F;Debian&#x2F;Ubuntu&#x2F;Etc.)</p><p>2. 安装重装系统的前提组件</p><p>①. RedHat&#x2F;CentOS:</p><p>yum install -y xz openssl gawk file</p><p>②. Debian&#x2F;Ubuntu:</p><p>apt-get install -y xz-utils openssl gawk file</p><h3 id="让我们开始吧"><a href="#让我们开始吧" class="headerlink" title="让我们开始吧"></a>让我们开始吧</h3><h4 id="1-下载SHELL脚本（通过root用户运行）"><a href="#1-下载SHELL脚本（通过root用户运行）" class="headerlink" title="1. 下载SHELL脚本（通过root用户运行）"></a>1. 下载SHELL脚本（通过root用户运行）</h4><p>wget –no-check-certificate <a target="_blank" rel="noopener" href="https://shell.p1e.cn/reinstall/Network-Reinstall-System-Modify.sh">https://shell.p1e.cn/reinstall/Network-Reinstall-System-Modify.sh</a> &amp;&amp; chmod a+x Network-Reinstall-System-Modify.sh</p><h4 id="2-安装系统（任选其一）"><a href="#2-安装系统（任选其一）" class="headerlink" title="2. 安装系统（任选其一）"></a>2. 安装系统（任选其一）</h4><p>【安装Linux系统】</p><p>①. 一键网络重装纯净CentOS 7（推荐）</p><p>bash Network-Reinstall-System-Modify.sh -CentOS_7</p><p>②. 一键网络重装纯净CentOS 6</p><p>bash Network-Reinstall-System-Modify.sh -CentOS_6</p><p>③. 一键网络重装纯净Debian 9（推荐）</p><p>bash Network-Reinstall-System-Modify.sh -Debian_9</p><p>④. 一键网络重装纯净Debian 8</p><p>bash Network-Reinstall-System-Modify.sh -Debian_8</p><p>⑤. 一键网络重装纯净Debian 7</p><p>bash Network-Reinstall-System-Modify.sh -Debian_7</p><p>⑥. 一键网络重装纯净Ubuntu 18.04（推荐）</p><p>bash Network-Reinstall-System-Modify.sh -Ubuntu_18.04</p><p>⑦. 一键网络重装纯净Ubuntu 16.04</p><p>bash Network-Reinstall-System-Modify.sh -Ubuntu_16.04</p><p>⑧. 一键网络重装纯净Ubuntu 14.04</p><p>bash Network-Reinstall-System-Modify.sh -Ubuntu_14.04</p><p>【安装Windows系统】</p><p>*警告：你需要购买来自Microsoft或其合作伙伴正版系统授权并激活系统使用。继续安装即代表您知悉并已经购买正版授权。</p><p>①. 一键网络重装纯净Windows Server 2019（推荐）</p><p>bash Network-Reinstall-System-Modify.sh -Windows_Server_2019</p><p>②. 一键网络重装纯净Windows Server 2016</p><p>bash Network-Reinstall-System-Modify.sh -Windows_Server_2016</p><p>③. 一键网络重装纯净Windows Server 2012 R2</p><p>bash Network-Reinstall-System-Modify.sh -Windows_Server_2012R2</p><p>④. 一键网络重装纯净Windows Server 2008 R2</p><p>bash Network-Reinstall-System-Modify.sh -Windows_Server_2008R2</p><p>⑤. 一键网络重装纯净Windows 7</p><p>bash Network-Reinstall-System-Modify.sh -Windows_7_Vienna</p><p>⑥. 一键网络重装纯净Windows Server 2003</p><p>bash Network-Reinstall-System-Modify.sh -Windows_Server_2003</p><p>【安装DD系统】</p><p>*如果您不了解这意味着什么，请不要进行操作。%ULR%应该替换为您自己的映像地址。</p><p>bash Network-Reinstall-System-Modify.sh -DD “%URL%”</p><h3 id="恭喜，你已经完成了系统重装，享受当下的美好"><a href="#恭喜，你已经完成了系统重装，享受当下的美好" class="headerlink" title="恭喜，你已经完成了系统重装，享受当下的美好"></a>恭喜，你已经完成了系统重装，享受当下的美好</h3><p>当您执行完上面的2行命令，你的服务器将开始网络重装纯净系统。在完成安装前，您将无法进行连接管理。</p><p>因硬件配置和网络环境不同，安装全程需要15-60分钟，请耐心等待。安装完成即可通过IP:22(Linux SSH)&#x2F;IP:3389(Windows RDP)进行连接。</p><p>这篇文章转自[CXT] Technical Blog 技術博客</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2019/07/25/debian-ubuntu-centos-%E7%BD%91%E7%BB%9C%E5%AE%89%E8%A3%85-%E7%BD%91%E7%BB%9C%E9%87%8D%E8%A3%85-%E7%BA%AF%E5%87%80%E5%AE%89%E8%A3%85-%E4%B8%80%E9%94%AE%E8%84%9A%E6%9C%AC/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/07/25/debian-ubuntu-centos-%E7%BD%91%E7%BB%9C%E5%AE%89%E8%A3%85-%E7%BD%91%E7%BB%9C%E9%87%8D%E8%A3%85-%E7%BA%AF%E5%87%80%E5%AE%89%E8%A3%85-%E4%B8%80%E9%94%AE%E8%84%9A%E6%9C%AC/" class="post-title-link" itemprop="url">Debian/Ubuntu/CentOS 网络安装/网络重装/纯净安装 一键脚本</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-07-25 18:35:34" itemprop="dateCreated datePublished" datetime="2019-07-25T18:35:34+08:00">2019-07-25</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>3.7k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>3 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><ul><li><ul><li><ul><li><strong>背景</strong>:适用于由GRUB引导的CentOS,Ubuntu,Debian系统.</li></ul></li></ul></li><li><p>使用官方发行版去掉模板预装的软件.</p></li><li><p>同时也可以解决内核版本与软件不兼容的问题。</p></li><li><p>只要有root权限,还您一个纯净的系统。* <strong>相关文章</strong>:</p></li></ul><p><strong><a target="_blank" rel="noopener" href="https://moeclub.org/2017/11/19/483/">[ Linux Shell ] 通用无限制在 Linux VPS 上一键全自动 dd 安装 Windows</a></strong></p><hr><ul><li><ul><li><strong>注意</strong>:<ul><li>全自动安装默认root密码:<code>MoeClub.org</code> 安装完成后请立即更改密码.</li><li>能够全自动重装Debian&#x2F;Ubuntu&#x2F;CentOS等系统.</li><li>同时提供dd安装镜像功能,例如: <a target="_blank" rel="noopener" href="https://moeclub.org/2017/11/19/483/">全自动无救援dd安装windows系统</a></li><li>全自动安装CentOS时默认提供VNC功能,可使用<strong>VNC Viewer</strong>查看进度, <strong>VNC端口</strong>为<strong>1</strong>或者<strong>5901</strong>,可自行尝试连接.(成功后VNC功能会消失.)</li><li>目前CentOS系统只支持任意版本重装为 <strong>CentOS 6.x</strong> 及以下版本.</li><li><strong>特别注意:<em><code>OpenVZ</code>构架不适用.</em></strong></li></ul></li><li><strong>更新</strong>:<ul><li><ul><li>[2019.05.12]优化部分代码.</li></ul></li></ul></li></ul></li><li><ul><li><ul><li>修复了一些已知问题.* [2018.11.12]</li></ul><p>修复了一些错误逻辑.</p><ul><li><ul><li>[2018.10.31]</li></ul></li></ul><p>增加 –loader 参数.(用于定制镜像)</p><ul><li><ul><li>[2018.08.10]修复一些Bug.</li></ul></li></ul></li></ul></li><li><ul><li><ul><li>增加 -i 参数.(用于指定网卡)* [2018.06.09]支持自定义远程桌面端口并打开相关防火墙端口(默认为3389).</li></ul></li></ul></li><li><ul><li>自动扩展系统盘空间为整个硬盘.</li></ul></li><li><ul><li><ul><li>增加 -rdp 参数.(用于更换RDP端口,并强制打开该端口防火墙)* [2018.04.17]</li></ul><p>修复对grub.conf抓取识别的问题.</p><ul><li><ul><li>[2018.04.06]优化正则表达式.</li></ul></li></ul></li></ul></li><li><ul><li><ul><li>丢弃对grep -P的依赖.* [2018.04.03]合并Debian&#x2F;Ubuntu&#x2F;CentOS&#x2F;dd安装镜像功能.</li></ul></li></ul></li><li><ul><li>使用最少依赖原则.</li></ul></li><li><ul><li>优化部分流程.</li></ul></li><li><ul><li>修复一些已知BUG.</li></ul></li></ul><hr><ul><li><ul><li><strong>依赖包</strong>:</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#二进制文件    Debian/Ubuntu    RedHat/CentOS</span><br><span class="line">iconv         [libc-bin]       [glibc-common]</span><br><span class="line">xz            [xz-utils]       [xz]</span><br><span class="line">awk           [gawk]           [gawk]</span><br><span class="line">sed           [sed]            [sed]</span><br><span class="line">file          [file]           [file]</span><br><span class="line">grep          [grep]           [grep]</span><br><span class="line">openssl       [openssl]        [openssl]</span><br><span class="line">cpio          [cpio]           [cpio]</span><br><span class="line">gzip          [gzip]           [gzip]</span><br><span class="line">cat,cut..     [coreutils]      [coreutils]</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><ul><li><strong>确保安装了所需软件</strong>:</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#Debian/Ubuntu:</span><br><span class="line">apt-get install -y xz-utils openssl gawk file</span><br><span class="line"></span><br><span class="line">#RedHat/CentOS:</span><br><span class="line">yum install -y xz openssl gawk file</span><br></pre></td></tr></table></figure><ul><li><ul><li><strong>如果出现了错误,请运行</strong>:</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#Debian/Ubuntu:</span><br><span class="line">apt-get update</span><br><span class="line"></span><br><span class="line">#RedHat/CentOS:</span><br><span class="line">yum update</span><br></pre></td></tr></table></figure><hr><ul><li><ul><li><strong>快速使用示例</strong>:</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash &lt;(wget --no-check-certificate -qO- &#x27;https://moeclub.org/attachment/LinuxShell/InstallNET.sh&#x27;) -d 9 -v 64 -a</span><br></pre></td></tr></table></figure><hr><ul><li><ul><li><strong>下载及说明</strong>:</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -qO InstallNET.sh &#x27;https://moeclub.org/attachment/LinuxShell/InstallNET.sh&#x27; &amp;&amp; chmod a+x InstallNET.sh</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Usage:</span><br><span class="line">        bash InstallNET.sh      -d/--debian [dist-name]</span><br><span class="line">                                -u/--ubuntu [dist-name]</span><br><span class="line">                                -c/--centos [dist-version]</span><br><span class="line">                                -v/--ver [32/i38664/amd64]</span><br><span class="line">                                --ip-addr/--ip-gate/--ip-mask</span><br><span class="line">                                -apt/-yum/--mirror</span><br><span class="line">                                -dd/--image</span><br><span class="line">                                -a/-m</span><br><span class="line"></span><br><span class="line"># dist-name: 发行版本代号</span><br><span class="line"># dist-version: 发行版本号</span><br><span class="line"># -apt/-yum/--mirror : 使用定义镜像</span><br><span class="line"># -a/-m : 询问是否能进入VNC自行操作. -a 为不提示(一般用于全自动安装), -m 为提示.</span><br></pre></td></tr></table></figure><hr><ul><li><ul><li><strong>使用示例</strong>:</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#使用默认镜像全自动安装</span><br><span class="line">bash InstallNET.sh -d 8 -v 64 -a</span><br><span class="line"></span><br><span class="line">#使用自定义镜像全自动安装</span><br><span class="line">bash InstallNET.sh -c 6.10 -v 64 -a --mirror &#x27;http://mirror.centos.org/centos&#x27;</span><br><span class="line"></span><br><span class="line"># 以下示例中,将X.X.X.X替换为自己的网络参数.</span><br><span class="line"># --ip-addr :IP Address/IP地址</span><br><span class="line"># --ip-gate :Gateway   /网关</span><br><span class="line"># --ip-mask :Netmask   /子网掩码</span><br><span class="line"></span><br><span class="line">#使用自定义镜像全自动安装</span><br><span class="line">#bash InstallNET.sh -u 9 -v 64 -a --mirror &#x27;http://mirrors.ustc.edu.cn/debian/&#x27;</span><br><span class="line"></span><br><span class="line">#使用自定义镜像自定义网络参数全自动安装</span><br><span class="line">#bash InstallNET.sh -u 16.04 -v 64 -a --ip-addr x.x.x.x --ip-gate x.x.x.x --ip-mask x.x.x.x --mirror &#x27;http://archive.ubuntu.com/ubuntu&#x27;</span><br><span class="line"></span><br><span class="line">#使用自定义网络参数全自动dd方式安装</span><br><span class="line">#bash InstallNET.sh --ip-addr x.x.x.x --ip-gate x.x.x.x --ip-mask x.x.x.x -dd &#x27;https://moeclub.org/onedrive/IMAGE/Windows/win7emb_x86.tar.gz&#x27;</span><br><span class="line"></span><br><span class="line">#使用自定义网络参数全自动dd方式安装存储在谷歌网盘中的镜像(调用文件ID的方式)</span><br><span class="line">#bash InstallNET.sh --ip-addr x.x.x.x --ip-gate x.x.x.x --ip-mask x.x.x.x -dd &quot;https://image.moeclub.org/GoogleDrive/1cqVl2wSGx92UTdhOxU9pW3wJgmvZMT_J&quot;</span><br><span class="line"></span><br><span class="line">#使用自定义网络参数全自动dd方式安装存储在谷歌网盘中的镜像</span><br><span class="line">#bash InstallNET.sh --ip-addr x.x.x.x --ip-gate x.x.x.x --ip-mask x.x.x.x -dd &quot;https://image.moeclub.org/GoogleDrive/1cqVl2wSGx92UTdhOxU9pW3wJgmvZMT_J&quot;</span><br><span class="line"></span><br><span class="line">#国内推荐使用USTC源</span><br><span class="line">#--mirror &#x27;http://mirrors.ustc.edu.cn/debian/&#x27;</span><br></pre></td></tr></table></figure><hr><ul><li><ul><li><strong>一些可用镜像地址</strong>:</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 推荐使用带有 /GoogleDrive/ 链接, 速度更快.</span><br><span class="line"># 当然也可以使用自己GoogleDrive中储存的镜像,使用方式:</span><br><span class="line">  https://image.moeclub.org/GoogleDrive/</span><br><span class="line"></span><br><span class="line"># win7emb_x86.tar.gz:</span><br><span class="line">  https://image.moeclub.org/GoogleDrive/1srhylymTjYS-Ky8uLw4R6LCWfAo1F3s7 </span><br><span class="line">  https://moeclub.org/onedrive/IMAGE/Windows/win7emb_x86.tar.gz</span><br><span class="line"></span><br><span class="line"># win8.1emb_x64.tar.gz:</span><br><span class="line">  https://image.moeclub.org/GoogleDrive/1cqVl2wSGx92UTdhOxU9pW3wJgmvZMT_J</span><br><span class="line">  https://moeclub.org/onedrive/IMAGE/Windows/win8.1emb_x64.tar.gz</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><ul><li><ul><li><strong>一些提示</strong>:<ul><li><strong>特别注意</strong>:</li></ul></li></ul></li><li><ul><li>提供的dd安装镜像</li></ul></li><li><ul><li><ul><li>远程登陆账号为:</li></ul></li></ul></li></ul><p><strong><em>Administrator</em></strong></p><ul><li><ul><li><ul><li>远程登陆密码为:</li></ul></li></ul></li></ul><p><strong><em>Vicer</em></strong></p><ul><li><ul><li><ul><li><ul><li>仅修改了主机名,可放心使用.(建议自己制作.)* <strong>在dd安装系统镜像时</strong>:</li></ul></li></ul></li></ul></li></ul><p>在你的机器上全新安装,如果你有VNC,可以看到全部过程. 在dd安装镜像的过程中,不会走进度条(进度条一直显示为</p><p><strong>0%</strong></p><ul><li><ul><li>).完成后将会自动重启.</li></ul></li><li><ul><li><ul><li>分区界面标题一般显示为: “</li></ul></li></ul></li></ul><p><strong>Starting up the partitioner</strong></p><ul><li><ul><li>“</li></ul></li></ul><p><strong>使用谷歌网盘中储存的镜像: <a target="_blank" rel="noopener" href="https://moeclub.org/directlink/">[无限制大小] 获取谷歌网盘文件临时直接下载链接</a></strong></p><ul><li><ul><li><ul><li><ul><li><ul><li><strong>在全自动安装CentOS时</strong>:</li></ul></li></ul></li></ul></li></ul></li></ul><p>如果看到 “</p><p><strong>Starting graphical installation</strong></p><ul><li><ul><li>“ 或者类似表达,则表示正在安装.</li></ul></li><li><ul><li>正常情况下只需要耐心等待安装完成即可.</li></ul></li><li><ul><li><ul><li>如果需要查看进度,使用</li></ul></li></ul></li></ul><p><strong>VNC Viewer</strong></p><ul><li><ul><li>(或者其他VNC连接工具)</li></ul></li><li><ul><li><ul><li>连接提示中的</li></ul></li></ul></li></ul><p><strong>IP地址:端口</strong></p><ul><li><ul><li><ul><li>进行连接.(端口一般为</li></ul></li></ul></li></ul><p><strong>1</strong></p><ul><li><ul><li><ul><li>或者</li></ul></li></ul></li></ul><p><strong>5901</strong></p><ul><li><ul><li>)</li></ul></li></ul><p><strong>声明:</strong></p><ol><li><em>各种形式的翻译或转载需注明作者及<a target="_blank" rel="noopener" href="https://moeclub.org/2018/04/03/603/">本文地址</a>.</em></li><li><em>使用该脚本造成的任何直接损失或间接损失,<a target="_blank" rel="noopener" href="https://moeclub.org/">萌咖</a>不负任何责任.</em></li></ol></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2019/06/10/debian%E4%B8%8B%EF%BC%8C%E4%B8%80%E9%94%AE%E5%90%AF%E7%94%A8%E6%9A%B4%E5%8A%9B%E9%AD%94%E6%94%B9bbr%EF%BC%8C%E5%8A%A0%E9%80%9F%E6%9C%AC%E5%9C%B0%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/06/10/debian%E4%B8%8B%EF%BC%8C%E4%B8%80%E9%94%AE%E5%90%AF%E7%94%A8%E6%9A%B4%E5%8A%9B%E9%AD%94%E6%94%B9bbr%EF%BC%8C%E5%8A%A0%E9%80%9F%E6%9C%AC%E5%9C%B0%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE/" class="post-title-link" itemprop="url">Debian下，一键启用暴力魔改BBR，加速本地网络访问</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-06-10 17:33:06" itemprop="dateCreated datePublished" datetime="2019-06-10T17:33:06+08:00">2019-06-10</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>642</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>这个是使用南琴浪大佬的参数。适用内核为4.9.X，Debian 7+ ( i386 &amp;&amp; amd64 )系统。</p><p><strong>其他系统可参考</strong>： 1、<a target="_blank" rel="noopener" href="https://zhujiwiki.com/8563/">TCP加速：BBR原版&#x2F;BBR魔改&#x2F;BBR Plus + 锐速 等四合一安装脚本</a> 2、<a target="_blank" rel="noopener" href="https://zhujiwiki.com/8436/">Debian 9启用Google BBR，实现TCP加速</a></p><p>SSH下： 1、下载脚本并安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -O Tsunami_BBR.sh https://zhujiwiki.com/wp-content/uploads/2019/06/Tsunami_BBR.sh &amp;&amp; bash Tsunami_BBR.sh</span><br></pre></td></tr></table></figure><p>弹出对话框，并按“1”回车执行： <img src="https://www.jarods.org/wp-content/uploads/2019/06/bbr1.png"> 2. 脚本自动探测出最新版本的 4.9.X 版本内核，如果无安装其他版本内核的特别需要，<strong>直接按回车</strong>，即可自动开始安装； <img src="https://www.jarods.org/wp-content/uploads/2019/06/bbr2.png"> 3. 安装后期，弹出“是否需要卸载自带旧内核”的提示，选择“No”卸载即可，随后不久系统重启</p><p>4. 再次登录系统，运行以下命令，按“2”开始下载魔改 BBR 模块并与新版本内核合并，并自动设置好魔改 BBR 设置，随后脚本退出：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash Tsunami_BBR.sh</span><br></pre></td></tr></table></figure><p><img src="https://www.jarods.org/wp-content/uploads/2019/06/bbr3.png"> 5. 再次运行以下命令，按“3”可完成一些外围的网络参数优化，此项你可以选择执行或不执行；</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash Tsunami_BBR.sh</span><br></pre></td></tr></table></figure><p><img src="https://www.jarods.org/wp-content/uploads/2019/06/bbr6.png"></p><p><img src="https://www.jarods.org/wp-content/uploads/2019/06/bbr4.png"> 6. 脚本中按“4”是查看魔改 BBR 的运行状态，按“5”是卸载魔改 BBR。</p><p>脚本开源：<a target="_blank" rel="noopener" href="https://github.com/leitbogioro/Force/_Modified/_BBR">https://github.com/leitbogioro/Force\_Modified\_BBR</a></p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2019/05/07/%E5%9C%A8-centos-7-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%BF%9B%E8%A1%8C-openvz-7-%E5%AE%89%E8%A3%85/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/05/07/%E5%9C%A8-centos-7-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E8%BF%9B%E8%A1%8C-openvz-7-%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">在 CentOS 7 操作系统进行 OpenVZ 7 安装</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-05-07 00:36:59" itemprop="dateCreated datePublished" datetime="2019-05-07T00:36:59+08:00">2019-05-07</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>6.6k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>6 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>今天带来关于OpenVZ 7 的安装博文，现使用虚拟硬件式技术的企业或个人都倾向于Vmware 或者微软的Hyper-V 使用容器式虚拟化技术的企业或个人都倾向于使用 Docker 、LXC 技术。OpenVZ 7 使用的虚拟化技术包含了 容器式与硬件式虚拟机技术，具体就是 OpenVZ 自家的容器式技术与KVM硬件式虚拟化技术，当然 Docker 也可允许在容器式虚拟机内。</p><p>1. 安装前准备</p><ul><li>准备好有 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/Intel%20VT/2091588?fr=aladdin">Intel VT 技术</a> 的服务器</li><li>准备好最新 CentOS7 迷你版本iso 光盘，或使用 <a target="_blank" rel="noopener" href="http://rufus.akeo.ie/">rufus</a> 刻进usb内。</li><li>磁盘划分，&#x2F; 根分区  ext4 &#x2F;boot 分区 ext4 &#x2F;vz 分区 ext4 最后就是 swap</li></ul><p>2. 一键安装脚本，包含了Fail2ban 对 SSH 22 端口的密码暴力破解保护。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line"># Defined Var</span><br><span class="line">YUM=/usr/bin/yum</span><br><span class="line">SED=/bin/sed</span><br><span class="line">RPM=/bin/rpm</span><br><span class="line">SYS=/usr/bin/systemctl</span><br><span class="line"></span><br><span class="line"># Add epel</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/yum.repos.d/epel.repo &lt;&lt;EOF</span><br><span class="line">[epel]</span><br><span class="line">name=Extra Packages for Enterprise Linux 7 - \$basearch</span><br><span class="line">#baseurl=http://download.fedoraproject.org/pub/epel/7/\$basearch</span><br><span class="line">metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-7&amp;arch=\$basearch</span><br><span class="line">failovermethod=priority</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7</span><br><span class="line"></span><br><span class="line">[epel-debuginfo]</span><br><span class="line">name=Extra Packages for Enterprise Linux 7 - \$basearch - Debug</span><br><span class="line">#baseurl=http://download.fedoraproject.org/pub/epel/7/\$basearch/debug</span><br><span class="line">metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-debug-7&amp;arch=\$basearch</span><br><span class="line">failovermethod=priority</span><br><span class="line">enabled=0</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7</span><br><span class="line">gpgcheck=1</span><br><span class="line"></span><br><span class="line">[epel-source]</span><br><span class="line">name=Extra Packages for Enterprise Linux 7 - \$basearch - Source</span><br><span class="line">#baseurl=http://download.fedoraproject.org/pub/epel/7/SRPMS</span><br><span class="line">metalink=https://mirrors.fedoraproject.org/metalink?repo=epel-source-7&amp;arch=\$basearch</span><br><span class="line">failovermethod=priority</span><br><span class="line">enabled=0</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7</span><br><span class="line">gpgcheck=1</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"># Add epel-testing</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/yum.repos.d/epel-testing.repo &lt;&lt;EOF</span><br><span class="line">[epel-testing]</span><br><span class="line">name=Extra Packages for Enterprise Linux 7 - Testing - \$basearch</span><br><span class="line">#baseurl=http://download.fedoraproject.org/pub/epel/testing/7/\$basearch</span><br><span class="line">metalink=https://mirrors.fedoraproject.org/metalink?repo=testing-epel7&amp;arch=\$basearch</span><br><span class="line">failovermethod=priority</span><br><span class="line">enabled=0</span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7</span><br><span class="line"></span><br><span class="line">[epel-testing-debuginfo]</span><br><span class="line">name=Extra Packages for Enterprise Linux 7 - Testing - \$basearch - Debug</span><br><span class="line">#baseurl=http://download.fedoraproject.org/pub/epel/testing/7/\$basearch/debug</span><br><span class="line">metalink=https://mirrors.fedoraproject.org/metalink?repo=testing-debug-epel7&amp;arch=\$basearch</span><br><span class="line">failovermethod=priority</span><br><span class="line">enabled=0</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7</span><br><span class="line">gpgcheck=1</span><br><span class="line"></span><br><span class="line">[epel-testing-source]</span><br><span class="line">name=Extra Packages for Enterprise Linux 7 - Testing - \$basearch - Source</span><br><span class="line">#baseurl=http://download.fedoraproject.org/pub/epel/testing/7/SRPMS</span><br><span class="line">metalink=https://mirrors.fedoraproject.org/metalink?repo=testing-source-epel7&amp;arch=\$basearch</span><br><span class="line">failovermethod=priority</span><br><span class="line">enabled=0</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7</span><br><span class="line">gpgcheck=1</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"># Import OpenVZ</span><br><span class="line"></span><br><span class="line">$RPM --import http://download.openvz.org/RPM-GPG-Key-OpenVZ</span><br><span class="line">$RPM --import https://archive.fedoraproject.org/pub/epel/RPM-GPG-KEY-EPEL-7</span><br><span class="line"></span><br><span class="line">$YUM install https://download.openvz.org/virtuozzo/releases/7.0/x86_64/os/Packages/o/openvz-release-7.0.8-4.vz7.x86_64.rpm -y</span><br><span class="line"></span><br><span class="line"># Yum Make Cache</span><br><span class="line"></span><br><span class="line">$YUM makecache</span><br><span class="line"></span><br><span class="line"># Yum Install Base</span><br><span class="line"></span><br><span class="line">$YUM install yum-plugin-priorities telnet bind-utils vim-en* lrzsz wget iptables-services net-tools psmisc -y</span><br><span class="line"></span><br><span class="line"># Yum Update</span><br><span class="line">$YUM update -y </span><br><span class="line"></span><br><span class="line"># startup network or postalias will complain error</span><br><span class="line">$SED -i &#x27;s/SELINUX=enforcing/SELINUX=disabled/g&#x27; /etc/sysconfig/selinux</span><br><span class="line">$SED -i &#x27;s/SELINUX=enforcing/SELINUX=disabled/g&#x27; /etc/selinux/config</span><br><span class="line"></span><br><span class="line"># Clean UP Iptables</span><br><span class="line">echo &#x27;&#x27; &gt; /etc/sysconfig/iptables</span><br><span class="line"></span><br><span class="line"># Install OpenVZ</span><br><span class="line"></span><br><span class="line">$YUM install prlctl prl-disp-service vzkernel ploop prl-disk-tool -y</span><br><span class="line"></span><br><span class="line"># Install fail2ban</span><br><span class="line"></span><br><span class="line">$YUM install fail2ban fail2ban-systemd -y</span><br><span class="line"></span><br><span class="line"># Add fail2ban sshd.local</span><br><span class="line"></span><br><span class="line">cat &gt; /etc/fail2ban/jail.d/sshd.local &lt;&lt; EOF</span><br><span class="line">[sshd]</span><br><span class="line">enabled = true</span><br><span class="line">filter = sshd</span><br><span class="line">action = iptables[name=sshd-ban, port=ssh, protocol=tcp]</span><br><span class="line">findtime =60</span><br><span class="line">bantime = 600</span><br><span class="line">maxretry = 3</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">$SYS enable fail2ban</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>3. 简单而基本命令</p><ul><li>查看虚拟机 prlctl list -a</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UUID唯一标识                             状态         IP地址         类型 名称</span><br><span class="line">UUID                                    STATUS       IP_ADDR         T  NAME</span><br><span class="line">&#123;4cc24118-b7a1-408a-9af8-caaf492e26c7&#125;  running      192.168.1.164   CT 164</span><br><span class="line">&#123;bada9314-1050-4fe5-8865-4edf93c97c0f&#125;  running      -               VM CentOS7</span><br><span class="line">&#123;c71d02d9-d0e4-42d0-bc1e-bcb3e8e97dc7&#125;  stopped      -               VM MyVM</span><br></pre></td></tr></table></figure><ul><li>查看已安装的容器式模版 vzpkg list -O</li><li>查看线上可用的模版 vzpkg list –available</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">centos-6-x86_64                    openvz-os</span><br><span class="line">centos-7-x86_64                    openvz-os</span><br><span class="line">debian-7.0-x86_64                  openvz-os</span><br><span class="line">debian-8.0-x86_64                  openvz-os</span><br><span class="line">debian-9.0-x86_64                  openvz-os</span><br><span class="line">fedora-23-x86_64                   openvz-os</span><br><span class="line">sles-11-x86_64                     openvz-os</span><br><span class="line">sles-12-x86_64                     openvz-os</span><br><span class="line">suse-42.1-x86_64                   openvz-os</span><br><span class="line">suse-42.2-x86_64                   openvz-os</span><br><span class="line">suse-42.3-x86_64                   openvz-os</span><br><span class="line">ubuntu-14.04-x86_64                openvz-os</span><br><span class="line">ubuntu-16.04-x86_64                openvz-os</span><br><span class="line">ubuntu-17.10-x86_64                openvz-os</span><br><span class="line">ubuntu-18.04-x86_64                openvz-os</span><br></pre></td></tr></table></figure><ul><li>预安装线上模版</li></ul><p>vzpkg install template centos-6-x86_64</p><ul><li>建立线上预安装的模版</li></ul><p>vzpkg create cache centos-6-x86_64</p><ul><li>建立容器式虚拟机</li></ul><p>prlctl create MyCT –vmtype ct</p><ul><li>设定容器式虚拟机使用的系统模版</li></ul><p>prlctl set MyCT –ostemplate centos-6-x86_64</p><ul><li>设定资源</li></ul><p>prlctl set MyCT –cpus 8 –memsize 8G –swap 4G</p><ul><li>设定网络</li></ul><p>prlctl set MyCT –ipadd 192.168.1.x</p><ul><li>建立硬件式虚拟机</li></ul><p>prlctl create MyVM –vmtype vm -d centos7</p><ul><li>硬件式虚拟机支持的操作系统</li></ul><p>Windows Server 2016 、2012、2012 R2 2008 R2 CentOS 5、6、7 x86_64 Debian 8、9 x86_64 Ubuntu 14-18 x86_64</p><ul><li>挂载光盘ISO文件</li></ul><p>prlctl set MyVM –device-set cdrom0 –image &#x2F;vz&#x2F;iso&#x2F;CentOS-7-x86_64-Minimal-1804.iso</p><ul><li>设定资源</li></ul><p>prlctl set MyVM –cpus 8 –memsize 8G</p><ul><li>修改默认磁盘容量（默认值为 64G）</li></ul><p>prl_disk_tool resize –hdd &#x2F;vz&#x2F;vmprivate&#x2F;c71d02d9-d0e4-42d0-bc1e-bcb3e8e97dc7&#x2F;harddisk.hdd –size 30G</p><ul><li>设定VNC服务</li></ul><p>prlctl set MyVM –vnc-mode manual –vnc-port 5902 –vnc-passwd linseek –vnc-address 0.0.0.0 &#x2F; 127.0.0.1</p><ul><li>查看虚拟机信息</li></ul><p>prlctl list –info MyVM</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">ID: &#123;c71d02d9-d0e4-42d0-bc1e-bcb3e8e97dc7&#125;</span><br><span class="line">EnvID: 1193083609</span><br><span class="line">Name: MyVM</span><br><span class="line">Description: </span><br><span class="line">Type: VM</span><br><span class="line">State: stopped</span><br><span class="line">OS: centos7</span><br><span class="line">Template: no</span><br><span class="line">Uptime: 00:00:00 (since 2018-09-10 11:28:59)</span><br><span class="line">Home: /vz/vmprivate/c71d02d9-d0e4-42d0-bc1e-bcb3e8e97dc7/</span><br><span class="line">Owner: root@.</span><br><span class="line">GuestTools: state=not_installed</span><br><span class="line">GuestTools autoupdate: on</span><br><span class="line">Autostart: off</span><br><span class="line">Autostop: shutdown</span><br><span class="line">Autocompact: off</span><br><span class="line">Boot order: hdd0 cdrom0 net0 </span><br><span class="line">EFI boot: off</span><br><span class="line">Allow select boot device: off</span><br><span class="line">External boot device: </span><br><span class="line">On guest crash: restart</span><br><span class="line">Remote display: mode=manual port=5902 address=127.0.0.1</span><br><span class="line">Remote display state: stopped</span><br><span class="line">Hardware:</span><br><span class="line">  cpu sockets=1 cpus=8 cores=8 VT-x accl=high mode=64 ioprio=4 iolimit=&#x27;0&#x27;</span><br><span class="line">  memory 8192Mb</span><br><span class="line">  video 32Mb 3d acceleration=off vertical sync=yes</span><br><span class="line">  memory_guarantee auto</span><br><span class="line">  hdd0 (+) scsi:0 image=&#x27;/vz/vmprivate/c71d02d9-d0e4-42d0-bc1e-bcb3e8e97dc7/harddisk.hdd&#x27; type=&#x27;expanded&#x27; 30720Mb subtype=virtio-scsi</span><br><span class="line">  cdrom0 (+) scsi:1 image=&#x27;/vz/iso/CentOS-7-x86_64-Minimal-1804.iso&#x27; subtype=virtio-scsi</span><br><span class="line">  usb (+)</span><br><span class="line">  net0 (+) dev=&#x27;vme001c42cda633&#x27; network=&#x27;Bridged&#x27; mac=001C42CDA633 card=virtio</span><br><span class="line">SmartMount: (-)</span><br><span class="line">Disabled Windows logo: on</span><br><span class="line">Nested virtualization: off</span><br><span class="line">Offline management: (-)</span><br></pre></td></tr></table></figure><ul><li>控制命令</li></ul><p>prlctl stop  MyCT &#x2F; MyVM prlctl start MyCT &#x2F; MyVM prlctl restart MyCT &#x2F; MyVM prlctl suspend MyCT &#x2F; MyVM prlctl resume MyCT &#x2F; MyVM prlctl mount MyCT &#x2F; MyVM prlclt umount MyCT &#x2F; MyVM</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2019/04/26/debian9%E4%B8%8B%EF%BC%8C%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85aria2ariangkodexplorer%E3%80%81qbittorrentlibtorrent%E3%80%81delugelibtorrent%E7%AD%89%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2019/04/26/debian9%E4%B8%8B%EF%BC%8C%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85aria2ariangkodexplorer%E3%80%81qbittorrentlibtorrent%E3%80%81delugelibtorrent%E7%AD%89%E4%B8%8B%E8%BD%BD%E5%B7%A5%E5%85%B7/" class="post-title-link" itemprop="url">Debian9下，一键安装Aria2+AriaNG+KodExplorer、qBittorrent+libtorrent、Deluge+libtorrent等下载工具</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-04-26 19:43:05" itemprop="dateCreated datePublished" datetime="2019-04-26T19:43:05+08:00">2019-04-26</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>767</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p><img src="https://www.jarods.org/wp-content/uploads/2019/04/downtoosl.png"></p><p><strong>一、脚本仅支持Debian9X64，请在完全纯净的系统上安装</strong>：</p><p>wget <a target="_blank" rel="noopener" href="https://zhujiwiki.com/wp-content/uploads/2019/04/Debian9DownloadToolinstall.sh">https://zhujiwiki.com/wp-content/uploads/2019/04/Debian9DownloadToolinstall.sh</a> &amp;&amp; chmod +x Debian9DownloadToolinstall.sh<br>.&#x2F;Debian9DownloadToolinstall.sh</p><p>你可以选择安装以下软件（均是目前的最新版）：</p><p>Aria2+AriaNG+KodExplorer qBittorrent4.1.4+libtorrent1.1.11 Deluge1.3.15+libtorrent1.1.11</p><p>_另外支持一键开启BBR_。</p><p>如果你选择安装2-3则可以和宝塔面板共存，如果安装1则不能与宝塔面板共存。另外因为原版的Debian9防火墙规则默认是放行所有的（相当于关闭的状态），所以本脚本没有对防火墙有任何设置，如果你安装完成之后发现端口不通，请自行设置防火墙规则。</p><p><strong>二、管理命令</strong>：</p><p>Aria2：</p><p>systemctl start aria2<br>systemctl stop aria2<br>systemctl restart aria2</p><p>qBittorrent：</p><p>systemctl start qbittorrent<br>systemctl stop qbittorrent<br>systemctl restart qbittorrent</p><p>Deluge：</p><p>systemctl start deluged<br>systemctl start deluge-web<br>systemctl stop deluged<br>systemctl stop deluge-web<br>systemctl restart deluged<br>systemctl restart deluge-web</p><p>转自：<a target="_blank" rel="noopener" href="https://lala.im/4590.html">https://lala.im/4590.html</a></p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><nav class="pagination"><a class="extend prev" rel="prev" href="/page/11/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><span class="page-number current">12</span><a class="page-number" href="/page/13/">13</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" href="/page/13/"><i class="fa fa-angle-right" aria-label="下一页"></i></a></nav></div><script>window.addEventListener("tabs:register",()=>{let t=CONFIG.comments["activeClass"];var e;(t=CONFIG.comments.storage?localStorage.getItem("comments_active")||t:t)&&(e=document.querySelector(`a[href="#comment-${t}"]`))&&e.click()}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Jarod</p><div class="site-description" itemprop="description">记录生活中的点点滴滴</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">262</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">6</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">306</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/jarodvip" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jarodvip" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Jarod</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="站点总字数">658k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">9:58</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script></body></html>