<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"jarod.vip",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"always",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="记录生活中的点点滴滴"><meta property="og:type" content="website"><meta property="og:title" content="Jarod&#39;s Blog"><meta property="og:url" content="https://jarod.vip/page/9/index.html"><meta property="og:site_name" content="Jarod&#39;s Blog"><meta property="og:description" content="记录生活中的点点滴滴"><meta property="og:locale" content="zh_CN"><meta property="article:author" content="Jarod"><meta property="article:tag" content="VPS,hexo,linux,debian,windows,macos"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://jarod.vip/page/9/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!0,isPost:!1,lang:"zh-CN"}</script><title>Jarod's Blog</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-R131WF8QZC"></script><script>function gtag(){dataLayer.push(arguments)}CONFIG.hostname===location.hostname&&(window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-R131WF8QZC"))</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?e67344a16e268228733f496a595ecb7a",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Jarod's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Jarod's Blog</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-sitemap"><a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content index posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2020/04/06/win10%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96%E6%9C%BA%E6%A2%B0%E7%A1%AC%E7%9B%98%E9%80%9F%E5%BA%A6%E5%87%A0%E4%B8%AA%E7%BB%9D%E6%8B%9B/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2020/04/06/win10%E7%B3%BB%E7%BB%9F%E4%BC%98%E5%8C%96%E6%9C%BA%E6%A2%B0%E7%A1%AC%E7%9B%98%E9%80%9F%E5%BA%A6%E5%87%A0%E4%B8%AA%E7%BB%9D%E6%8B%9B/" class="post-title-link" itemprop="url">Win10系统优化机械硬盘速度几个绝招</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-04-06 00:34:03" itemprop="dateCreated datePublished" datetime="2020-04-06T00:34:03+08:00">2020-04-06</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Win/" itemprop="url" rel="index"><span itemprop="name">Win</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>电脑硬盘是储存数据的设备，而硬盘速度快慢直接影响到系统的运行速度，现在使用固态硬盘的朋友越来越多，但还是有相当一部分用户还在使用机械硬盘，不知道平时会不会感觉机械硬盘越用越慢，导致系统各种卡顿呢？对于硬盘优化的文章有不少，但是能用的却不多，下面小编介绍的这几个Win10下优化机械硬盘的绝招大家可以学习一下。</p><p><strong>方法一：机械硬盘4K对齐</strong></p><p>4K对齐相信大家都知道，固态硬盘对4K对齐之后性能会好很多，其实机械硬盘也有必要进行4K对齐，读写速度都会有一定的提升哦。</p><p>1、下载分区助手专业版下载地址：分区助手专业版</p><p>2、选定你要4K对的磁盘，齐点击鼠标右键依次选择“高级操作”—“分区对齐”。以下以E盘为例：</p><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/1436042512-0.png" alt="jiaocheng/images/align-without-losing-data/align-without-losing-data1.png"></p><p>2、点击“分区对齐”之后出现确定对齐的对话窗口，选择4K对齐点击确定。</p><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/1436045113-1.png"></p><p><strong>方法二：优化索引</strong></p><p>优化索相能提高系统在硬盘中搜索文件的速度，从而提高运行效率（不当当是用户手动搜索，系统使用中也有搜索行为）</p><p>1、我们先进入“此电脑”，在机械硬盘的盘符上使用鼠标右键选择属性，在弹出的界面上，去掉“除了文件属性外，还允许索引此驱动器上的文件内容”，这么操作可能会在我们搜索该磁盘文件时浪费大量的时间，但会让系统不再针对机械硬盘没事就建索引文件，避免不必要的卡顿呢。</p><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/1436043B8-2.png" alt="索引"></p><p><strong>方法二：磁盘优化</strong></p><p>还是在盘符属性中，切换选项卡到“工具”选择“优化”，在弹出窗口里点击“更改设置”，取消勾选其中的“按计划运行”。取消勾选其中的“按计划运行”。由于该功能对NTFS格式的作用并不明显，而且它是后台运行，占用一部分磁盘性能，所以取消的话对读写操作的速度提升都是有好处的。</p><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/1436045T9-3.png" alt="QQ图片20180829162746"></p><p><strong>方法三：设置虚拟内存调用时机</strong></p><p>虚拟内存是以电脑硬盘为数据交换的一个功能，是内存的补充，但是如果此时内存还够而不停的去使用硬盘来交换数据，势必占用硬盘性能，我们要做的就是优化这个地方</p><p>1、Win+R组合键后输入system.ini，用记事本等文本工具打开记事本。</p><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/143604Ca-4.png" alt="system.ini"></p><p>上面那个是系统中原文件的样子，我们需在在第一部分后添加</p><p>ConservativeSwapfileUsage&#x3D;1</p><p>命令，意思是让系统在调用全部物理内存之后再使用虚拟内存进行数据交换。</p><p>之后在文本的末尾处把下面这些内容加上：</p><p>[vcache]</p><p>MinFileCache&#x3D;4096</p><p>MaxFileCache&#x3D;8096</p><p>通过设置最小4MB、最大8MB的内存空间用于缓存硬盘小文件读写，这样可以改善读写小文件的性能。</p><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/1436041421-5.png" alt="QQ图片20180829162918"></p><p>好了，通过以上步骤优化机械硬盘之后，大家在使用中会有惊喜哦，总之硬盘快了，系统也快了。</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2020/04/05/%E6%90%AD%E5%BB%BAkms%E6%BF%80%E6%B4%BB%E6%9C%8D%E5%8A%A1%E5%99%A8/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2020/04/05/%E6%90%AD%E5%BB%BAkms%E6%BF%80%E6%B4%BB%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="post-title-link" itemprop="url">搭建KMS激活服务器</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-04-05 14:42:22" itemprop="dateCreated datePublished" datetime="2020-04-05T14:42:22+08:00">2020-04-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>978</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="什么是KMS"><a href="#什么是KMS" class="headerlink" title="什么是KMS?"></a>什么是KMS?</h2><p><strong>Key Management Service（简称：KMS），这个功能是在 Windows Vista 之后的产品中的一种新型产品激活机制，目的是为了 Microsoft 更好的遏制非法软件授权行为 (盗版)。</strong> [scode type&#x3D;”green”] KMS 激活有两种方法，分别为 vlm­csd 和 py-kms，本文使用 vlm­csd 进行搭建 [&#x2F;​scode]</p><h2 id="为什么要自建KMS激活服务？"><a href="#为什么要自建KMS激活服务？" class="headerlink" title="为什么要自建KMS激活服务？"></a>为什么要自建KMS激活服务？</h2><p><strong>虽然现在网络上已经涌现了大批的激活工具，但是存在许多不安定因素，例如后门或者病毒等，会造成较大的安全隐患，而自己搭建 Kms 激活服务则可以避免这类问题～</strong></p><p><strong>注意：只能激活 VL 版本的 Windows</strong> <strong>VL，就是 VOL，Volume Licensing for Organizations 的缩写，中文翻译为团体批量许可证</strong></p><hr><p><strong>环境：CentOS 7.5</strong> [but­ton color&#x3D;”suc­cess” icon&#x3D;”glyph­icon glyph­icon-file”]<a target="_blank" rel="noopener" href="https://github.com/Wind4/vlmcsd">Vlmcsd</a>[&#x2F;but­ton] <strong>首先使用下面命令确认机器的 CPU 架构</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /proc/cpuinfo</span><br></pre></td></tr></table></figure><p><strong>这是我机器的信息</strong></p><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/2991210118.png" alt="1.png"></p><p>1.png</p><p><strong>首先从Github下载项目文件</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y install wget</span><br><span class="line">wget https://github.com/Wind4/vlmcsd/releases/download/svn1111/binaries.tar.gz</span><br></pre></td></tr></table></figure><p><strong>解压安装包</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf binaries.tar.gz</span><br></pre></td></tr></table></figure><p><strong>如果你机器的架构为 Intel，cd 到如下目录，否则的话需要在 binaries 目录内找到对应你机器 CPU 架构的目录</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd binaries/Linux/intel/static</span><br></pre></td></tr></table></figure><p><strong>启动服务</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./vlmcsd-x64-musl-static</span><br></pre></td></tr></table></figure><p><strong>如果你的机器不是 64 位系统，则需要内找到对应系统位数的可执行文件来运行</strong> <strong>因为 vlmcsd 运行后会占用 1688 端口，请在防火墙放行 1688 端口，或者关闭防火墙，所以我们可以输入以下命令查看是否成功启动：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -lnp</span><br></pre></td></tr></table></figure><h2 id="激活"><a href="#激活" class="headerlink" title="激活"></a>激活</h2><p><strong>以管理员身份运行 CMD</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">slmgr /skms 你服务器的IP或者域名</span><br><span class="line">slmgr /ato</span><br><span class="line">slmgr /xpr</span><br></pre></td></tr></table></figure><p><strong>到这你的 KMS 服务应该可以正常使用了，激活周期为 180 天，到期后如果你的 KMS 服务器还在运行，Windows 将自动进行激活</strong></p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2020/04/05/%E5%BC%80%E5%90%AF%E6%9E%81%E9%80%9F-https-%E4%BD%93%E9%AA%8C/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2020/04/05/%E5%BC%80%E5%90%AF%E6%9E%81%E9%80%9F-https-%E4%BD%93%E9%AA%8C/" class="post-title-link" itemprop="url">开启极速 HTTPS 体验</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-04-05 14:41:34" itemprop="dateCreated datePublished" datetime="2020-04-05T14:41:34+08:00">2020-04-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.6k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="0x01-前言"><a href="#0x01-前言" class="headerlink" title="0x01 前言"></a>0x01 前言</h3><p>如果说 HTTP&#x2F;​2 是当前互联网 Web 发展的讨论热点之一，那么下一个热点应该就是 TLS 1.3 了。 上次加密协议更新至今已有八年多，TLS 1.3 的最终版本现已于 2018 年 8 月发布。</p><hr><h3 id="0x02-当前的TLS协议存在问题"><a href="#0x02-当前的TLS协议存在问题" class="headerlink" title="0x02 当前的TLS协议存在问题"></a>0x02 当前的TLS协议存在问题</h3><p>老版本的 SSL 协议被公认在完整性校验、密钥协商过程中有重大缺陷，因此，2011 年与 2015 年 IETF 小组相继声明禁止使用 SSL 2.0、3.0。 TLS 协议针对此前披露的漏洞做了相应的处理，但是因为其复杂性，还没有一个版本能真正保证绝对的安全。</p><p>目前最新版本的 TLS 1.2 发布距今已有九年时间，在此期间，许多 SSL&#x2F;​TLS 协议的新漏洞被发现，比如针对其压缩机制的 CRIME 漏洞，针对 CBC 块加密模式的 BEAST 漏洞（主要是针对 SSL 3.0 和 TLS 1.0），早已不再是当初设计者认为的那么安全，人们迫切需要新的协议将其代替。</p><hr><h3 id="0x03-TLS-1-3有哪些变化？"><a href="#0x03-TLS-1-3有哪些变化？" class="headerlink" title="0x03 TLS 1.3有哪些变化？"></a>0x03 TLS 1.3有哪些变化？</h3><ul><li>TLS1.3 大幅提高安全性，还简化了握手过程，使第一次握手时只需要一个RTT，并在第二次访问时提供了 0-RTT 模式，提高了性能降低服务器压力。</li><li>支持0-RTT数据传输</li><li>废弃了3DES、RC4、AES-CBC等加密组件。废弃了SHA1、MD5等哈希算法。</li><li>不再允许对加密报文进行压缩、不再允许双方发起重协商，密钥的改变不再需要发送change_cipher_spec报文给对方。</li><li>握手阶段的报文可见明文大大减少。</li></ul><hr><h3 id="0x04-TLS-1-3完整握手工作流"><a href="#0x04-TLS-1-3完整握手工作流" class="headerlink" title="0x04 TLS 1.3完整握手工作流"></a>0x04 TLS 1.3完整握手工作流</h3><ul><li>+表示该报文中值得注意的extension</li><li>*表示该内容也可能不被发送</li><li>{} 表示该内容使用handshake_key加密</li><li>[] 表示该内容使用application_key加密</li></ul><hr><h3 id="0x05-速度优势"><a href="#0x05-速度优势" class="headerlink" title="0x05 速度优势"></a>0x05 速度优势</h3><p>在 Web 性能方面，TLS 和加密连接总是增加了一些开销。HTTP &#x2F; 2 肯定有助于解决这个问题，但 TLS 1.3 通过 TLS 错误启动和零往返时间（0-RTT）等功能帮助加速加密连接。</p><p>简单地说，使用 TLS 1.2，需要两次往返才能完成 TLS hand­shake。使用 1.3 时，它只需要一次往返， 从而将加密延迟减少一半。这有助于这些加密连接感觉比以前更快一点。</p><hr><h3 id="0x06-如何为自己站点启用TLS-1-3"><a href="#0x06-如何为自己站点启用TLS-1-3" class="headerlink" title="0x06 如何为自己站点启用TLS 1.3"></a>0x06 如何为自己站点启用TLS 1.3</h3><p>演示环境:</p><ul><li>面板：宝塔面板 6.8.3</li><li>系统：Centos 7.5</li><li>Nginx：1.15.6</li></ul><p>修改网站配置文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//替换</span><br><span class="line">ssl_ciphers TLS13-AES-256-GCM-SHA384:TLS13-CHACHA20-POLY1305-SHA256:TLS13-AES-128-GCM-SHA256:EECDH+CHACHA20:EECDH+CHACHA20-draft:EECDH+ECDSA+AES128:EECDH+aRSA+AES128:RSA+AES128:EECDH+ECDSA+AES256:EECDH+aRSA+AES256:RSA+AES256:EECDH+ECDSA+3DES:EECDH+aRSA+3DES:RSA+3DES:!MD5;</span><br><span class="line">//替换</span><br><span class="line">ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3;</span><br><span class="line">//增加</span><br><span class="line">add_header Strict-Transport-Security &quot;max-age=31536000&quot;;</span><br></pre></td></tr></table></figure><hr><h3 id="0x07-开启成功"><a href="#0x07-开启成功" class="headerlink" title="0x07 开启成功"></a>0x07 开启成功</h3><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/1814070566.png" alt="TIM图片20181216133616.png"></p><p>TIM图片20181216133616.png</p><hr><h3 id="0x08-总结"><a href="#0x08-总结" class="headerlink" title="0x08 总结"></a>0x08 总结</h3><p>TLS 1.3 使用了复杂的密钥导出过程，增强了最终使用的密钥的安全性。同时简化了所使用的加密算法，废弃了 RC4、3DES、MD5、SHA1、AES-CBC 等加密算法，删除了压缩、重协商等具有漏洞的机制，大大精简了协议。 因此，TLS 1.3 如果能够得到普及，网络数据的传递将会变得更加安全、隐秘，TLS 1.3 的推广需要每一位开发者、运营者的认可和支持。</p><p>目前 TLS 1.3 虽然还在草案阶段，但是其基本原理和思想已经应用在了实际生活中，chrome 等浏览器都已准备好了对其的支持，期待 TLS 1.3 正式成为一个协议规范的那一天。</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2020/04/05/centos-7-%E6%90%AD%E5%BB%BAdns%E6%AD%A3%E5%8F%8D%E5%90%91%E8%A7%A3%E6%9E%90/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2020/04/05/centos-7-%E6%90%AD%E5%BB%BAdns%E6%AD%A3%E5%8F%8D%E5%90%91%E8%A7%A3%E6%9E%90/" class="post-title-link" itemprop="url">Centos 7 搭建DNS正反向解析</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-04-05 14:41:03" itemprop="dateCreated datePublished" datetime="2020-04-05T14:41:03+08:00">2020-04-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.3k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>请注意，本文编写于 216 天前，最后修改于 188 天前，其中某些信息可能已经过时。</p><h3 id="0x01-服务安装"><a href="#0x01-服务安装" class="headerlink" title="0x01 服务安装"></a>0x01 服务安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install bind -y</span><br></pre></td></tr></table></figure><h3 id="0x02-修改named-conf"><a href="#0x02-修改named-conf" class="headerlink" title="0x02 修改named.conf"></a>0x02 修改named.conf</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/named.conf</span><br><span class="line"> //监听端口，默认为127.0.0.1,修改为any,监听所有地址的53端口，或删除此行配置，默认监听所有地址的53端口</span><br><span class="line"> listen-on port 53 &#123; any; &#125;;，</span><br><span class="line"> //允许查询DNS服务器的来源，默认为localhost，修改为any代表允许所有来源，或删除此行配置，默认允许所有来源</span><br><span class="line"> allow-query     &#123; any; &#125;;</span><br></pre></td></tr></table></figure><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/390800629.png"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/named.rfc1912.zones</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">编辑named.rfc1912.zone，在末尾添加如下内容</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">正向解析</span></span><br><span class="line">zone &quot;hello.com&quot; IN &#123;</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;mydomain.com.zone&quot;;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">反向解析</span></span><br><span class="line">zone &quot;1.168.192.in-addr.arpa&quot; IN &#123;</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;mydomain.com.local&quot;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/1708073978.png"></p><h3 id="0x03-创建正解析文件"><a href="#0x03-创建正解析文件" class="headerlink" title="0x03 创建正解析文件"></a>0x03 创建正解析文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">复制模板</span></span><br><span class="line">cd /var/named</span><br><span class="line">cp -p named.localhost mydomain.com.zone</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">TTL 1D</span></span><br><span class="line">@       IN SOA  mydomain.com.  admin.mydomain.com (</span><br><span class="line">                                        1       ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">                                        3H )    ; minimum</span><br><span class="line">@        IN    NS   dns.mydomain.com.</span><br><span class="line">dns     IN     A    192.168.1.125</span><br><span class="line">@        IN    A     192.168.1.122</span><br></pre></td></tr></table></figure><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/1201424862.png"></p><h3 id="0x04-创建反解析文件"><a href="#0x04-创建反解析文件" class="headerlink" title="0x04 创建反解析文件"></a>0x04 创建反解析文件</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">复制模板</span></span><br><span class="line">cp -p named.localhost mydomain.com.local</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash">TTL 1D</span></span><br><span class="line">@       IN SOA  mydomain.com.  admin.mydomain.com (</span><br><span class="line">                                        1       ; serial</span><br><span class="line">                                        1D      ; refresh</span><br><span class="line">                                        1H      ; retry</span><br><span class="line">                                        1W      ; expire</span><br><span class="line">                                        3H )    ; minimum</span><br><span class="line">@        IN    NS     dns.mydomain.com.</span><br><span class="line">125     IN    PTR   dns.mydomain.com.</span><br><span class="line">122     IN    PTR   mydomain.com.</span><br></pre></td></tr></table></figure><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/2071367073.png"></p><h3 id="0x05-主配置文件语法检查"><a href="#0x05-主配置文件语法检查" class="headerlink" title="0x05 主配置文件语法检查"></a>0x05 主配置文件语法检查</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">named-checkconf -z /etc/named.conf</span><br></pre></td></tr></table></figure><h3 id="0x06-权限修改"><a href="#0x06-权限修改" class="headerlink" title="0x06 权限修改"></a>0x06 权限修改</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">由于文件是在root用户下创建，named无法读取</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">需要修改文件权限，否则会出现server can<span class="string">&#x27;t find *: SERVFAIL错误</span></span></span><br><span class="line">chown named mikuac.cn.zone</span><br><span class="line">chown named mikuac.cn.loacl</span><br></pre></td></tr></table></figure><h3 id="0x07-端口开放"><a href="#0x07-端口开放" class="headerlink" title="0x07 端口开放"></a>0x07 端口开放</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">开放TCP与UDP 53端口</span></span><br><span class="line">firewall-cmd --permanent --add-port=53/tcp</span><br><span class="line">firewall-cmd --permanent --add-port=53/udp</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><h3 id="0x08-服务启动"><a href="#0x08-服务启动" class="headerlink" title="0x08 服务启动"></a>0x08 服务启动</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start named</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2020/04/05/pi-hole-%E8%87%AA%E5%BB%BAdns%E5%8E%BB%E5%B9%BF%E5%91%8A%EF%BC%88%E5%AE%89%E8%A3%85%E7%AF%87%EF%BC%89/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2020/04/05/pi-hole-%E8%87%AA%E5%BB%BAdns%E5%8E%BB%E5%B9%BF%E5%91%8A%EF%BC%88%E5%AE%89%E8%A3%85%E7%AF%87%EF%BC%89/" class="post-title-link" itemprop="url">Pi-Hole 自建DNS去广告（安装篇）</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-04-05 14:40:11" itemprop="dateCreated datePublished" datetime="2020-04-05T14:40:11+08:00">2020-04-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>697</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="0x01-Pi-Hole简介"><a href="#0x01-Pi-Hole简介" class="headerlink" title="0x01 Pi-Hole简介"></a>0x01 Pi-Hole简介</h3><blockquote><p>Pi-Hole是一个比较好用的自建DNS去广告方案，除阻止广告外，Pi-hole还提供了一个信息丰富的Web界面，可显示网络上正在查询的所有域的统计信息。</p></blockquote><h3 id="0x02-开始安装"><a href="#0x02-开始安装" class="headerlink" title="0x02 开始安装"></a>0x02 开始安装</h3><blockquote><p><a target="_blank" rel="noopener" href="https://github.com/pi-hole/pi-hole"><strong>Pi-Hole GitHub地址</strong></a> <a target="_blank" rel="noopener" href="https://docs.pi-hole.net/"><strong>Pi-Hole文档</strong></a></p></blockquote><p>Pi-Hole 的安装还是比较简单的，只需要一行命令</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">安装Curl</span></span><br><span class="line">yum -y install curl</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">安装Pi-Hole</span></span><br><span class="line">curl -sSL https://install.pi-hole.net  bash</span><br></pre></td></tr></table></figure><blockquote><p><strong>开始安装</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/3494593723.png"></p><blockquote><p><strong>推荐使用的PHP版本，直接YES</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/531241356.png"></p><blockquote><p><strong>提示系统上正在运行SELinux，一定要关闭SELinux，否则Web管理界面无法正常运行！！！</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/952465347.png"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">临时关闭SELinux</span></span><br><span class="line">setenforce 0</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">永久关闭SELinux</span></span><br><span class="line">vim /etc/sysconfig/selinux</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">SELINUX=enforcing 改为 SELINUX=disabled</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><blockquote><p><strong>下面一路回车过去就行</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/4246450777.png"></p><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/954060440.png"></p><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/2527302861.png"></p><blockquote><p><strong>首选DNS服务器,选Google就可以（忘了截图，从网上找了张）</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/2700399899.png"></p><blockquote><p><strong>广告过滤列表，可以根据自己需求选择，默认全选****广告过滤列表，可以根据自己需求选择，默认全选</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/3809775775.png"></p><blockquote><p><strong>选择协议，由于我暂时无IPV6，所以只勾选IPV4</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/3266936785.png"></p><blockquote><p><strong>确认IP信息</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/928696902.png"></p><blockquote><p><strong>继续回车</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/2191870302.png"></p><blockquote><p><strong>是否安装Web管理界面，选择安装</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/2718320144.png"></p><blockquote><p><strong>这个也装，否则Web管理界面无法正常使用</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/3468102405.png"></p><blockquote><p><strong>日志，直接回车</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/2665090561.png"></p><blockquote><p><strong>隐私设置，默认即可</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/2151213386.png"></p><blockquote><p><strong>接下来继续等待安装完成</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/4247291723.png"></p><blockquote><p><strong>开放防火墙http和dns端口权限给Pi-Hole</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/1539284596.png"></p><blockquote><p><strong>安装完成，显示了默认密码，根据所显示信息上的地址与密码进入Web管理界面</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/1601540478.png"></p><blockquote><p><strong>以下为Web管理界面</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/636154081.png"></p><blockquote><p><strong>点击左侧Login即可进入设置界面</strong></p></blockquote><p><img src="https://www.jarods.org/wp-content/uploads/2020/04/2712928974.png"></p><blockquote><h3 id="至此，安装部分告一段落，使用教程后续会更新。"><a href="#至此，安装部分告一段落，使用教程后续会更新。" class="headerlink" title="至此，安装部分告一段落，使用教程后续会更新。"></a>至此，安装部分告一段落，使用教程后续会更新。</h3></blockquote></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2020/03/11/%E4%BD%BF%E7%94%A8githubjsdelivrpicgo%EF%BC%8C%E6%89%93%E9%80%A0%E8%87%AA%E7%94%A8%E3%80%81%E5%85%8D%E8%B4%B9%E3%80%81%E5%BF%AB%E9%80%9F%E3%80%81%E7%A8%B3%E5%AE%9A%E5%9B%BE%E5%BA%8A/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2020/03/11/%E4%BD%BF%E7%94%A8githubjsdelivrpicgo%EF%BC%8C%E6%89%93%E9%80%A0%E8%87%AA%E7%94%A8%E3%80%81%E5%85%8D%E8%B4%B9%E3%80%81%E5%BF%AB%E9%80%9F%E3%80%81%E7%A8%B3%E5%AE%9A%E5%9B%BE%E5%BA%8A/" class="post-title-link" itemprop="url">使用Github+jsDelivr+PicGo，打造自用、免费、快速、稳定图床</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-03-11 17:23:56" itemprop="dateCreated datePublished" datetime="2020-03-11T17:23:56+08:00">2020-03-11</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>488</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>GitHub：全球最大开源托管站，微软旗下。 jsDelivr：免费、稳定的CDN PicGo：开源的图床，支持win、linux等系统。</p><p>下面是设置教程，很简单，基本就是鼠标点下就行。</p><p>一、Github上的设置</p><p>1、新建github仓库 进入 <a target="_blank" rel="noopener" href="https://github.com/">https://github.com/</a> ，点击绿色的 New <img src="https://www.jarods.org/wp-content/uploads/2020/03/gjp-01.jpg"></p><p><img src="https://www.jarods.org/wp-content/uploads/2020/03/gjp-02.jpg"></p><p>2、获取token 打开 <a target="_blank" rel="noopener" href="https://github.com/settings/tokens%EF%BC%8C%E7%82%B9%E5%87%BB%E5%8F%B3%E4%BE%A7%E7%9A%84">https://github.com/settings/tokens，点击右侧的</a> Generate new token，获取的一串字符就是token（麻烦保存好） <img src="https://www.jarods.org/wp-content/uploads/2020/03/gjp-03.jpg"></p><p><img src="https://www.jarods.org/wp-content/uploads/2020/03/gjp-04.jpg"></p><p><img src="https://www.jarods.org/wp-content/uploads/2020/03/gjp-05.jpg"></p><p>二、PicGo设置</p><p>根据需要下载：<a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/picgo/releases%EF%BC%8C%E4%B8%8B%E9%9D%A2%E6%98%AFwin%E4%B8%8B%E7%9A%84%E8%AE%BE%E7%BD%AE%E3%80%82">https://github.com/Molunerfinn/picgo/releases，下面是win下的设置。</a> PicGo-Setup-2.2.2.exe下载：<a target="_blank" rel="noopener" href="https://www.lanzous.com/ia1xh8j">https://www.lanzous.com/ia1xh8j</a> <img src="https://www.jarods.org/wp-content/uploads/2020/03/gjp-06.jpg"></p><p>三、jsDelivr的CDN使用 前缀为 <a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/">https://cdn.jsdelivr.net/gh/</a> ，后面是github用户名和仓库</p><p>演示（8M）：<a target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/gh/guonning/low/img/opo0328a.jpg">https://cdn.jsdelivr.net/gh/guonning/low/img/opo0328a.jpg</a></p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2020/02/09/linux%E4%B8%8B%EF%BC%8Cbbr-bbr2-bbr-plus-%E9%94%90%E9%80%9F%E7%AD%89%E5%A4%9A%E5%90%88%E4%B8%80%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2020/02/09/linux%E4%B8%8B%EF%BC%8Cbbr-bbr2-bbr-plus-%E9%94%90%E9%80%9F%E7%AD%89%E5%A4%9A%E5%90%88%E4%B8%80%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC/" class="post-title-link" itemprop="url">Linux下，BBR/BBR2/BBR Plus/ 锐速等多合一安装脚本</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-02-09 02:28:00" itemprop="dateCreated datePublished" datetime="2020-02-09T02:28:00+08:00">2020-02-09</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>999</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>可一键安装BBR、BBR2、BBR Plus、锐速等。安装是先安装内核，然后再启用加速。</p><p>建议SSH下，root用户。</p><p><img src="/2021/12/tcp-nice.jpg"></p><p><strong>一、安装证书</strong> <code>apt-get -y install ca-certificates</code> 或 <code>yum -y install ca-certificates</code></p><p><strong>二、安装</strong></p><p>1、不卸载内核（安全，若出现不能启动等，可VNC换启动内核）</p><p>wget -O tcpx.sh “<a target="_blank" rel="noopener" href="https://github.com/ylx2016/Linux-NetSpeed/raw/master/tcpx.sh&quot;">https://github.com/ylx2016/Linux-NetSpeed/raw/master/tcpx.sh&quot;</a> &amp;&amp; chmod +x tcpx.sh &amp;&amp; .&#x2F;tcpx.sh</p><p>或</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate &quot;https://zhujiwiki.com/wp-content/uploads/2020/02/tcpx.sh&quot; &amp;&amp; chmod +x tcpx.sh &amp;&amp; ./tcpx.sh</span><br></pre></td></tr></table></figure><p>2、卸载内核（节省空间，强迫症）</p><p>wget -O tcp.sh “<a target="_blank" rel="noopener" href="https://github.com/ylx2016/Linux-NetSpeed/raw/master/tcp.sh&quot;">https://github.com/ylx2016/Linux-NetSpeed/raw/master/tcp.sh&quot;</a> &amp;&amp; chmod +x tcp.sh &amp;&amp; .&#x2F;tcp.sh</p><p>或</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate &quot;https://zhujiwiki.com/wp-content/uploads/2020/02/tcp.sh&quot; &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh</span><br></pre></td></tr></table></figure><p><strong>三、相关问题</strong></p><p>1、双持bbr+锐速 bbr 添加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;net.core.default_qdisc=fq&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">echo &quot;net.ipv4.tcp_congestion_control=bbr&quot; &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><p>编辑锐速文件</p><p>nano &#x2F;appex&#x2F;etc&#x2F;config</p><p>2、提示Abort kernel removal? 选择No</p><p>开源页面：<a target="_blank" rel="noopener" href="https://github.com/ylx2016/Linux-NetSpeed/releases">https://github.com/ylx2016/Linux-NetSpeed/releases</a></p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2020/01/12/%E6%8F%90%E9%AB%98github-clone%E9%80%9F%E5%BA%A6/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2020/01/12/%E6%8F%90%E9%AB%98github-clone%E9%80%9F%E5%BA%A6/" class="post-title-link" itemprop="url">提高Github Clone速度</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-01-12 13:47:59" itemprop="dateCreated datePublished" datetime="2020-01-12T13:47:59+08:00">2020-01-12</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a> </span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Mac/" itemprop="url" rel="index"><span itemprop="name">Mac</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>530</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><hr><p>Github作为全球最大的同性交友网站，一直广受开发者们的喜爱，但是由于某些不可描述的原因，在访问、克隆、拉取、推送的时候，经常莫名其妙的不好使，速度慢的让人无法忍受。解决这个问题（克隆、拉取、推送）的一个途径就是通过代理，绕过 <strong>某长城</strong> 。</p><h1 id="配置本地代理"><a href="#配置本地代理" class="headerlink" title="配置本地代理"></a>配置本地代理</h1><hr><p>关于代理服务器的事儿就不多说了，要么买，要么租vps自己搭建。一下内容的先决条件是你拥有一个好使的代理服务。 用<code>shadowsocks</code>开启代理后，右键点击托盘中的纸飞机，选择选项配置：</p><p><img src="https://www.jarods.org/wp-content/uploads/2020/01/git1.png" alt="图片无法显示"></p><p>设置一个本地代理端口号，如果需要局域网其它用户也通过此代理，需要勾选 <em>允许来自局域网的连接</em> 选项：</p><p><img src="https://www.jarods.org/wp-content/uploads/2020/01/git2.png" alt="图片无法显示"></p><h1 id="设置git代理"><a href="#设置git代理" class="headerlink" title="设置git代理"></a>设置git代理</h1><hr><p>通过以下命令设置git的代理：</p><p>1<br>2</p><p>git config –global http.proxy ‘socks5:&#x2F;&#x2F;ip:1080’<br>git config –global https.proxy ‘socks5:&#x2F;&#x2F;ip:1080’</p><p>这里需要注意的是，如果本机使用的话，ip用<code>127.0.0.1</code>即可,局域网ip能不能用我没有测试。如果需要取消代理，可以用下面的代码：</p><p>1<br>2</p><p>git config –global –unset http.proxy<br>git config –global –unset https.proxy</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2020/01/05/brook-%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91-%E4%B8%80%E9%94%AE%E7%AE%A1%E7%90%86%E8%84%9A%E6%9C%AC%EF%BC%8C%E6%94%AF%E6%8C%81ddns/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2020/01/05/brook-%E7%AB%AF%E5%8F%A3%E8%BD%AC%E5%8F%91-%E4%B8%80%E9%94%AE%E7%AE%A1%E7%90%86%E8%84%9A%E6%9C%AC%EF%BC%8C%E6%94%AF%E6%8C%81ddns/" class="post-title-link" itemprop="url">Brook 端口转发 一键管理脚本，支持DDNS</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-01-05 22:50:35" itemprop="dateCreated datePublished" datetime="2020-01-05T22:50:35+08:00">2020-01-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>454</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>基于原 Brook端口转发 一键管理脚本 的修改版，增加对动态域名的支持，开启监控后自动更新域名IP。</p><p>基于iptables防火墙，记得安装iptables。</p><p>安装Brook，然后配置端口转发，最后启动Brook。</p><p>wget <a target="_blank" rel="noopener" href="https://zhujiwiki.com/wp-content/uploads/2020/01//brook-pf-mod.sh">https://zhujiwiki.com/wp-content/uploads/2020/01//brook-pf-mod.sh</a> &amp;&amp; chmod +x brook-pf-mod.sh<br>.&#x2F;brook-pf-mod.sh</p><p><img src="http://www.jarods.org/wp-content/uploads/2020/01/Brook-zhuanfa.png"></p><p><img src="http://www.jarods.org/wp-content/uploads/2020/01/Brook-zhuanfa2.png"></p><p>转自：<a target="_blank" rel="noopener" href="https://github.com/yulewang/brook/">https://github.com/yulewang/brook/</a></p><p>1、卸载 firewalld 和 ufw</p><p>apt remove firewalld ufw</p><p>或</p><p>yum remove firewalld ufw</p><p>然后重启。</p><p>2、安装iptables</p><p>yum install -y iptables<br>yum update iptables<br>yum install iptables-services</p><p>iptables配置文件：&#x2F;etc&#x2F;sysconfig&#x2F;iptables</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2020/01/05/%E4%B8%80%E4%B8%AA%E6%9E%81%E7%AE%80%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%9Acaddy%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%EF%BC%8C%E5%B8%A6%E7%BD%91%E7%AB%99%E9%85%8D%E7%BD%AE/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2020/01/05/%E4%B8%80%E4%B8%AA%E6%9E%81%E7%AE%80%E7%9A%84http%E6%9C%8D%E5%8A%A1%E5%99%A8%EF%BC%9Acaddy%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%EF%BC%8C%E5%B8%A6%E7%BD%91%E7%AB%99%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">一个极简的HTTP服务器：Caddy一键安装脚本，带网站配置教程</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-01-05 14:03:32" itemprop="dateCreated datePublished" datetime="2020-01-05T14:03:32+08:00">2020-01-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>3k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>3 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p><strong>系统要求：</strong><code>CentOS 6+</code> &#x2F; <code>Debian 6+</code>&#x2F; <code>Ubuntu 14.04 +</code>。推荐<code>Debian 7 x64</code>。</p><p>本脚本只是一个一键安装+运行控制的脚本，没有其他管理虚拟主机等功能。</p><p>执行下面的代码安装<code>Caddy</code>，如果想要安装其他扩展可以把名字加到命令后面（<code>bash caddy_install.sh install xxx,xxx,xxx，</code>扩展列表单击<a target="_blank" rel="noopener" href="https://caddyserver.com/download">查看</a>）。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh</span><br><span class="line">#备用地址</span><br><span class="line">wget -N --no-check-certificate https://www.moerats.com/usr/shell/Caddy/caddy_install.sh &amp;&amp; chmod +x caddy_install.sh &amp;&amp; bash caddy_install.sh</span><br></pre></td></tr></table></figure><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">启动：/etc/init.d/caddy start</span><br><span class="line">停止：/etc/init.d/caddy stop</span><br><span class="line">重启：/etc/init.d/caddy restart</span><br><span class="line">查看状态：/etc/init.d/caddy status</span><br><span class="line">查看Caddy启动日志：tail -f /tmp/caddy.log</span><br><span class="line">安装目录：/usr/local/caddy</span><br><span class="line">Caddy配置文件位置：/usr/local/caddy/Caddyfile</span><br><span class="line">Caddy自动申请SSL证书位置：/.caddy/acme/acme-v01.api.letsencrypt.org/sites/xxx.xxx(域名)/</span><br></pre></td></tr></table></figure><h2 id="升级Caddy或者更新扩展"><a href="#升级Caddy或者更新扩展" class="headerlink" title="升级Caddy或者更新扩展"></a>升级Caddy或者更新扩展</h2><p>只需要重新执行你当初安装时候用的命令即可，会覆盖安装最新的<code>Caddy+</code>扩展。</p><h2 id="卸载球童"><a href="#卸载球童" class="headerlink" title="卸载球童"></a>卸载球童</h2><p>卸载不会删除虚拟主机的内容，只会删除<code>Caddy</code>自身和配置文件。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubiBackup/doubi/master/caddy_install.sh &amp;&amp; bash caddy_install.sh uninstall</span><br><span class="line">#备用地址</span><br><span class="line">wget -N --no-check-certificate https://www.moerats.com/usr/shell/Caddy/caddy_install.sh &amp;&amp; bash caddy_install.sh uninstall</span><br></pre></td></tr></table></figure><h2 id="网站配置文件"><a href="#网站配置文件" class="headerlink" title="网站配置文件"></a>网站配置文件</h2><p>配置文件为<code>Caddyfile</code>，双重几种<code>caddy</code>的<code>conf</code>的写法</p><p><strong>1，本地访问80</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:80</span><br></pre></td></tr></table></figure><p><strong>2，单网站访问</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">example.com</span><br><span class="line">root /usr/local/caddy/www</span><br><span class="line">//更多模块</span><br></pre></td></tr></table></figure><p><strong>2，多网站</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">example.com &#123;</span><br><span class="line">  gzip</span><br><span class="line">  root /usr/local/caddy/www</span><br><span class="line">  //更多模块</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>常用基本组成模块，均写入到<code>conf</code>站点配置中。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#log日志</span><br><span class="line">log /usr/local/caddy/www/example.log</span><br><span class="line"></span><br><span class="line">#目录访问</span><br><span class="line">browse</span><br><span class="line"></span><br><span class="line">#gzip压缩</span><br><span class="line">gzip</span><br><span class="line"></span><br><span class="line">#自主ssl证书</span><br><span class="line">tls /path/ssl/example.com.crt /path/ssl/example.com.key</span><br><span class="line"></span><br><span class="line">#访问口令认证（用户emiria，密码abc123）</span><br><span class="line">basicauth / emiria abc123</span><br><span class="line"></span><br><span class="line">#跳转功能</span><br><span class="line">redir http://example.com&#123;url&#125;</span><br><span class="line"></span><br><span class="line">#自定义错误页面</span><br><span class="line">errors &#123;</span><br><span class="line">    404 404.html</span><br><span class="line">    500 /usr/local/caddy/www/500.html</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>例如，通过<code>IP</code>即<code>80</code>端口访问目录：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">:80 &#123;</span><br><span class="line">     root /usr/local/caddy/www</span><br><span class="line">     gzip</span><br><span class="line">     browse</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>也可以直接执行命令编写，以下是一个命令，直接复制粘贴即可。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;:80 &#123;</span><br><span class="line"> root /usr/local/caddy/www</span><br><span class="line"> gzip</span><br><span class="line"> browse</span><br><span class="line">&#125;&quot; &gt; /usr/local/caddy/Caddyfile</span><br></pre></td></tr></table></figure><p>更多配置参考：<a target="_blank" rel="noopener" href="https://caddyserver.com/tutorial/caddyfile">https:</a> &#x2F;&#x2F;caddyserver.com&#x2F;tutorial&#x2F;caddyfile设置文档参考：<a target="_blank" rel="noopener" href="https://caddyserver.com/docs">https</a> : &#x2F;&#x2F;caddyserver.com&#x2F;docs</p><h2 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h2><p><strong>1，Caddy启动失败，打开ip访问地址显示的是！</strong> 一些系统会自带<code>apache2</code>，而<code>apache2</code>会占用<code>80</code>端口，导致<code>Caddy</code>无法绑定端口，所以只要关掉就好了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">netstat -lntp</span><br><span class="line"># 我们可以通过这个命令查看是不是被其他软件占用了80端口。</span><br></pre></td></tr></table></figure><p>不过<code>apache2</code>会默认开机自启动，如果不需要可以关闭自启动或卸载<code>apache2</code>。</p><p>停止<code>Apache2</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># CentOS系统</span><br><span class="line">/etc/init.d/httpd stop</span><br><span class="line"># Debian/Ubuntu系统</span><br><span class="line">/etc/init.d/apache2 stop</span><br><span class="line"> </span><br><span class="line"># 尝试使用上面代码关闭，如果没效果或者提示什么错误无法关闭，那就用下面这个强行关闭进程。</span><br><span class="line">kill -9 $(ps -efgrep &quot;apache2&quot;grep -v &quot;grep&quot;awk &#x27;&#123;print $2&#125;&#x27;)</span><br></pre></td></tr></table></figure><p>取消开机自启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># CentOS 系统</span><br><span class="line">chkconfig --del httpd</span><br><span class="line"># Debian/Ubuntu 系统</span><br><span class="line">update-rc.d -f apache2 remove</span><br></pre></td></tr></table></figure><p>卸载<code>Apache2</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># CentOS 系统</span><br><span class="line">yum remove httpd</span><br><span class="line"># Debian/Ubuntu 系统</span><br><span class="line">apt-get remove --purge apache2</span><br></pre></td></tr></table></figure><p>关闭<code>Apache2</code>后，就可以<code>Caddy</code>尝试启动，并试试能不能打开网页。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/caddy start</span><br></pre></td></tr></table></figure><p><strong>2，启动Caddy后，无法访问</strong> 这个可能是防火墙的问题，开放防火墙端口即可。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">iptables -I INPUT -m state --state NEW -m tcp -p tcp --dport 端口 -j ACCEPT</span><br><span class="line">iptables -I INPUT -m state --state NEW -m udp -p udp --dport 端口 -j ACCEPT</span><br><span class="line"> </span><br><span class="line"># 删除防火墙规则，内容一样把 -I 换成 -D 就行了：</span><br><span class="line">iptables -D INPUT -m state --state NEW -m tcp -p tcp --dport 端口 -j ACCEPT</span><br><span class="line">iptables -D INPUT -m state --state NEW -m udp -p udp --dport 端口 -j ACCEPT</span><br></pre></td></tr></table></figure><p><strong>3，SSL证书</strong> 签发<strong>失败失败</strong>报错<code>acme: error: 400 :: urn:ietf:params:acme:error:connection :: Error getting validation data, url:</code>，检查下防火墙端口，需要开启<code>80</code>和<code>443</code>端口，然后重启即可。</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><nav class="pagination"><a class="extend prev" rel="prev" href="/page/8/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><span class="page-number current">9</span><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" href="/page/10/"><i class="fa fa-angle-right" aria-label="下一页"></i></a></nav></div><script>window.addEventListener("tabs:register",()=>{let t=CONFIG.comments["activeClass"];var e;(t=CONFIG.comments.storage?localStorage.getItem("comments_active")||t:t)&&(e=document.querySelector(`a[href="#comment-${t}"]`))&&e.click()}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Jarod</p><div class="site-description" itemprop="description">记录生活中的点点滴滴</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">262</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">6</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">306</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/jarodvip" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jarodvip" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Jarod</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="站点总字数">658k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">9:58</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script></body></html>