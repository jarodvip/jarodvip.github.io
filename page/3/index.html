<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"jarod.vip",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"always",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!1,scrollpercent:!1},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="记录生活中的点点滴滴"><meta property="og:type" content="website"><meta property="og:title" content="Jarod&#39;s Blog"><meta property="og:url" content="https://jarod.vip/page/3/index.html"><meta property="og:site_name" content="Jarod&#39;s Blog"><meta property="og:description" content="记录生活中的点点滴滴"><meta property="og:locale" content="zh_CN"><meta property="article:author" content="Jarod"><meta property="article:tag" content="VPS,hexo,linux,debian,windows,macos"><meta name="twitter:card" content="summary"><link rel="canonical" href="https://jarod.vip/page/3/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!0,isPost:!1,lang:"zh-CN"}</script><title>Jarod's Blog</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="Jarod's Blog" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">Jarod's Blog</h1><span class="logo-line-after"><i></i></span></a></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span>0%</span></div><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content index posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2022/01/05/github/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/01/05/github/" class="post-title-link" itemprop="url">Github</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-01-05 23:50:12" itemprop="dateCreated datePublished" datetime="2022-01-05T23:50:12+08:00">2022-01-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>2.5k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>2 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="github-com-SSH-加速访问"><a href="#github-com-SSH-加速访问" class="headerlink" title="github.com SSH 加速访问"></a>github.com SSH 加速访问</h2><p>修改 C:\Users\Dell\.ssh\config 文件，添加如下内容：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  User git</span><br><span class="line">  Port 22</span><br><span class="line">  Hostname github.com</span><br><span class="line">  IdentityFile &quot;C:/Users/Dell/.ssh/id_ecdsa&quot;</span><br><span class="line">  TCPKeepAlive yes</span><br><span class="line">  ProxyCommand connect -S 127.0.0.1:7891 -a none %h %p</span><br></pre></td></tr></table></figure><h2 id="全局设置-GPG-签名工具"><a href="#全局设置-GPG-签名工具" class="headerlink" title="全局设置 GPG 签名工具"></a>全局设置 GPG 签名工具</h2><p>GPG4Win 下载地址：<a target="_blank" rel="noopener" href="https://www.gpg4win.org/">https://www.gpg4win.org/</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global gpg.program &quot;C:/Program Files (x86)/GnuPG/bin/gpg.exe&quot;</span><br></pre></td></tr></table></figure><h2 id="列举-GPG-Key"><a href="#列举-GPG-Key" class="headerlink" title="列举 GPG Key"></a>列举 GPG Key</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gpg --list-secret-keys --keyid-format=long</span><br></pre></td></tr></table></figure><h2 id="针对-Git-Repo-启用-GPG-签名"><a href="#针对-Git-Repo-启用-GPG-签名" class="headerlink" title="针对 Git Repo 启用 GPG 签名"></a>针对 Git Repo 启用 GPG 签名</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --local user.signingkey [YOUR GPG KEY]</span><br><span class="line">git config --local commit.gpgsign true</span><br></pre></td></tr></table></figure><h1 id="github走proxy"><a href="#github走proxy" class="headerlink" title="github走proxy"></a>github走proxy</h1><p>1.首先开启代理，这种方式只支持https方式，ssh不行</p><p>2.给全局git-config配置代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.https://github.com.proxy socks5://127.0.0.1:50001</span><br></pre></td></tr></table></figure><p>3.clone的时候使用proxy</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/xxx.git -c http.proxy=socks5://127.0.0.1:50001</span><br></pre></td></tr></table></figure><p>4.取消全局代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset http.https://github.com.proxy</span><br></pre></td></tr></table></figure><h1 id="直接用git下载Gist-ID内容"><a href="#直接用git下载Gist-ID内容" class="headerlink" title="直接用git下载Gist ID内容"></a>直接用git下载Gist ID内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:cc13e0fcf2c348cc126f918e4a3917eb.git</span><br></pre></td></tr></table></figure><h1 id="github与七牛云持续集成"><a href="#github与七牛云持续集成" class="headerlink" title="github与七牛云持续集成"></a>github与七牛云持续集成</h1><p>七牛云的CDN提供API刷新缓存服务，我们可以使用github的webhooks来触发刷新。</p><p>1.首先配置github的hook：</p><p>在项目里找到settings-&gt;Webhooks</p><p>设置：Payload URL 项为我们服务器的地址，然后保存</p><p>2.生成token，如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;/v2/tune/refresh&quot; openssl dgst -binary -hmac &quot;用户SK&quot; -sha1 base64  tr + -  tr / _</span><br></pre></td></tr></table></figure><p>3.编写服务端脚本，来触发七牛API:</p><p>比如我用PHP来触发<a href="http://git.malu.me：">http://git.malu.me：</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">#七牛刷新缓存函数</span><br><span class="line">function refresh_qiniu($path)&#123;</span><br><span class="line">         $message = exec(&#x27;curl -X POST -H &quot;Authorization: QBox &lt;用户AK&gt;:&lt;生成的token&gt;&quot; http://fusion.qiniuapi.com/v2/tune/refresh -d \&#x27;&#x27;.json_encode($path).&#x27;\&#x27; -H \&#x27;Content-Type: application/json\&#x27; 2&gt;&amp;1&#x27;);</span><br><span class="line">         return $message;</span><br><span class="line">&#125;</span><br><span class="line">$getin = file_get_contents(&quot;php://input&quot;);</span><br><span class="line">#追加写入日志</span><br><span class="line">file_put_contents(&#x27;file.log&#x27;,$getin, FILE_APPENDLOCK_EX);</span><br><span class="line">$getinarr = json_decode($getin);</span><br><span class="line">$getinarr = $getinarr-&gt;commits[0];</span><br><span class="line">$path = array();</span><br><span class="line">#添加文章</span><br><span class="line">if(!empty($getinarr-&gt;added)  !empty($getinarr-&gt;removed))&#123;</span><br><span class="line">   echo &#x27;刷page:&#x27;;</span><br><span class="line">   $path[&#x27;urls&#x27;]=array(&#x27;http://git.malu.me&#x27;,&#x27;http://git.malu.me/index.html&#x27;);</span><br><span class="line">   $path[&#x27;dirs&#x27;]=array(&#x27;http://git.malu.me/page/*&#x27;);</span><br><span class="line">   echo refresh_qiniu($path);</span><br><span class="line">&#125;</span><br><span class="line">#修改文章</span><br><span class="line">if(!empty($getinarr-&gt;modified))&#123;</span><br><span class="line">   echo &#x27;刷url:&#x27;;</span><br><span class="line">   foreach($getinarr-&gt;modified as $key=&gt;$value)&#123;</span><br><span class="line">      //echo $value;</span><br><span class="line">      #匹配出文章名</span><br><span class="line">      if(preg_match(&#x27;/-\d\d-\d\d-(.*?)\.md/is&#x27;, $value, $out))&#123;</span><br><span class="line">         //var_dump($out);</span><br><span class="line">         echo $out[1];</span><br><span class="line">         #对中文编码</span><br><span class="line">         $renewurl = &#x27;http://git.malu.me/&#x27;.urlencode($out[1]).&#x27;/&#x27;;</span><br><span class="line">         $path[&#x27;urls&#x27;]=array($renewurl);</span><br><span class="line">         echo refresh_qiniu($path);</span><br><span class="line">      &#125;   </span><br><span class="line">   &#125;   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="七牛对象存储301跳转"><a href="#七牛对象存储301跳转" class="headerlink" title="七牛对象存储301跳转"></a>七牛对象存储301跳转</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qrsctl redirect &lt;Bucket&gt; &lt;Key&gt; &lt;RedirectUrl&gt; [&lt;RedirectCode&gt;]</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2022/01/05/linux%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/01/05/linux%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC/" class="post-title-link" itemprop="url">Linux常用脚本</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-01-05 23:49:23" itemprop="dateCreated datePublished" datetime="2022-01-05T23:49:23+08:00">2022-01-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>4.7k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>4 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>记录日常使用到的脚本</p><h1 id="Git切换开关"><a href="#Git切换开关" class="headerlink" title="Git切换开关"></a>Git切换开关</h1><p>cat git-proxy</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">if [[ $1 == &quot;no&quot; ]];then</span><br><span class="line">    git config --global --unset https.proxy</span><br><span class="line">else</span><br><span class="line">    git config --global https.proxy socks5://192.168.2.2:10808</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>放入&#x2F;usr&#x2F;local&#x2F;bin&#x2F;git-proxy</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git-proxy     #开启代理</span><br><span class="line">git-proxy no  #关闭代理</span><br></pre></td></tr></table></figure><h1 id="本地hosts模拟实现DNS轮询脚本"><a href="#本地hosts模拟实现DNS轮询脚本" class="headerlink" title="本地hosts模拟实现DNS轮询脚本"></a>本地hosts模拟实现DNS轮询脚本</h1><p>cat auto_change_hosts.sh</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">MY_PATH=$(cd &quot;$(dirname &quot;$0&quot;)&quot;; pwd)</span><br><span class="line">cd $MY_PATH</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>cat iplist</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">11.5.100.20010</span><br><span class="line">11.5.100.20100</span><br><span class="line">11.5.200.20200</span><br><span class="line">11.5.200.20300</span><br><span class="line">11.5.300.20400</span><br></pre></td></tr></table></figure><p>cat &#x2F;etc&#x2F;hosts</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">11.5.100.200 malu.me</span><br></pre></td></tr></table></figure><p>使用方法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">auto_change_hosts.sh [error]</span><br></pre></td></tr></table></figure><p>如果加参数error，则iplist最后一列数值会累加，用于调用次数统计。</p><h1 id="创建低权限用户脚本"><a href="#创建低权限用户脚本" class="headerlink" title="创建低权限用户脚本"></a>创建低权限用户脚本</h1><p>首先添加用户boy并修改sshd_config文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd boy</span><br><span class="line">passwd boy</span><br></pre></td></tr></table></figure><p>如果遇到无法找到&#x2F;bin&#x2F;sh的提示，则修改&#x2F;etc&#x2F;passwd文件中boy的shell</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">把 /bin/sh 改成 /bin/bash</span><br></pre></td></tr></table></figure><p>vim &#x2F;etc&#x2F;ssh&#x2F;sshd_config</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Match User boy</span><br><span class="line">ChrootDirectory /home/test</span><br></pre></td></tr></table></figure><p>cat create_low_user.sh</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">CHROOT_PATH=&#x27;/home/test&#x27;</span><br><span class="line">mkdir -p $&#123;CHROOT_PATH&#125;/dev/      </span><br><span class="line">cd $&#123;CHROOT_PATH&#125;/dev/</span><br><span class="line">mknod -m 666 null c 1 3</span><br><span class="line">mknod -m 666 tty c 5 0</span><br><span class="line">mknod -m 666 zero c 1 5</span><br><span class="line">mknod -m 666 random c 1 8</span><br><span class="line"></span><br><span class="line">chown root:root $&#123;CHROOT_PATH&#125;</span><br><span class="line">chmod 0755 $&#123;CHROOT_PATH&#125;</span><br><span class="line">ls -ld $&#123;CHROOT_PATH&#125;</span><br><span class="line"></span><br><span class="line">mkdir -p $&#123;CHROOT_PATH&#125;/bin</span><br><span class="line">cp -v /bin/bash $&#123;CHROOT_PATH&#125;/bin/</span><br><span class="line"></span><br><span class="line">ldd /bin/bash</span><br><span class="line">mkdir -p $&#123;CHROOT_PATH&#125;/lib64</span><br><span class="line">cp -v /lib64/ld-linux-x86-64.so.2 $&#123;CHROOT_PATH&#125;/lib64/</span><br><span class="line">mkdir -p $&#123;CHROOT_PATH&#125;/lib/x86_64-linux-gnu/</span><br><span class="line">cp -v /lib/x86_64-linux-gnu/&#123;libtinfo.so.5,libdl.so.2,libc.so.6&#125; $&#123;CHROOT_PATH&#125;/lib/x86_64-linux-gnu/</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="把本地文件夹备份至远程服务器"><a href="#把本地文件夹备份至远程服务器" class="headerlink" title="把本地文件夹备份至远程服务器"></a>把本地文件夹备份至远程服务器</h1><p>1.通过scp拷贝目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">dd=`date &#x27;+%Y-%m-%d-%H%M%S&#x27;`</span><br><span class="line">scp -i /root/.ssh/id_rsa -P 22 -r /local root@malu.me:/backup/$&#123;dd&#125;</span><br></pre></td></tr></table></figure><p>2.拷贝目录至windows共享 (如果有防火墙，需允许445, 135, 137, 138, 139 UDP和TCP)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">dd=`date &#x27;+%Y-%m-%d-%H%M%S&#x27;`</span><br><span class="line">smbclient -c &quot;mkdir $&#123;dd&#125;;prompt OFF;recurse ON;lcd /local;cd $&#123;dd&#125;;mput *&quot; //IP/share -U username%password</span><br></pre></td></tr></table></figure><h1 id="切换到当前目录执行脚本"><a href="#切换到当前目录执行脚本" class="headerlink" title="切换到当前目录执行脚本"></a>切换到当前目录执行脚本</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">MY_PATH=$(cd &quot;$(dirname &quot;$0&quot;)&quot;; pwd)</span><br><span class="line">cd $MY_PATH</span><br></pre></td></tr></table></figure><h1 id="防止脚本重复执行-每次只有一个脚本在执行"><a href="#防止脚本重复执行-每次只有一个脚本在执行" class="headerlink" title="防止脚本重复执行(每次只有一个脚本在执行)"></a>防止脚本重复执行(每次只有一个脚本在执行)</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">function run_only_one()&#123;</span><br><span class="line">        PID=$$</span><br><span class="line">        snum=`ps -efgrep $0grep -v grepgrep -v &quot; $PPID &quot;grep -v &quot; $PID &quot;wc -l`</span><br><span class="line">        if [ $snum -lt 1 ]; then</span><br><span class="line">            echo &quot;start process.....&quot;</span><br><span class="line">        else</span><br><span class="line">            echo &quot;runing.....&quot;</span><br><span class="line">            exit</span><br><span class="line">        fi  </span><br><span class="line">&#125;</span><br><span class="line">run_only_one</span><br></pre></td></tr></table></figure><h1 id="scp拷贝最近3天日期命名的tar-z文件，并删除本地6天前的tar-z文件"><a href="#scp拷贝最近3天日期命名的tar-z文件，并删除本地6天前的tar-z文件" class="headerlink" title="scp拷贝最近3天日期命名的tar.z文件，并删除本地6天前的tar.z文件"></a>scp拷贝最近3天日期命名的tar.z文件，并删除本地6天前的tar.z文件</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">for((i=0;i&lt;=3;i++)); do</span><br><span class="line">datefile=`date -d&quot;$i day ago&quot; +%Y%m%d`.tar.z</span><br><span class="line">if [ ! -f &quot;$datefile&quot; ]; then</span><br><span class="line">scp malu.me:/backup/$datefile /home/backup/</span><br><span class="line">fi</span><br><span class="line">done</span><br><span class="line">find ./ -mtime +6 -type f -name &quot;*.tar.z&quot;xargs rm -f</span><br></pre></td></tr></table></figure><h1 id="合并指定目录下的所有文本，并去除重复行，并过滤-M字符-生成超级字典"><a href="#合并指定目录下的所有文本，并去除重复行，并过滤-M字符-生成超级字典" class="headerlink" title="合并指定目录下的所有文本，并去除重复行，并过滤^M字符 (生成超级字典)"></a>合并指定目录下的所有文本，并去除重复行，并过滤^M字符 (生成超级字典)</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">if [ $# != 1 ] ; then </span><br><span class="line">echo &quot;USAGE: $0 FLODER&quot; </span><br><span class="line">exit 1;  </span><br><span class="line">fi</span><br><span class="line">root_dir=$1</span><br><span class="line">NEWFILE=newfile_dic.txt</span><br><span class="line">NEWFILE_TMP=newfile_dic.txt.tmp</span><br><span class="line">SAVEIFS=$IFS</span><br><span class="line">IFS=$(echo -en &quot;\n\b&quot;)</span><br><span class="line">function getdir()&#123;</span><br><span class="line">    for element in `ls $1`</span><br><span class="line">    do  </span><br><span class="line">        dir_or_file=$1&quot;/&quot;$element</span><br><span class="line">        if [ -d $dir_or_file ]</span><br><span class="line">        then </span><br><span class="line">            getdir $dir_or_file</span><br><span class="line">        else</span><br><span class="line">            echo -n $dir_or_file</span><br><span class="line">            cat $dir_or_file sed &#x27;s/^M//g&#x27;&gt;&gt; $NEWFILE_TMP</span><br><span class="line">            echo &#x27;              ok&#x27;</span><br><span class="line">        fi  </span><br><span class="line">    done</span><br><span class="line">&#125;</span><br><span class="line">getdir $root_dir</span><br><span class="line">IFS=$SAVEIFS</span><br><span class="line">sort $NEWFILE_TMPuniq &gt; $NEWFILE</span><br><span class="line">rm -f $NEWFILE_TMP</span><br></pre></td></tr></table></figure><p><strong>注意：^M的输入方式是 Ctrl + v ，然后Ctrl + m</strong></p><h1 id="杀死进程及其所有子进程"><a href="#杀死进程及其所有子进程" class="headerlink" title="杀死进程及其所有子进程"></a>杀死进程及其所有子进程</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pstree -p PID  grep -oP &#x27;(?&lt;=\()[0-9]+(?=\))&#x27;xargs kill -9</span><br></pre></td></tr></table></figure><h1 id="杀死包含关键字的进程，及其所有子进程"><a href="#杀死包含关键字的进程，及其所有子进程" class="headerlink" title="杀死包含关键字的进程，及其所有子进程"></a>杀死包含关键字的进程，及其所有子进程</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">PID=`ps -efgrep [n]ameawk &#x27;&#123;print $2&#125;&#x27;`</span><br><span class="line">expr 1 + $PID &gt; /dev/null 2&gt;&amp;1</span><br><span class="line">if [[ $? -eq 0 ]]; then</span><br><span class="line">pstree -p $PID  grep -oP &#x27;(?&lt;=\()[0-9]+(?=\))&#x27;xargs kill -9</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h1 id="将目录下所有文件名改成小写"><a href="#将目录下所有文件名改成小写" class="headerlink" title="将目录下所有文件名改成小写"></a>将目录下所有文件名改成小写</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">for i in `find ./`;do mv $i `echo $i tr [A-Z] [a-z]`;done</span><br></pre></td></tr></table></figure><h1 id="防御CC攻击脚本"><a href="#防御CC攻击脚本" class="headerlink" title="防御CC攻击脚本"></a>防御CC攻击脚本</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">status=`netstat -naawk &#x27;$5 ~ /[0-9]+:[0-9]+/ &#123;print $5&#125;&#x27; awk -F &quot;:&quot; -- &#x27;&#123;print $1&#125;&#x27; sort -nuniq -c sort -ntail -n 1`</span><br><span class="line">NUM=`echo $statusawk &#x27;&#123;print $1&#125;&#x27;`</span><br><span class="line">IP=`echo $statusawk &#x27;&#123;print $2&#125;&#x27;`</span><br><span class="line">result=`echo &quot;$NUM &gt; 150&quot;  bc`</span><br><span class="line">if [ $result = 1 ]</span><br><span class="line">then</span><br><span class="line">  echo IP:$IP is over $NUM, BAN IT!</span><br><span class="line">  /sbin/iptables -I INPUT -s $IP -j DROP</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><h1 id="向进程发送按键指令"><a href="#向进程发送按键指令" class="headerlink" title="向进程发送按键指令"></a>向进程发送按键指令</h1><p>其实用C写的，算不上脚本。需要先编译：</p><p>gcc key.c -o key.bin</p><p>运行：</p><p>.&#x2F;key.bin PID cmd</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;sys/ioctl.h&gt;</span><br><span class="line">#include &lt;termios.h&gt;</span><br><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;stdlib.h&gt;</span><br><span class="line">#include &lt;fcntl.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line"></span><br><span class="line">void stackchar(int fd,char c)</span><br><span class="line">&#123;</span><br><span class="line">        if (ioctl(fd, TIOCSTI, &amp;c) &lt; 0) &#123;</span><br><span class="line">                perror(&quot;ioctl&quot;);</span><br><span class="line">                exit(1);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main(int argc, char *argv[])</span><br><span class="line">&#123;</span><br><span class="line">        int i, j;</span><br><span class="line">        char c;</span><br><span class="line">        char proc_file[20];</span><br><span class="line">        int mixer_fd=0;</span><br><span class="line"></span><br><span class="line">        strcpy(proc_file,&quot;/proc/&quot;);</span><br><span class="line">        strcat(proc_file,argv[1]);</span><br><span class="line">        strcat(proc_file,&quot;/fd/1&quot;);</span><br><span class="line"></span><br><span class="line">        if ((mixer_fd = open(proc_file,O_WRONLY)))&#123;</span><br><span class="line">                for (i = 2; i &lt; argc; i++) &#123;</span><br><span class="line">                        if (i &gt; 1) stackchar(mixer_fd,&#x27; &#x27;);</span><br><span class="line">                        for (j=0; (c = argv[i][j]); j++) &#123;</span><br><span class="line">                                stackchar(mixer_fd,c);</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="向本地监听的所有匹配端口发送curl请求"><a href="#向本地监听的所有匹配端口发送curl请求" class="headerlink" title="向本地监听的所有匹配端口发送curl请求"></a>向本地监听的所有匹配端口发送curl请求</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -lnt4pgrep sshdgrep -v &#x27;:22 &#x27;awk -F &#x27;0.0.0.0:&#x27; &#x27;&#123;print $2&#125;&#x27;awk &#x27;&#123;print $1&#125;&#x27;xargs -t -i curl localhost:&#123;&#125;</span><br></pre></td></tr></table></figure></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2022/01/05/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E4%B8%8B%E8%BD%BD/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/01/05/%E5%B7%A5%E5%85%B7%E8%BD%AF%E4%BB%B6%E4%B8%8B%E8%BD%BD/" class="post-title-link" itemprop="url">工具软件下载</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-01-05 23:48:24" itemprop="dateCreated datePublished" datetime="2022-01-05T23:48:24+08:00">2022-01-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>15k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>14 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="生产力工具集"><a href="#生产力工具集" class="headerlink" title="生产力工具集"></a>生产力工具集</h1><p><a target="_blank" rel="noopener" href="https://u.tools/">https://u.tools/</a></p><h1 id="Windows-子系统"><a href="#Windows-子系统" class="headerlink" title="Windows 子系统"></a>Windows 子系统</h1><h2 id="直接安装WSL2"><a href="#直接安装WSL2" class="headerlink" title="直接安装WSL2"></a>直接安装WSL2</h2><p>适用于之前没有安装过WSL</p><p>1.如果之前没有用过 WSL，那么首先需要为Linux启用Windows子系统:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span><br></pre></td></tr></table></figure><p>2.安装 WSL2 之前，必须启用“虚拟机平台”可选功能</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</span><br></pre></td></tr></table></figure><p>重新启动计算机以完成WSL安装并更新到 WSL2</p><p>3.安装适用于 x64 计算机的 WSL2 Linux 内核更新包</p><p><a target="_blank" rel="noopener" href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi</a></p><p>4.完成之后，以管理员身份运行 PowerShell，执行如下命令来设置wsl使用的默认版本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --set-default-version 2</span><br></pre></td></tr></table></figure><p>这里我们将默认设置为 WSL2</p><p>5.接下来通过访问 Microsoft Store 来安装分发版 <a target="_blank" rel="noopener" href="https://aka.ms/wslstore">https://aka.ms/wslstore</a></p><p>6.查看 WSL 版本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl -l -v</span><br></pre></td></tr></table></figure><h2 id="Win-10下开启Windows子系统WSL"><a href="#Win-10下开启Windows子系统WSL" class="headerlink" title="Win 10下开启Windows子系统WSL"></a>Win 10下开启Windows子系统WSL</h2><p>1.程序和功能 - 启动或关闭Windows功能 - 适用于Linux的Windows子系统 勾选后确定，重启系统。</p><p>2.打开cmd，输入bash回车，提示访问一个网址，使用浏览器访问，</p><p>重定向到应用商店，然后可以获取需要的Linux子系统，比如Ubuntu</p><p>3.阿里云官方镜像站：<a target="_blank" rel="noopener" href="https://developer.aliyun.com/mirror/">https://developer.aliyun.com/mirror/</a></p><h2 id="从WSL-1切换到WSL-2"><a href="#从WSL-1切换到WSL-2" class="headerlink" title="从WSL 1切换到WSL 2"></a>从WSL 1切换到WSL 2</h2><p>WSL 2相比WSL 1有着更完整的虚拟环境，而且一些数据库比如mongodb在WSL 1下默认是无法使用的，所以果断升级：</p><p>升级步骤参考微软官方文档：<a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/windows/wsl/install-win10">https://docs.microsoft.com/zh-cn/windows/wsl/install-win10</a></p><p>升级过程需要注意2点：</p><p>1.使用power shell 管理员权限执行命名。</p><p>2.如果WSL 1已经有Linux环境，升级后要重启电脑。</p><h2 id="windows-ubuntu子系统设置默认root用户"><a href="#windows-ubuntu子系统设置默认root用户" class="headerlink" title="windows ubuntu子系统设置默认root用户"></a>windows ubuntu子系统设置默认root用户</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ubuntu config --default-user root</span><br></pre></td></tr></table></figure><h2 id="WSL2-固定IP"><a href="#WSL2-固定IP" class="headerlink" title="WSL2 固定IP"></a>WSL2 固定IP</h2><p>在Windows 10中，以管理员权限运行CMD或Powershell，然后执行以下两个命令：</p><p>1.在Ubuntu中添加IP地址192.168.50.2，名为eth0:1</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl -d Ubuntu -u root ip addr add 192.168.50.2/24 broadcast 192.168.50.255 dev eth0 label eth0:1</span><br></pre></td></tr></table></figure><p>2.在Win10中添加IP地址192.168.50.1</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netsh interface ip add address &quot;vEthernet (WSL)&quot; 192.168.50.1 255.255.255.0</span><br></pre></td></tr></table></figure><p>将来，访问Ubuntu时将使用192.168.50.2，访问Win10时将使用192.168.50.1。 您可以将上述两行命令另存为.bat文件，然后将其放入引导区，并使其每次自动执行。</p><h1 id="Windows-Terminal"><a href="#Windows-Terminal" class="headerlink" title="Windows Terminal"></a>Windows Terminal</h1><p>您可以从Microsoft Store安装Windows Terminal：<a target="_blank" rel="noopener" href="https://aka.ms/terminal">https://aka.ms/terminal</a></p><p>官方文档：<a target="_blank" rel="noopener" href="https://docs.microsoft.com/en-us/windows/terminal/">https://docs.microsoft.com/en-us/windows/terminal/</a></p><p>快速打开：运行 wt</p><p>快速启动ssh：wt -w 0 new-tab cmd &#x2F;k ssh <a href="mailto:&#114;&#x6f;&#x6f;&#116;&#x40;&#x31;&#x37;&#50;&#x2e;&#x31;&#54;&#x2e;&#50;&#x2e;&#50;&#50;&#x33;">&#114;&#x6f;&#x6f;&#116;&#x40;&#x31;&#x37;&#50;&#x2e;&#x31;&#54;&#x2e;&#50;&#x2e;&#50;&#50;&#x33;</a></p><p>设置-打开JSON文件 settings.json</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line">// This file was initially generated by Windows Terminal Preview 1.5.3242.0</span><br><span class="line">// It should still be usable in newer versions, but newer versions might have additional</span><br><span class="line">// settings, help text, or changes that you will not see unless you clear this file</span><br><span class="line">// and let us generate a new one for you.</span><br><span class="line"></span><br><span class="line">// To view the default settings, hold &quot;alt&quot; while clicking on the &quot;Settings&quot; button.</span><br><span class="line">// For documentation on these settings, see: https://aka.ms/terminal-documentation</span><br><span class="line">&#123;</span><br><span class="line">    &quot;$schema&quot;: &quot;https://aka.ms/terminal-profiles-schema&quot;,</span><br><span class="line"></span><br><span class="line">    &quot;defaultProfile&quot;: &quot;&#123;2c4de342-38b7-51cf-b940-2309a097f518&#125;&quot;,</span><br><span class="line"></span><br><span class="line">    // You can add more global application settings here.</span><br><span class="line">    // To learn more about global settings, visit https://aka.ms/terminal-global-settings</span><br><span class="line"></span><br><span class="line">    // If enabled, selections are automatically copied to your clipboard.</span><br><span class="line">    &quot;copyOnSelect&quot;: false,</span><br><span class="line"></span><br><span class="line">    // If enabled, formatted data is also copied to your clipboard</span><br><span class="line">    &quot;copyFormatting&quot;: false,</span><br><span class="line"></span><br><span class="line">    // A profile specifies a command to execute paired with information about how it should look and feel.</span><br><span class="line">    // Each one of them will appear in the &#x27;New Tab&#x27; dropdown,</span><br><span class="line">    //   and can be invoked from the commandline with `wt.exe -p xxx`</span><br><span class="line">    // To learn more about profiles, visit https://aka.ms/terminal-profile-settings</span><br><span class="line">    &quot;profiles&quot;:</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;defaults&quot;:</span><br><span class="line">        &#123;</span><br><span class="line">            // Put settings here that you want to apply to all profiles.</span><br><span class="line">        &#125;,</span><br><span class="line">        &quot;list&quot;:</span><br><span class="line">        [</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;guid&quot;: &quot;&#123;2c4de342-38b7-51cf-b940-2309a097f518&#125;&quot;,</span><br><span class="line">                &quot;hidden&quot;: false,</span><br><span class="line">                &quot;name&quot;: &quot;Ubuntu&quot;,</span><br><span class="line">                &quot;source&quot;: &quot;Windows.Terminal.Wsl&quot;</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                // Make changes here to the powershell.exe profile.</span><br><span class="line">                &quot;guid&quot;: &quot;&#123;61c54bbd-c2c6-5271-96e7-009a87ff44bf&#125;&quot;,</span><br><span class="line">                &quot;name&quot;: &quot;Windows PowerShell&quot;,</span><br><span class="line">                &quot;commandline&quot;: &quot;powershell.exe&quot;,</span><br><span class="line">                &quot;hidden&quot;: false</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                // Make changes here to the cmd.exe profile.</span><br><span class="line">                &quot;guid&quot;: &quot;&#123;0caa0dad-35be-5f56-a8ff-afceeeaa6101&#125;&quot;,</span><br><span class="line">                &quot;name&quot;: &quot;命令提示符&quot;,</span><br><span class="line">                &quot;commandline&quot;: &quot;cmd.exe&quot;,</span><br><span class="line">                &quot;hidden&quot;: false</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                &quot;guid&quot;: &quot;&#123;b453ae62-4e3d-5e58-b989-0a998ec441b8&#125;&quot;,</span><br><span class="line">                &quot;hidden&quot;: false,</span><br><span class="line">                &quot;name&quot;: &quot;Azure Cloud Shell&quot;,</span><br><span class="line">                &quot;source&quot;: &quot;Windows.Terminal.Azure&quot;</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // Add custom color schemes to this array.</span><br><span class="line">    // To learn more about color schemes, visit https://aka.ms/terminal-color-schemes</span><br><span class="line">    &quot;schemes&quot;: [],</span><br><span class="line"></span><br><span class="line">    // Add custom actions and keybindings to this array.</span><br><span class="line">    // To unbind a key combination from your defaults.json, set the command to &quot;unbound&quot;.</span><br><span class="line">    // To learn more about actions and keybindings, visit https://aka.ms/terminal-keybindings</span><br><span class="line">    &quot;actions&quot;:</span><br><span class="line">    [</span><br><span class="line">        // Copy and paste are bound to Ctrl+Shift+C and Ctrl+Shift+V in your defaults.json.</span><br><span class="line">        // These two lines additionally bind them to Ctrl+C and Ctrl+V.</span><br><span class="line">        // To learn more about selection, visit https://aka.ms/terminal-selection</span><br><span class="line">        &#123; &quot;command&quot;: &quot;closeTab&quot;, &quot;keys&quot;: &quot;ctrl+w&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &quot;newTab&quot;, &quot;keys&quot;: &quot;ctrl+t&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &quot;scrollUpPage&quot;, &quot;keys&quot;: &quot;alt+pageup&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &quot;scrollUpPage&quot;, &quot;keys&quot;: &quot;shift+pageup&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &quot;scrollDownPage&quot;, &quot;keys&quot;: &quot;alt+pagedown&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &quot;scrollDownPage&quot;, &quot;keys&quot;: &quot;shift+pagedown&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 0 &#125;, &quot;keys&quot;: &quot;ctrl+1&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 1 &#125;, &quot;keys&quot;: &quot;ctrl+2&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 2 &#125;, &quot;keys&quot;: &quot;ctrl+3&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 3 &#125;, &quot;keys&quot;: &quot;ctrl+4&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 4 &#125;, &quot;keys&quot;: &quot;ctrl+5&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 5 &#125;, &quot;keys&quot;: &quot;ctrl+6&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 6 &#125;, &quot;keys&quot;: &quot;ctrl+7&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 7 &#125;, &quot;keys&quot;: &quot;ctrl+8&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 8 &#125;, &quot;keys&quot;: &quot;ctrl+9&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 0 &#125;, &quot;keys&quot;: &quot;alt+1&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 1 &#125;, &quot;keys&quot;: &quot;alt+2&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 2 &#125;, &quot;keys&quot;: &quot;alt+3&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 3 &#125;, &quot;keys&quot;: &quot;alt+4&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 4 &#125;, &quot;keys&quot;: &quot;alt+5&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 5 &#125;, &quot;keys&quot;: &quot;alt+6&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 6 &#125;, &quot;keys&quot;: &quot;alt+7&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 7 &#125;, &quot;keys&quot;: &quot;alt+8&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123; &quot;action&quot;: &quot;switchToTab&quot;, &quot;index&quot;: 8 &#125;, &quot;keys&quot;: &quot;alt+9&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &#123;&quot;action&quot;: &quot;copy&quot;, &quot;singleLine&quot;: false &#125;, &quot;keys&quot;: &quot;ctrl+c&quot; &#125;,</span><br><span class="line">        &#123; &quot;command&quot;: &quot;paste&quot;, &quot;keys&quot;: &quot;ctrl+v&quot; &#125;,</span><br><span class="line"></span><br><span class="line">        // Press Ctrl+Shift+F to open the search box</span><br><span class="line">        &#123; &quot;command&quot;: &quot;find&quot;, &quot;keys&quot;: &quot;ctrl+shift+f&quot; &#125;,</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Windows-SVN"><a href="#Windows-SVN" class="headerlink" title="Windows SVN"></a>Windows SVN</h1><p><a target="_blank" rel="noopener" href="https://tortoisesvn.net/downloads.zh.html">https://tortoisesvn.net/downloads.zh.html</a></p><h1 id="Windows-GIT"><a href="#Windows-GIT" class="headerlink" title="Windows GIT"></a>Windows GIT</h1><p><a target="_blank" rel="noopener" href="https://tortoisegit.org/">https://tortoisegit.org/</a></p><h1 id="接口调试工具"><a href="#接口调试工具" class="headerlink" title="接口调试工具"></a>接口调试工具</h1><h2 id="postman"><a href="#postman" class="headerlink" title="postman"></a>postman</h2><p><a target="_blank" rel="noopener" href="https://www.postman.com/downloads/">https://www.postman.com/downloads/</a></p><h2 id="PostmanCanary"><a href="#PostmanCanary" class="headerlink" title="PostmanCanary"></a>PostmanCanary</h2><p><a target="_blank" rel="noopener" href="https://www.postman.com/downloads/canary/">https://www.postman.com/downloads/canary/</a></p><h2 id="insomnia"><a href="#insomnia" class="headerlink" title="insomnia"></a>insomnia</h2><p><a target="_blank" rel="noopener" href="https://insomnia.rest/download/">https://insomnia.rest/download/</a></p><h2 id="ApiPost"><a href="#ApiPost" class="headerlink" title="ApiPost"></a>ApiPost</h2><p><a target="_blank" rel="noopener" href="https://www.apipost.cn/download.html">https://www.apipost.cn/download.html</a></p><h1 id="Git-bash"><a href="#Git-bash" class="headerlink" title="Git bash"></a>Git bash</h1><p><a target="_blank" rel="noopener" href="https://git-scm.com/download/win">https://git-scm.com/download/win</a></p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><h3 id="默认打开路径"><a href="#默认打开路径" class="headerlink" title="默认打开路径"></a>默认打开路径</h3><p>修改文件：C:\Program Files\PortableGit\etc\profile</p><p>在底部加入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># set Project Path</span><br><span class="line">proj=&quot;你的项目文件目录&quot;</span><br><span class="line">cd $proj</span><br></pre></td></tr></table></figure><h3 id="加入Alias"><a href="#加入Alias" class="headerlink" title="加入Alias"></a>加入Alias</h3><p>进入 C:\Users\username目录</p><p>添加3个文件(.bash_profile，.bashrc，git-prompt.sh)：</p><p>.bash_profile</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">if [ -f ~/.bashrc ]; then . ~/.bashrc; fi</span><br></pre></td></tr></table></figure><p>.bashrc</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">alias s=&#x27;screen -d -R&#x27;</span><br><span class="line">alias mp=&#x27;git commit -am &quot;autopush&quot; &amp;&amp; git push&#x27;</span><br><span class="line">alias rm=&#x27;rm -i&#x27;</span><br><span class="line">alias cp=&#x27;cp -i&#x27;</span><br><span class="line">alias mv=&#x27;mv -i&#x27;</span><br><span class="line"></span><br><span class="line">alias ls=&#x27;ls -hFG&#x27;</span><br><span class="line">alias l=&#x27;ls -lFah&#x27;</span><br><span class="line">alias ll=&#x27;ls -alF&#x27;</span><br><span class="line">alias lt=&#x27;ls -ltrF&#x27;</span><br><span class="line">alias ll=&#x27;ls -alF&#x27;</span><br><span class="line">alias lls=&#x27;ls -alSrF&#x27;</span><br><span class="line">alias llt=&#x27;ls -altrF&#x27;</span><br><span class="line"></span><br><span class="line">alias tarc=&#x27;tar cvf&#x27;</span><br><span class="line">alias tarcz=&#x27;tar czvf&#x27;</span><br><span class="line">alias tarx=&#x27;tar xvf&#x27;</span><br><span class="line">alias tarxz=&#x27;tar xvzf&#x27;</span><br><span class="line"></span><br><span class="line">alias g=&#x27;git&#x27;</span><br><span class="line">alias less=&#x27;less -R&#x27;</span><br><span class="line">alias os=&#x27;lsb_release -a&#x27;</span><br><span class="line">alias vi=&#x27;vim&#x27;</span><br><span class="line"></span><br><span class="line"># Colorize directory listing</span><br><span class="line">alias ls=&quot;ls -ph --color=auto&quot;</span><br><span class="line"></span><br><span class="line"># Colorize grep</span><br><span class="line">alias grep=&quot;grep --color=auto&quot;</span><br><span class="line"></span><br><span class="line"># Shell</span><br><span class="line">export CLICOLOR=&quot;1&quot;</span><br><span class="line">if [ -f &quot;$HOME/git-prompt.sh&quot; ]; then</span><br><span class="line">source $HOME/git-prompt.sh</span><br><span class="line">export GIT_PS1_SHOWDIRTYSTATE=&quot;1&quot;</span><br><span class="line">export PS1=&quot;\[\033[40m\]\[\033[34m\][ \[\033[36m\]\w\$(__git_ps1 \&quot; \[\033[35m\]&#123;\[\033[32m\]%s\[\033[35m\]&#125;\&quot;)\[\033[34m\] ]$\[\033[0m\] &quot;</span><br><span class="line">#   export PS1=&quot;\[\033[40m\]\[\033[34m\][ \u@\H:\[\033[36m\]\w\$(__git_ps1 \&quot; \[\033[35m\]&#123;\[\033[32m\]%s\[\033[35m\]&#125;\&quot;)\[\033[34m\] ]$\[\033[0m\] &quot;</span><br><span class="line">else</span><br><span class="line">export PS1=&quot;\[\033[40m\]\[\033[34m\][ \[\033[36m\]\w\[\033[34m\] ]$\[\033[0m\] &quot;</span><br><span class="line">#   export PS1=&quot;\[\033[40m\]\[\033[34m\][ \u@\H:\[\033[36m\]\w\[\033[34m\] ]$\[\033[0m\] &quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>下载 <a target="_blank" rel="noopener" href="https://gist.githubusercontent.com/pingmalu/ef63b5da2ac287f80dc01208fe6cbf91/raw/c30db366775cc9da672e2769666fa78f92902087/git-prompt.sh">git-prompt.sh</a></p><h2 id="执行bat"><a href="#执行bat" class="headerlink" title="执行bat"></a>执行bat</h2><p>git-bash下执行RUN.bat</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmd /cRUN.bat</span><br></pre></td></tr></table></figure><h1 id="编辑器"><a href="#编辑器" class="headerlink" title="编辑器"></a>编辑器</h1><h2 id="Markdown编辑器"><a href="#Markdown编辑器" class="headerlink" title="Markdown编辑器"></a>Markdown编辑器</h2><h3 id="Typora"><a href="#Typora" class="headerlink" title="Typora"></a>Typora</h3><p><a target="_blank" rel="noopener" href="https://www.typora.io/">https://www.typora.io/</a></p><p>Typora Beta 0.11.18 下载地址：</p><ul><li>Windows x64： <a target="_blank" rel="noopener" href="https://download.typora.io/windows/typora-update-x64-1117.exe">https://download.typora.io/windows/typora-update-x64-1117.exe</a></li><li>Windows x86： <a target="_blank" rel="noopener" href="https://download.typora.io/windows/typora-update-ia32-1117.exe">https://download.typora.io/windows/typora-update-ia32-1117.exe</a></li><li>Linux x64： <a target="_blank" rel="noopener" href="https://download.typora.io/linux/typora/_0.11.18/_amd64.deb">https://download.typora.io/linux/typora\_0.11.18\_amd64.deb</a></li><li>MacOS： <a target="_blank" rel="noopener" href="https://download.typora.io/mac/Typora-0.11.18.dmg">https://download.typora.io/mac/Typora-0.11.18.dmg</a></li></ul><h3 id="markdownpad"><a href="#markdownpad" class="headerlink" title="markdownpad"></a>markdownpad</h3><p><a target="_blank" rel="noopener" href="http://markdownpad.com/">http://markdownpad.com/</a></p><blockquote><p>Email：</p><p><a href="mailto:&#x53;&#x6f;&#x61;&#x72;&#x33;&#54;&#x30;&#x40;&#108;&#x69;&#118;&#x65;&#46;&#x63;&#111;&#109;">&#x53;&#x6f;&#x61;&#x72;&#x33;&#54;&#x30;&#x40;&#108;&#x69;&#118;&#x65;&#46;&#x63;&#111;&#109;</a></p><p>License Key：</p><p>GBPduHjWfJU1mZqcPM3BikjYKF6xKhlKIys3i1MU2eJHqWGImDHzWdD6xhMNLGVpbP2M5SN6bnxn2kSE8qHqNY5QaaRxmO3YSMHxlv2EYpjdwLcPwfeTG7kUdnhKE0vVy4RidP6Y2wZ0q74f47fzsZo45JE2hfQBFi2O9Jldjp1mW8HUpTtLA2a5&#x2F;sQytXJUQl&#x2F;QKO0jUQY4pa5CCx20sV1ClOTZtAGngSOJtIOFXK599sBr5aIEFyH0K7H4BoNMiiDMnxt1rD8Vb&#x2F;ikJdhGMMQr0R4B+L3nWU97eaVPTRKfWGDE8&#x2F;eAgKzpGwrQQoDh+nzX1xoVQ8NAuH+s4UcSeQ&#x3D;&#x3D;</p></blockquote><h2 id="VScode"><a href="#VScode" class="headerlink" title="VScode"></a>VScode</h2><p>下载：<a target="_blank" rel="noopener" href="https://code.visualstudio.com/Download">https://code.visualstudio.com/Download</a></p><h3 id="同步配置"><a href="#同步配置" class="headerlink" title="同步配置"></a>同步配置</h3><p>文件 - 首选项 - 设置同步 （可使用live账户）</p><h3 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h3><h4 id="css压缩插件css-minify"><a href="#css压缩插件css-minify" class="headerlink" title="css压缩插件css-minify"></a>css压缩插件css-minify</h4><p><a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=DiegoMolina.css-minify">https://marketplace.visualstudio.com/items?itemName=DiegoMolina.css-minify</a></p><h3 id="终端下使用的字体（等宽字体）"><a href="#终端下使用的字体（等宽字体）" class="headerlink" title="终端下使用的字体（等宽字体）"></a>终端下使用的字体（等宽字体）</h3><p><a target="_blank" rel="noopener" href="https://github.com/abertsch/Menlo-for-Powerline">https://github.com/abertsch/Menlo-for-Powerline</a></p><h3 id="右键使用vscode打开-reg"><a href="#右键使用vscode打开-reg" class="headerlink" title="右键使用vscode打开.reg"></a>右键使用vscode打开.reg</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Windows Registry Editor Version 5.00</span><br><span class="line"></span><br><span class="line">[HKEY_CLASSES_ROOT\*\shell\VSCode]</span><br><span class="line">@=&quot;VSCode&quot;</span><br><span class="line">&quot;Icon&quot;=&quot;C:\\Program Files\\Microsoft VS Code\\Code.exe&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="EmEditor"><a href="#EmEditor" class="headerlink" title="EmEditor"></a>EmEditor</h2><p>超大文件编辑器</p><p><a target="_blank" rel="noopener" href="https://www.rjsos.com/archives/emurasoft19.html">https://www.rjsos.com/archives/emurasoft19.html</a></p><h1 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h1><h2 id="Chrome"><a href="#Chrome" class="headerlink" title="Chrome"></a>Chrome</h2><h3 id="Chrome-1"><a href="#Chrome-1" class="headerlink" title="Chrome:"></a>Chrome:</h3><p>注意下载地址长期不变，但下到的始终是当前最新的Stable版。</p><p>32位：<a target="_blank" rel="noopener" href="https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BCEC27557-0338-A6BE-F10F-A625517C44BB%7D%26lang%3Dzh-CN%26browser%3D3%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dtrue/update2/installers/ChromeStandaloneSetup.exe">直接下载</a></p><p>64位：<a target="_blank" rel="noopener" href="https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BCEC27557-0338-A6BE-F10F-A625517C44BB%7D%26lang%3Dzh-CN%26browser%3D3%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dtrue%26ap%3Dx64-stable%26installdataindex%3Ddefaultbrowser/update2/installers/ChromeStandaloneSetup64.exe">直接下载</a></p><h3 id="Chrome-Canary"><a href="#Chrome-Canary" class="headerlink" title="Chrome Canary:"></a>Chrome Canary:</h3><p><a target="_blank" rel="noopener" href="https://dl.google.com/tag/s/appguid%3D%7B4ea16ac7-fd5a-47c3-875b-dbf4a2008c20%7D%26iid%3D%7B3E66C4C1-6218-EC71-998A-F658140D6F5C%7D%26lang%3Den%26browser%3D4%26usagestats%3D0%26appname%3DChrome%2520Canary%26needsadmin%3Dfalse%26ap%3Dx64-canary/update2/installers/ChromeStandaloneSetup.exe">64位直接下载</a></p><h3 id="Chrome-Dev"><a href="#Chrome-Dev" class="headerlink" title="Chrome Dev:"></a>Chrome Dev:</h3><p><a target="_blank" rel="noopener" href="https://dl.google.com/tag/s/appguid%3D%7B401C381F-E0DE-4B85-8BD8-3F3F14FBDA57%7D%26iid%3D%7B4CD5F2AA-B666-3E5F-B4B6-897EA3E7B0E6%7D%26lang%3Dzh-CN%26browser%3D4%26usagestats%3D0%26appname%3DGoogle%2520Chrome%2520Dev%26needsadmin%3Dprefers%26ap%3D-arch_x64-statsdef_1%26installdataindex%3Dempty/chrome/install/dev/ChromeDevStandaloneSetup64.exe">64位直接下载</a></p><h3 id="Chrome-Stable-for-Linux"><a href="#Chrome-Stable-for-Linux" class="headerlink" title="Chrome Stable for Linux"></a>Chrome Stable for Linux</h3><p>64位</p><p><a target="_blank" rel="noopener" href="https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb">https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</a></p><p><a target="_blank" rel="noopener" href="https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm">https://dl.google.com/linux/direct/google-chrome-stable_current_x86_64.rpm</a></p><p>chrome代理插件：<a target="_blank" rel="noopener" href="https://github.com/FelisCatus/SwitchyOmega/releases">https://github.com/FelisCatus/SwitchyOmega/releases</a></p><h2 id="FireFox"><a href="#FireFox" class="headerlink" title="FireFox"></a>FireFox</h2><p>下载地址：</p><p><a target="_blank" rel="noopener" href="https://www.mozilla.org/en-US/firefox/all/">https://www.mozilla.org/en-US/firefox/all/</a></p><h2 id="Opera"><a href="#Opera" class="headerlink" title="Opera"></a>Opera</h2><p>Opera浏览器桌面版历史版本下载</p><p><a target="_blank" rel="noopener" href="http://get.opera.com/ftp/pub/opera/desktop/">http://get.opera.com/ftp/pub/opera/desktop/</a></p><p><a target="_blank" rel="noopener" href="http://get.geo.opera.com/pub/opera/desktop/">http://get.geo.opera.com/pub/opera/desktop/</a></p><h1 id="Vmware"><a href="#Vmware" class="headerlink" title="Vmware"></a>Vmware</h1><p>Vmware Workstation Pro 下载 15-14</p><p><a target="_blank" rel="noopener" href="https://my.vmware.com/group/vmware/info?slug=desktop_end_user_computing/vmware_workstation_pro/15_0">https://my.vmware.com/group/vmware/info?slug=desktop_end_user_computing&#x2F;vmware_workstation_pro&#x2F;15_0</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">激活许可证</span><br><span class="line">UY758-0RXEQ-M81WP-8ZM7Z-Y3HDA</span><br><span class="line">VF750-4MX5Q-488DQ-9WZE9-ZY2D6</span><br><span class="line">UU54R-FVD91-488PP-7NNGC-ZFAX6</span><br><span class="line">YC74H-FGF92-081VZ-R5QNG-P6RY4</span><br><span class="line">YC34H-6WWDK-085MQ-JYPNX-NZRA2</span><br></pre></td></tr></table></figure><p>Vmware Workstation Pro 历史版本下载 12-9</p><p><a target="_blank" rel="noopener" href="https://my.vmware.com/group/vmware/info/slug/desktop_end_user_computing/vmware_workstation_pro/12_0">https://my.vmware.com/group/vmware/info/slug/desktop_end_user_computing&#x2F;vmware_workstation_pro&#x2F;12_0</a></p><h2 id="清理VMware-bat"><a href="#清理VMware-bat" class="headerlink" title="清理VMware.bat"></a>清理VMware.bat</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">net stop VMwareHostd</span><br><span class="line">net stop VMAuthdService</span><br><span class="line">net stop VMnetDHCP</span><br><span class="line">net stop VMUSBArbService</span><br><span class="line">net stop &quot;VMware NAT Service&quot;</span><br><span class="line">taskkill /F /im vmware-tray.exe</span><br></pre></td></tr></table></figure><h1 id="远程桌面"><a href="#远程桌面" class="headerlink" title="远程桌面"></a>远程桌面</h1><h2 id="RustDesk"><a href="#RustDesk" class="headerlink" title="RustDesk"></a>RustDesk</h2><p><a target="_blank" rel="noopener" href="http://rustdesk.com/">http://rustdesk.com/</a></p><h2 id="VNC"><a href="#VNC" class="headerlink" title="VNC"></a>VNC</h2><p><a target="_blank" rel="noopener" href="https://www.realvnc.com/en/connect/download/vnc/">VNC Server</a></p><p><a target="_blank" rel="noopener" href="https://www.realvnc.com/en/connect/download/viewer/">VNC Viewer</a></p><h2 id="TeamViewer"><a href="#TeamViewer" class="headerlink" title="TeamViewer"></a>TeamViewer</h2><p><a target="_blank" rel="noopener" href="https://www.teamviewer.cn/cn/download/windows/">https://www.teamviewer.cn/cn/download/windows/</a></p><h2 id="向日葵"><a href="#向日葵" class="headerlink" title="向日葵"></a>向日葵</h2><p><a target="_blank" rel="noopener" href="https://sunlogin.oray.com/download/">https://sunlogin.oray.com/download/</a></p><h2 id="ToDesk"><a href="#ToDesk" class="headerlink" title="ToDesk"></a>ToDesk</h2><p><a target="_blank" rel="noopener" href="https://www.todesk.com/download.html">https://www.todesk.com/download.html</a></p><h2 id="清理远程-bat"><a href="#清理远程-bat" class="headerlink" title="清理远程.bat"></a>清理远程.bat</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sc stop &quot;SunloginService&quot;</span><br><span class="line">sc stop &quot;ToDesk_Service&quot;</span><br><span class="line">sc stop &quot;teamviewer&quot;</span><br><span class="line">sc stop &quot;vncserver&quot;</span><br><span class="line">taskkill /F /im SunloginClient.exe</span><br><span class="line">taskkill /F /im todesk_service.exe</span><br><span class="line">taskkill /F /im todesk.exe</span><br><span class="line">REM start &quot;&quot; &quot;C:\Program Files\RealVNC\VNC Server\vncserver.exe&quot; -service -stop</span><br></pre></td></tr></table></figure><h2 id="启动远程-bat"><a href="#启动远程-bat" class="headerlink" title="启动远程.bat"></a>启动远程.bat</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sc start &quot;SunloginService&quot;</span><br><span class="line">sc start &quot;ToDesk_Service&quot;</span><br><span class="line">sc start &quot;teamviewer&quot;</span><br><span class="line">sc start &quot;vncserver&quot;</span><br></pre></td></tr></table></figure><h1 id="虚拟组网"><a href="#虚拟组网" class="headerlink" title="虚拟组网"></a>虚拟组网</h1><p>蒲公英 <a target="_blank" rel="noopener" href="https://pgy.oray.com/download/">https://pgy.oray.com/download/</a></p><p>zerotier <a target="_blank" rel="noopener" href="https://zerotier.com/download/">https://zerotier.com/download/</a></p><h2 id="Win10启动时候加载bat"><a href="#Win10启动时候加载bat" class="headerlink" title="Win10启动时候加载bat"></a>Win10启动时候加载bat</h2><p>运行： shell:startup -&gt; startup.vbs</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set ws=WScript.CreateObject(&quot;WScript.Shell&quot;)</span><br><span class="line">ws.Run &quot;C:\auto_run\startup\start.bat /start&quot;,0</span><br></pre></td></tr></table></figure><h1 id="Beyond-Compare"><a href="#Beyond-Compare" class="headerlink" title="Beyond Compare"></a>Beyond Compare</h1><p><a target="_blank" rel="noopener" href="http://www.ucbug.com/soft/40421.html">http://www.ucbug.com/soft/40421.html</a></p><p>安装说明：<a target="_blank" rel="noopener" href="https://www.rjsos.com/archives/beyondcompare4.html">https://www.rjsos.com/archives/beyondcompare4.html</a></p><h1 id="Adobe-Photoshop-CS6"><a href="#Adobe-Photoshop-CS6" class="headerlink" title="Adobe Photoshop CS6"></a>Adobe Photoshop CS6</h1><p><a target="_blank" rel="noopener" href="http://xiazai.zol.com.cn/detail/15/146785.shtml">http://xiazai.zol.com.cn/detail/15/146785.shtml</a></p><p>补丁 (将 amtlib 覆盖掉相应软件的源文件) <a target="_blank" rel="noopener" href="http://xiazai.zol.com.cn/detail/45/440347.shtml">http://xiazai.zol.com.cn/detail/45/440347.shtml</a></p><h1 id="Adobe-Premiere-Pro-2020"><a href="#Adobe-Premiere-Pro-2020" class="headerlink" title="Adobe Premiere Pro 2020"></a>Adobe Premiere Pro 2020</h1><p><a target="_blank" rel="noopener" href="https://www.rjsos.com/archives/premiere2020.html">https://www.rjsos.com/archives/premiere2020.html</a></p><h1 id="Everything"><a href="#Everything" class="headerlink" title="Everything"></a>Everything</h1><p>Windows桌面搜索引擎 （快速搜索文件工具）</p><p><a target="_blank" rel="noopener" href="https://www.voidtools.com/">https://www.voidtools.com</a></p><h1 id="思维导图"><a href="#思维导图" class="headerlink" title="思维导图"></a>思维导图</h1><h2 id="XMind"><a href="#XMind" class="headerlink" title="XMind"></a>XMind</h2><p><a target="_blank" rel="noopener" href="https://www.xmind.cn/download/">https://www.xmind.cn/download/</a> <a target="_blank" rel="noopener" href="http://www.ddooo.com/softdown/170894.htm">破解1</a> <a target="_blank" rel="noopener" href="http://www.opdown.com/soft/219172.html">破解2</a></p><h2 id="MindMaster"><a href="#MindMaster" class="headerlink" title="MindMaster"></a>MindMaster</h2><p><a target="_blank" rel="noopener" href="https://www.edrawsoft.cn/mindmaster/">https://www.edrawsoft.cn/mindmaster/</a> <a target="_blank" rel="noopener" href="http://www.ccths.com/soft/28594.html">破解</a></p><h1 id="Virtual-Audio-Cable"><a href="#Virtual-Audio-Cable" class="headerlink" title="Virtual Audio Cable"></a>Virtual Audio Cable</h1><p>混音软件，可实现多音频设备同时输出</p><p><a target="_blank" rel="noopener" href="https://software.muzychenko.net/eng/vacselect.htm">https://software.muzychenko.net/eng/vacselect.htm</a></p><h1 id="翻译"><a href="#翻译" class="headerlink" title="翻译"></a>翻译</h1><p><a target="_blank" rel="noopener" href="https://appdownload.deepl.com/windows/full/DeepLSetup.exe">https://appdownload.deepl.com/windows/full/DeepLSetup.exe</a></p><h1 id="Hyper"><a href="#Hyper" class="headerlink" title="Hyper"></a>Hyper</h1><p><a target="_blank" rel="noopener" href="https://hyper.is/">https://hyper.is/</a></p><p>安装主题</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hyper i hyper-material-theme</span><br></pre></td></tr></table></figure><p>配置文件路径：C:\Users\malu\AppData\Roaming\Hyper.hyper.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shell: &#x27;C:\\Program Files\\PortableGit\\bin\\bash.exe&#x27;,</span><br><span class="line">...</span><br><span class="line">plugins: [&quot;hyper-material-theme&quot;],</span><br></pre></td></tr></table></figure><h1 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h1><h2 id="Windows-Redis"><a href="#Windows-Redis" class="headerlink" title="Windows Redis"></a>Windows Redis</h2><p><a target="_blank" rel="noopener" href="https://github.com/microsoftarchive/redis/releases">https://github.com/microsoftarchive/redis/releases</a></p><h2 id="Redis-分析工具客户端"><a href="#Redis-分析工具客户端" class="headerlink" title="Redis 分析工具客户端"></a>Redis 分析工具客户端</h2><p><a target="_blank" rel="noopener" href="https://redislabs.com/redisinsight/">https://redislabs.com/redisinsight/</a></p><h2 id="PowerDesigner-v16-5"><a href="#PowerDesigner-v16-5" class="headerlink" title="PowerDesigner v16.5"></a>PowerDesigner v16.5</h2><p><a target="_blank" rel="noopener" href="http://onlinedown.rbread04.cn/huajunsafe/powerdesigner1029.zip">http://onlinedown.rbread04.cn/huajunsafe/powerdesigner1029.zip</a></p><h2 id="ODBC-for-MySQL"><a href="#ODBC-for-MySQL" class="headerlink" title="ODBC for MySQL"></a>ODBC for MySQL</h2><p>(注意powerdesigner是用java32位的，所以ODBC也下32位</p><p><a target="_blank" rel="noopener" href="https://dev.mysql.com/downloads/connector/odbc/">https://dev.mysql.com/downloads/connector/odbc/</a></p><h1 id="BIOS"><a href="#BIOS" class="headerlink" title="BIOS"></a>BIOS</h1><p>bios修改工具mmtool <a target="_blank" rel="noopener" href="https://softradar.com/static/products/mmtool/distr/0/mmtool_softradar-com.zip">https://softradar.com/static/products/mmtool/distr/0/mmtool_softradar-com.zip</a></p><p>win10适配修改器 <a target="_blank" rel="noopener" href="http://www.angusj.com/resourcehacker">http://www.angusj.com/resourcehacker</a></p><p>也可以直接下修改好的mmtool <a target="_blank" rel="noopener" href="http://www.smxdiy.com/thread-1995-1-1.html">http://www.smxdiy.com/thread-1995-1-1.html</a></p><p>技嘉B85主板BIOS <a target="_blank" rel="noopener" href="https://www.gigabyte.com/tw/Motherboard/GA-B85-HD3-A-rev-10/support#support-dl-bios">https://www.gigabyte.com/tw/Motherboard/GA-B85-HD3-A-rev-10/support#support-dl-bios</a></p><p>B85芯片组主板也能用上NvmeSSD <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/40367807">https://zhuanlan.zhihu.com/p/40367807</a></p><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><p><a target="_blank" rel="noopener" href="https://www.rjsos.com/">https://www.rjsos.com/</a></p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2022/01/05/dns/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/01/05/dns/" class="post-title-link" itemprop="url">DNS</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-01-05 23:46:47" itemprop="dateCreated datePublished" datetime="2022-01-05T23:46:47+08:00">2022-01-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>148</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="linux-nslookup安装"><a href="#linux-nslookup安装" class="headerlink" title="linux nslookup安装"></a>linux nslookup安装</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install dnsutils</span><br></pre></td></tr></table></figure><h1 id="DNSmasq安装"><a href="#DNSmasq安装" class="headerlink" title="DNSmasq安装"></a>DNSmasq安装</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install dnsmasq</span><br></pre></td></tr></table></figure><p>使用本地hosts做解析</p><h1 id="小方转存SAMBA技巧"><a href="#小方转存SAMBA技巧" class="headerlink" title="小方转存SAMBA技巧"></a>小方转存SAMBA技巧</h1><p>1.使用一台开有samba匿名共享的服务器</p><p>2.建立匿名目录TDDOWNLOAD</p><p>3.把手机里的网关指向该服务器</p><p>4.进入小方转存即可</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2022/01/05/linux%E5%88%9B%E5%BB%BA%E4%BD%8E%E6%9D%83%E9%99%90%E7%94%A8%E6%88%B7/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/01/05/linux%E5%88%9B%E5%BB%BA%E4%BD%8E%E6%9D%83%E9%99%90%E7%94%A8%E6%88%B7/" class="post-title-link" itemprop="url">Linux创建低权限用户</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-01-05 23:44:32" itemprop="dateCreated datePublished" datetime="2022-01-05T23:44:32+08:00">2022-01-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>1.5k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h1 id="使用-useradd-命令创建-SSH-用户："><a href="#使用-useradd-命令创建-SSH-用户：" class="headerlink" title="使用 useradd 命令创建 SSH 用户："></a>使用 useradd 命令创建 SSH 用户：</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd boy</span><br></pre></td></tr></table></figure><p>也可以用高级交互式命名创建用户</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adduser boy</span><br></pre></td></tr></table></figure><p>根据提示一步步操作</p><h1 id="使用-mknod-命令创建-x2F-dev-下的文件。在下面的命令中，-m-标志用来指定文件权限位，c-意思是字符文件，两个数字分别是文件指向的主要号和次要号。"><a href="#使用-mknod-命令创建-x2F-dev-下的文件。在下面的命令中，-m-标志用来指定文件权限位，c-意思是字符文件，两个数字分别是文件指向的主要号和次要号。" class="headerlink" title="使用 mknod 命令创建 &#x2F;dev 下的文件。在下面的命令中，-m 标志用来指定文件权限位，c 意思是字符文件，两个数字分别是文件指向的主要号和次要号。"></a>使用 mknod 命令创建 &#x2F;dev 下的文件。在下面的命令中，-m 标志用来指定文件权限位，c 意思是字符文件，两个数字分别是文件指向的主要号和次要号。</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /home/test/dev/      </span><br><span class="line">cd /home/test/dev/</span><br><span class="line">mknod -m 666 null c 1 3</span><br><span class="line">mknod -m 666 tty c 5 0</span><br><span class="line">mknod -m 666 zero c 1 5</span><br><span class="line">mknod -m 666 random c 1 8</span><br></pre></td></tr></table></figure><p>对于交互式会话，这需要至少一个 shell，通常为 sh 和基本的 &#x2F;dev 节点，例如 null、zero、stdin、stdout、stderr 和 tty 设备：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l /dev/&#123;null,zero,stdin,stdout,stderr,random,tty&#125;</span><br></pre></td></tr></table></figure><h1 id="在-chroot-中设置合适的权限。注意-chroot-和它的子目录以及子文件必须被-root-用户所有，并且对普通用户或用户组不可写："><a href="#在-chroot-中设置合适的权限。注意-chroot-和它的子目录以及子文件必须被-root-用户所有，并且对普通用户或用户组不可写：" class="headerlink" title="在 chroot 中设置合适的权限。注意 chroot 和它的子目录以及子文件必须被 root 用户所有，并且对普通用户或用户组不可写："></a>在 chroot 中设置合适的权限。注意 chroot 和它的子目录以及子文件必须被 root 用户所有，并且对普通用户或用户组不可写：</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chown root:root /home/test</span><br><span class="line">chmod 0755 /home/test</span><br><span class="line">ls -ld /home/test</span><br></pre></td></tr></table></figure><h1 id="为-SSH-chroot-设置交互式-shell-创建-bin-目录并复制-x2F-bin-x2F-bash-到-bin-中："><a href="#为-SSH-chroot-设置交互式-shell-创建-bin-目录并复制-x2F-bin-x2F-bash-到-bin-中：" class="headerlink" title="为 SSH chroot 设置交互式 shell,创建 bin 目录并复制 &#x2F;bin&#x2F;bash 到 bin 中："></a>为 SSH chroot 设置交互式 shell,创建 bin 目录并复制 &#x2F;bin&#x2F;bash 到 bin 中：</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /home/test/bin</span><br><span class="line">cp -v /bin/bash /home/test/bin/</span><br></pre></td></tr></table></figure><h1 id="识别-bash-所需的共享库，如下所示复制它们到-lib64-和-lib-中"><a href="#识别-bash-所需的共享库，如下所示复制它们到-lib64-和-lib-中" class="headerlink" title="识别 bash 所需的共享库，如下所示复制它们到 lib64 和 lib 中"></a>识别 bash 所需的共享库，如下所示复制它们到 lib64 和 lib 中</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ldd /bin/bash</span><br><span class="line">mkdir -p /home/test/lib64</span><br><span class="line">cp -v /lib64/ld-linux-x86-64.so.2 /home/test/lib64/</span><br><span class="line">mkdir -p /home/test/lib/x86_64-linux-gnu/</span><br><span class="line">cp -v /lib/x86_64-linux-gnu/&#123;libtinfo.so.5,libdl.so.2,libc.so.6&#125; /home/test/lib/x86_64-linux-gnu/</span><br></pre></td></tr></table></figure><h1 id="创建-chroot-通用配置目录-x2F-home-x2F-test-x2F-etc-并复制已更新的账号文件（-x2F-etc-x2F-passwd-和-x2F-etc-x2F-group）到这个目录中："><a href="#创建-chroot-通用配置目录-x2F-home-x2F-test-x2F-etc-并复制已更新的账号文件（-x2F-etc-x2F-passwd-和-x2F-etc-x2F-group）到这个目录中：" class="headerlink" title="创建 chroot 通用配置目录 &#x2F;home&#x2F;test&#x2F;etc 并复制已更新的账号文件（&#x2F;etc&#x2F;passwd 和 &#x2F;etc&#x2F;group）到这个目录中："></a>创建 chroot 通用配置目录 &#x2F;home&#x2F;test&#x2F;etc 并复制已更新的账号文件（&#x2F;etc&#x2F;passwd 和 &#x2F;etc&#x2F;group）到这个目录中：</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir /home/test/etc</span><br><span class="line">cp -vf /etc/&#123;passwd,group&#125; /home/test/etc/</span><br></pre></td></tr></table></figure><p>注意：每次向系统添加更多 SSH 用户时，都需要将更新的帐户文件复制到 &#x2F;home&#x2F;test&#x2F;etc 目录中。</p><h1 id="配置-SSH-来使用-chroot"><a href="#配置-SSH-来使用-chroot" class="headerlink" title="配置 SSH 来使用 chroot"></a>配置 SSH 来使用 chroot</h1><p>打开 sshd_config 文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>文件中添加或修改下面这些行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 定义要使用 chroot 的用户</span><br><span class="line">Match User boy</span><br><span class="line"># 指定 chroot </span><br><span class="line">ChrootDirectory /home/test</span><br></pre></td></tr></table></figure><p>重启sshd</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart sshd 或者</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="参考文章"><a href="#参考文章" class="headerlink" title="参考文章"></a>参考文章</h1><p><a target="_blank" rel="noopener" href="https://linux.cn/article-8313-1.html">https://linux.cn/article-8313-1.html</a></p><h1 id="相关脚本"><a href="#相关脚本" class="headerlink" title="相关脚本"></a>相关脚本</h1><p><a target="_blank" rel="noopener" href="http://git.malu.me/Linux%E5%B8%B8%E7%94%A8%E8%84%9A%E6%9C%AC/#%E5%88%9B%E5%BB%BA%E4%BD%8E%E6%9D%83%E9%99%90%E7%94%A8%E6%88%B7%E8%84%9A%E6%9C%AC">创建低权限用户脚本</a></p><h1 id="给用户sudo权限"><a href="#给用户sudo权限" class="headerlink" title="给用户sudo权限"></a>给用户sudo权限</h1><p>方法一：</p><p>修改&#x2F;etc&#x2F;sudoers文件，添加 “malu ALL&#x3D;(ALL) ALL”</p><p>方法二：</p><p>先查看sudo组ID</p><p>cat &#x2F;etc&#x2F;group grep sudo</p><p>把用户加入sudo组</p><p>usermod -G 27 malu</p><p>方法三：</p><p>直接编辑&#x2F;etc&#x2F;group，在sudo组后面添加malu用户，多个用户用逗号”,”分割</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2022/01/05/cdn%E5%85%AC%E5%85%B1%E5%BA%93%E5%8A%A0%E9%80%9F%E6%9C%8D%E5%8A%A1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2022/01/05/cdn%E5%85%AC%E5%85%B1%E5%BA%93%E5%8A%A0%E9%80%9F%E6%9C%8D%E5%8A%A1/" class="post-title-link" itemprop="url">CDN公共库加速服务</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-01-05 23:42:37" itemprop="dateCreated datePublished" datetime="2022-01-05T23:42:37+08:00">2022-01-05</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>127</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="七牛静态资源库-七牛-CDN"><a href="#七牛静态资源库-七牛-CDN" class="headerlink" title="七牛静态资源库 (七牛 CDN)"></a>七牛静态资源库 (七牛 CDN)</h3><p><a target="_blank" rel="noopener" href="https://www.staticfile.org/">https://www.staticfile.org/</a></p><h3 id="jsDelivr-（cloudflare-CDN）"><a href="#jsDelivr-（cloudflare-CDN）" class="headerlink" title="jsDelivr （cloudflare CDN）"></a>jsDelivr （cloudflare CDN）</h3><p><a target="_blank" rel="noopener" href="https://www.jsdelivr.com/">https://www.jsdelivr.com/</a></p><h3 id="cdnjs-（cloudflare-CDN）"><a href="#cdnjs-（cloudflare-CDN）" class="headerlink" title="cdnjs （cloudflare CDN）"></a>cdnjs （cloudflare CDN）</h3><p><a target="_blank" rel="noopener" href="https://cdnjs.com/">https://cdnjs.com/</a></p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2021/12/24/git/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2021/12/24/git/" class="post-title-link" itemprop="url">Git</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-12-24 18:06:38" itemprop="dateCreated datePublished" datetime="2021-12-24T18:06:38+08:00">2021-12-24</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>7.4k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>7 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="初次使用配置用户信息"><a href="#初次使用配置用户信息" class="headerlink" title="初次使用配置用户信息"></a>初次使用配置用户信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;malu&quot;</span><br><span class="line">git config --global user.email &quot;malu@malu.me&quot;</span><br><span class="line"></span><br><span class="line">git config --global alias.l &#x27;log --pretty=format:&quot;%h %ad [%an] %s%d&quot; --date=format:&quot;%Y-%m-%d %H:%M&quot; --no-merges -30&#x27;</span><br><span class="line">git config --global alias.ll &#x27;log --pretty=format:&quot;%h %ad [%an] %s%d&quot; --date=format:&quot;%Y-%m-%d %H:%M&quot; --stat -6&#x27;</span><br><span class="line">git config --global alias.lll &#x27;log --pretty=format:&quot;%h %ad [%an] %s%d&quot; --date=format:&quot;%Y-%m-%d %H:%M&quot; --stat --graph -10&#x27;</span><br><span class="line"></span><br><span class="line">git config --global alias.s &#x27;status --short&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="使用HTTP-basic-auth-clone"><a href="#使用HTTP-basic-auth-clone" class="headerlink" title="使用HTTP basic auth clone"></a>使用HTTP basic auth clone</h3><p>使用http方式去clone时，如果用户名密码包含特殊字符，则都需要URL encode</p><p>比如用户名含有邮箱的@符号时需要转换成%40</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://malu%40malu.me:password@github.com/pingmalu/test.git </span><br></pre></td></tr></table></figure><h3 id="git赋予文件权限"><a href="#git赋予文件权限" class="headerlink" title="git赋予文件权限"></a>git赋予文件权限</h3><p>查看当前权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[localhost]$ git ls-files --stage run.sh</span><br><span class="line">100644 c1bda43ae2d82769f5e66404fdbe7d752ddb383b 0       run.sh</span><br></pre></td></tr></table></figure><p>增加可执行权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[localhost]$ git update-index --chmod +x run.sh</span><br></pre></td></tr></table></figure><h3 id="git添加多个远程仓库"><a href="#git添加多个远程仓库" class="headerlink" title="git添加多个远程仓库"></a>git添加多个远程仓库</h3><p>添加新的远程仓库:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add malu https://malu.me/project/xxx.git</span><br></pre></td></tr></table></figure><p>将本地的所有分支推送到新的远程仓库:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --all malu</span><br></pre></td></tr></table></figure><p>强制推送到新的远程仓库:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -f malu</span><br></pre></td></tr></table></figure><h1 id="git基本使用方法"><a href="#git基本使用方法" class="headerlink" title="git基本使用方法"></a>git基本使用方法</h1><h3 id="查看远程仓库地址"><a href="#查看远程仓库地址" class="headerlink" title="查看远程仓库地址"></a>查看远程仓库地址</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote -v</span><br></pre></td></tr></table></figure><h3 id="查看所有分支"><a href="#查看所有分支" class="headerlink" title="查看所有分支"></a>查看所有分支</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -a</span><br></pre></td></tr></table></figure><h3 id="查看每次提交的所有文件列表"><a href="#查看每次提交的所有文件列表" class="headerlink" title="查看每次提交的所有文件列表"></a>查看每次提交的所有文件列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --stat</span><br></pre></td></tr></table></figure><h3 id="查看特定的commit-id中的文件列表"><a href="#查看特定的commit-id中的文件列表" class="headerlink" title="查看特定的commit id中的文件列表"></a>查看特定的commit id中的文件列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git show --stat &lt;commit id&gt;</span><br></pre></td></tr></table></figure><h3 id="查看最近一次提交的文件列表"><a href="#查看最近一次提交的文件列表" class="headerlink" title="查看最近一次提交的文件列表"></a>查看最近一次提交的文件列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git show --stat</span><br><span class="line">或</span><br><span class="line">git log --stat -1</span><br></pre></td></tr></table></figure><h3 id="查看配置"><a href="#查看配置" class="headerlink" title="查看配置"></a>查看配置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config -l</span><br></pre></td></tr></table></figure><h3 id="一次完整提交"><a href="#一次完整提交" class="headerlink" title="一次完整提交"></a>一次完整提交</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m&#x27;修改BUG&#x27;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure><h1 id="使用代理"><a href="#使用代理" class="headerlink" title="使用代理"></a>使用代理</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config http.proxy http://user:pwd@server.com:port</span><br></pre></td></tr></table></figure><p>http全局代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy http://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>http当前项目代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --local http.proxy http://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>socks5全局代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.proxy socks5://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>socks5全局代理，只对github.com</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global http.https://github.com.proxy socks5://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>clone时使用代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/xxx.git -c http.proxy=socks5://127.0.0.1:1080</span><br></pre></td></tr></table></figure><p>clone时使用代理并取最新的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/xxx.git -c http.proxy=socks5://127.0.0.1:1080 --depth=1</span><br></pre></td></tr></table></figure><p>取消代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset http.proxy</span><br></pre></td></tr></table></figure><p>取消只对github.com的代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global --unset http.https://github.com.proxy</span><br></pre></td></tr></table></figure><h1 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h1><p>显示文件的每一行是在哪个版本最后修改。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git blame filename.c </span><br></pre></td></tr></table></figure><p>查找commit内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log  --pretty=onelinegrep 关键字</span><br></pre></td></tr></table></figure><p>查看用户代码量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --stat --author=&#x27;username&#x27;perl -ne &#x27;END &#123; print $c &#125; $c += $1 if /(\d+) insertions/;&#x27;</span><br></pre></td></tr></table></figure><h1 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h1><p>查看本地分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure><p>查看所有分支 （加-v显示最后一次提交信息）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -a -v</span><br></pre></td></tr></table></figure><p>本地创建分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch dev</span><br></pre></td></tr></table></figure><p>将本地分支上传至远程</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><p>下载在线的一个分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch dev origin/dev</span><br></pre></td></tr></table></figure><p>删除本地分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d dev</span><br></pre></td></tr></table></figure><p>删除远程分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -r -d origin/branch-name</span><br><span class="line">git push origin :branch-name</span><br></pre></td></tr></table></figure><p>切换本地分支到dev</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout dev</span><br></pre></td></tr></table></figure><h1 id="合并分支"><a href="#合并分支" class="headerlink" title="合并分支"></a>合并分支</h1><p>1.开发分支（dev）上的代码达到上线的标准后，要合并到 master 分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout dev</span><br><span class="line">git pull</span><br><span class="line">git checkout master</span><br><span class="line">git merge dev</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure><p>2.当master代码改动了，需要更新开发分支（dev）上的代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout master </span><br><span class="line">git pull </span><br><span class="line">git checkout dev</span><br><span class="line">git merge master </span><br><span class="line">git push -u origin dev</span><br></pre></td></tr></table></figure><p>3.假设本地有2个分支dev master,要把dev合并到master 也可以</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge dev master</span><br></pre></td></tr></table></figure><p>4.把dev合并到master还可以</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase dev master</span><br></pre></td></tr></table></figure><h2 id="合并冲突解决"><a href="#合并冲突解决" class="headerlink" title="合并冲突解决"></a>合并冲突解决</h2><p>1.如果合并冲突取对方代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge -s recursive -X theirs dev --allow-unrelated-histories</span><br></pre></td></tr></table></figure><p>2.如果合并冲突取当前分支代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge -s recursive -X ours dev --allow-unrelated-histories</span><br></pre></td></tr></table></figure><p>–allow-unrelated-histories 把两段不相干的 分支进行强行合并</p><p>3.一个分支完全覆盖另一个分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git checkout master  // 切换到旧的分支</span><br><span class="line">git reset –hard dev   // 将本地的旧分支 master 重置成 dev</span><br><span class="line">git push origin master –force  // 再推送到远程仓库</span><br></pre></td></tr></table></figure><h1 id="标签"><a href="#标签" class="headerlink" title="标签"></a>标签</h1><p>本地新建标签</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag -a only_apache -m &quot;只有apache集成环境&quot;</span><br></pre></td></tr></table></figure><p>查看本地标签</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git tag</span><br></pre></td></tr></table></figure><p>切换至指定标签</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout only_apache</span><br></pre></td></tr></table></figure><p>把所有本地标签提交到服务器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin --tags</span><br></pre></td></tr></table></figure><p>将标签only_apache提交到服务器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin only_apache</span><br></pre></td></tr></table></figure><h1 id="切换远程分支，Git每次提交需要密码处理"><a href="#切换远程分支，Git每次提交需要密码处理" class="headerlink" title="切换远程分支，Git每次提交需要密码处理"></a>切换远程分支，Git每次提交需要密码处理</h1><p>把远程分支从https切换到ssh模式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 先查看远程分支</span><br><span class="line">git remote -v</span><br><span class="line"># 删除远程分支</span><br><span class="line">git remote rm origin</span><br><span class="line"># 添加远程分支</span><br><span class="line">git remote add origin git@github.com:pingmalu/test.git</span><br></pre></td></tr></table></figure><h2 id="Git-合并遇到冲突解决办法"><a href="#Git-合并遇到冲突解决办法" class="headerlink" title="Git 合并遇到冲突解决办法"></a>Git 合并遇到冲突解决办法</h2><h3 id="1-使用栈保存编辑数据后pull下来再合并"><a href="#1-使用栈保存编辑数据后pull下来再合并" class="headerlink" title="1.使用栈保存编辑数据后pull下来再合并"></a>1.使用栈保存编辑数据后pull下来再合并</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git stash: 备份当前的工作区的内容，从最近的一次提交中读取相关内容，让工作区保证和上次提交的内容一致。同时，将当前的工作区内容保存到Git栈中。</span><br><span class="line">git pull:  暂存了本地修改之后，就可以pull了。</span><br><span class="line">git stash pop: 从Git栈中读取最近一次保存的内容，恢复工作区的相关内容。由于可能存在多个Stash的内容，所以用栈来管理，pop会从最近的一个stash中读取内容并恢复。</span><br><span class="line">git stash pop stash@&#123;$num&#125;: 如果要应用并删除其他stash，命令：git stash pop stash@&#123;$num&#125; ，比如应用并删除第二个：git stash pop stash@&#123;1&#125;</span><br><span class="line">git stash list: 显示Git栈内的所有备份，可以利用这个列表来决定从那个地方恢复。</span><br><span class="line">git stash clear: 清空Git栈。此时使用gitg等图形化工具会发现，原来stash的哪些节点都消失了。</span><br></pre></td></tr></table></figure><h3 id="2-从xxxx分支合并到dev"><a href="#2-从xxxx分支合并到dev" class="headerlink" title="2.从xxxx分支合并到dev"></a>2.从xxxx分支合并到dev</h3><p>先把xxxx分支上的提交hash找出来，再去dev上执行cherry-pick:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git cherry-pick a2a544fd01c2578046b335636e4</span><br><span class="line">git push origin dev</span><br></pre></td></tr></table></figure><h2 id="Git后悔药-慎用"><a href="#Git后悔药-慎用" class="headerlink" title="Git后悔药(慎用)"></a>Git后悔药(慎用)</h2><h3 id="放弃本地修改"><a href="#放弃本地修改" class="headerlink" title="放弃本地修改"></a>放弃本地修改</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard</span><br><span class="line">git clean -df</span><br></pre></td></tr></table></figure><p>其他：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git rm --cached &lt;FILE&gt;：已 add（tracked） 未 commit 的文件，使其回到未 add 状态（untracked）。</span><br><span class="line">git rm -f &lt;FILE&gt;： 从本地删除已 add 的文件。</span><br><span class="line">git checkout -- &lt;FILE&gt; ：有修改的文件回到 tracked 状态，对已 tracked 的文件撤销修改。</span><br><span class="line">git reset HEAD &lt;FILE&gt;：撤销 commit，回到 modified 状态。</span><br><span class="line">git reset --soft HEAD^：撤销 commit，回到 tracked 状态。</span><br><span class="line">git clean：删除所有 untracked 文件。</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="放弃本地修改，使用远程最新版本"><a href="#放弃本地修改，使用远程最新版本" class="headerlink" title="放弃本地修改，使用远程最新版本"></a>放弃本地修改，使用远程最新版本</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch --all</span><br><span class="line">git reset --hard origin/master</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><h3 id="如果只需要移除一个文件"><a href="#如果只需要移除一个文件" class="headerlink" title="如果只需要移除一个文件"></a>如果只需要移除一个文件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset &lt;文件名&gt;</span><br></pre></td></tr></table></figure><h3 id="或者如果你想从暂存区移除所有没有提交的修改"><a href="#或者如果你想从暂存区移除所有没有提交的修改" class="headerlink" title="或者如果你想从暂存区移除所有没有提交的修改"></a>或者如果你想从暂存区移除所有没有提交的修改</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset</span><br></pre></td></tr></table></figure><h3 id="放弃远程上一次提交的内容"><a href="#放弃远程上一次提交的内容" class="headerlink" title="放弃远程上一次提交的内容"></a>放弃远程上一次提交的内容</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br><span class="line">或用：</span><br><span class="line">git reset --hard HEAD~1</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="修改错误的提交信息"><a href="#修改错误的提交信息" class="headerlink" title="修改错误的提交信息"></a>修改错误的提交信息</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend -m ”YOUR-NEW-COMMIT-MESSAGE”</span><br><span class="line">git push &lt;remote&gt; &lt;branch&gt; --force</span><br></pre></td></tr></table></figure><h3 id="恢复某个文件到指定hash"><a href="#恢复某个文件到指定hash" class="headerlink" title="恢复某个文件到指定hash"></a>恢复某个文件到指定hash</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout fc0c4369b362a38 .\index.html</span><br></pre></td></tr></table></figure><h2 id="Stash未提交的更改"><a href="#Stash未提交的更改" class="headerlink" title="Stash未提交的更改"></a>Stash未提交的更改</h2><p>stash在本质上会取走所有的变更并存储它们为以备将来使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash</span><br></pre></td></tr></table></figure><p>检查stash列表，你可以运行下面的命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash list</span><br></pre></td></tr></table></figure><p>如果想要解除stash并且恢复未提交的变更</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash apply</span><br></pre></td></tr></table></figure><p>每个stash都有一个标识符，一个唯一的号码（尽管在这种情况下只有一个stash）。 如果只想留有余地进行apply stash，你应该给apply添加特定的标识符</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash apply stash@&#123;2&#125;</span><br></pre></td></tr></table></figure><p>如果想取出stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash pop</span><br></pre></td></tr></table></figure><p>取出指定stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash pop stash@&#123;2&#125;</span><br></pre></td></tr></table></figure><p>清除stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash drop stash@&#123;0&#125;</span><br></pre></td></tr></table></figure><p>清除所有stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash clear</span><br></pre></td></tr></table></figure><p>找回删除的stash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git fsck --lost-found</span><br><span class="line">git show 8dd73fa8d14880182f11e24dc10bca570b6127d7</span><br></pre></td></tr></table></figure><hr><h1 id="Ubuntu-git升级到最新版"><a href="#Ubuntu-git升级到最新版" class="headerlink" title="Ubuntu git升级到最新版"></a>Ubuntu git升级到最新版</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt-get install software-properties-common</span><br><span class="line">add-apt-repository ppa:git-core/ppa</span><br><span class="line">apt-get update</span><br><span class="line">apt-get install git</span><br></pre></td></tr></table></figure><h2 id="cmd下git-log乱码"><a href="#cmd下git-log乱码" class="headerlink" title="cmd下git log乱码"></a>cmd下git log乱码</h2><p>windows配置环境变量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LESSCHARSET 为 utf-8</span><br></pre></td></tr></table></figure><p>统一配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config --global i18n.commitencoding utf-8</span><br><span class="line">git config --global i18n.logoutputencoding utf-8</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="gitk乱码问题"><a href="#gitk乱码问题" class="headerlink" title="gitk乱码问题"></a>gitk乱码问题</h3><p>编辑C:\Users\Administrator\.gitconfig 全局文件（也可编辑项目目录.git&#x2F;config用于设定单个项目）：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[gui]</span><br><span class="line">  encoding = utf-8</span><br><span class="line">[i18n]</span><br><span class="line">  commitencoding = &#123;utf-8gbk&#125;</span><br></pre></td></tr></table></figure><p>[gui]用于设定gitk总的编码格式</p><p>[i18n]用于设定commit等编码，这个默认不需要去设置</p><h3 id="Git-Bash中查看log中文乱码"><a href="#Git-Bash中查看log中文乱码" class="headerlink" title="Git Bash中查看log中文乱码"></a>Git Bash中查看log中文乱码</h3><p>修改%Git%\etc\profile (Linux下为 ~&#x2F;.bash_profile 文件)，在末尾添加如下一行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LESSCHARSET=utf-8</span><br></pre></td></tr></table></figure><p>要马上生效，直接设置该环境变量，或者重新登录</p><h3 id="git-diff乱码问题也可以用上面的设置"><a href="#git-diff乱码问题也可以用上面的设置" class="headerlink" title="git diff乱码问题也可以用上面的设置"></a>git diff乱码问题也可以用上面的设置</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LESSCHARSET=utf-8</span><br></pre></td></tr></table></figure><h2 id="git-bash-乱码临时转换"><a href="#git-bash-乱码临时转换" class="headerlink" title="git-bash 乱码临时转换"></a>git-bash 乱码临时转换</h2><p>utf-8转gbk</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status  iconv -f utf-8 -t gbk</span><br></pre></td></tr></table></figure><p>gbk 转 utf-8 输出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">winpty ipconfig</span><br></pre></td></tr></table></figure><h2 id="解决-idea-Terminal-配置-git-bash-中文乱码"><a href="#解决-idea-Terminal-配置-git-bash-中文乱码" class="headerlink" title="解决 idea Terminal 配置 git bash 中文乱码"></a>解决 idea Terminal 配置 git bash 中文乱码</h2><p>修改：C:\Program Files\Git\etc\bash.bashrc 文件，在这个文件末尾追加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">export LANG=&quot;zh_CN.UTF-8&quot;</span><br><span class="line">export LC_ALL=&quot;zh_CN.UTF-8&quot;</span><br></pre></td></tr></table></figure><h1 id="ERROR"><a href="#ERROR" class="headerlink" title="ERROR"></a>ERROR</h1><h3 id="git-pull-报错："><a href="#git-pull-报错：" class="headerlink" title="git pull 报错："></a>git pull 报错：</h3><blockquote><p>Auto packing the repository for optimum performance. You may also run “git gc” manually. See “git help gc” for more information.</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git gc</span><br></pre></td></tr></table></figure><p>由于git本身不保存文件之前的差异文件.只保存每个文件的快照.所以在频繁修改大文件的情况下会造成git目录变得肥大不堪.git早就有了解决方案.git gc后,会在.git目录下生成一个packfile与idx文件.只保存文件差异</p><h3 id="Git忽略规则及-gitignore规则不生效的解决办法"><a href="#Git忽略规则及-gitignore规则不生效的解决办法" class="headerlink" title="Git忽略规则及.gitignore规则不生效的解决办法"></a>Git忽略规则及.gitignore规则不生效的解决办法</h3><p>原因是.gitignore只能忽略那些原来没有被track的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore是无效的。</p><p>那么解决方法就是先把本地缓存删除（改变成未track状态），然后再提交：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached .    #将会移除所有的缓存索引</span><br><span class="line">git add .</span><br><span class="line">git commit -m &#x27;update .gitignore&#x27;</span><br></pre></td></tr></table></figure><p>!!! 还有一种可能是.gitignore的文件编码问题导致</p><p>比如我遇到Unicode的编码，把它改成ANSI即可</p><h3 id="git-pull的时候遇到"><a href="#git-pull的时候遇到" class="headerlink" title="git pull的时候遇到"></a>git pull的时候遇到</h3><blockquote><p>Unlink of file ‘.git&#x2F;objects&#x2F;pack&#x2F;pack-***.pack’ failed. Should I try again? (y&#x2F;n) y</p></blockquote><p>上面的问题，按n或者y都没有用，先Ctrl+C</p><p>再执行：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git gc --auto  #自动清理本地的文件</span><br><span class="line">git repack -d -l   #将版本库未打包的松散对象打包</span><br></pre></td></tr></table></figure><h3 id="openshift-git-clone-Permission-denied"><a href="#openshift-git-clone-Permission-denied" class="headerlink" title="openshift git clone Permission denied"></a>openshift git clone Permission denied</h3><p>openshift执行git clone ssh:&#x2F;&#x2F;<a href="mailto:&#120;&#120;&#120;&#64;&#x78;&#120;&#x78;&#46;&#x72;&#104;&#99;&#108;&#111;&#x75;&#x64;&#46;&#x63;&#x6f;&#x6d;">&#120;&#120;&#120;&#64;&#x78;&#120;&#x78;&#46;&#x72;&#104;&#99;&#108;&#111;&#x75;&#x64;&#46;&#x63;&#x6f;&#x6d;</a>&#x2F;~&#x2F;git&#x2F;xxx.git&#x2F; 时报错 ：</p><blockquote><p>Permission denied (publickey,gssapi-keyex,gssapi-with-mic).</p><p>fatal: Could not read from remote repository.</p><p>Please make sure you have the correct access rights</p><p>and the repository exists.</p></blockquote><p>解决办法：</p><p>将密钥拷贝的.ssh目录下，改名id_rsa&#x2F;id_rsa.pub（密钥&#x2F;公钥）再执行克隆命令成功解决。</p><h1 id="自动脚本"><a href="#自动脚本" class="headerlink" title="自动脚本"></a>自动脚本</h1><p>每次提交md笔记需要敲命令，感觉太麻烦了，于是有了这个windows BAT脚本</p><p>拉取：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">@echo ========================================================</span><br><span class="line">@echo git pull</span><br><span class="line">@echo ========================================================</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure><p>提交:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">@echo ========================================================</span><br><span class="line">@echo git push</span><br><span class="line">@echo ========================================================</span><br><span class="line">git add . &amp;&amp; git commit -am &#x27;update&#x27; &amp;&amp; git push</span><br></pre></td></tr></table></figure><h1 id="部署gitlab服务器"><a href="#部署gitlab服务器" class="headerlink" title="部署gitlab服务器"></a>部署gitlab服务器</h1><p>docker安装：</p><p><a target="_blank" rel="noopener" href="https://docs.gitlab.com/omnibus/docker/">https://docs.gitlab.com/omnibus/docker/</a></p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2021/12/23/%E6%96%B0%E6%89%8B%E6%95%99%E7%A8%8B-debian-10-%E5%A6%82%E4%BD%95%E5%8D%87%E7%BA%A7%E5%AE%98%E6%96%B9buster-backports%E6%BA%905-10-x%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2021/12/23/%E6%96%B0%E6%89%8B%E6%95%99%E7%A8%8B-debian-10-%E5%A6%82%E4%BD%95%E5%8D%87%E7%BA%A7%E5%AE%98%E6%96%B9buster-backports%E6%BA%905-10-x%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC/" class="post-title-link" itemprop="url">新手教程 Debian 10 如何升级官方buster-backports源5.10.X内核版本</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-12-23 00:05:22" itemprop="dateCreated datePublished" datetime="2021-12-23T00:05:22+08:00">2021-12-23</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>964</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>1 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>目前VPS商家提供的Debian 10系统基本上都是4.19.x.x的内核版本，站长本着用新不用旧的原则，在初次部署环境的时候，总是忍不住将系统内核版本升级到比较新的版本。</p><p>1、查看系统内核版本</p><p>uname -r</p><p>站长用于演示的这台Debian 10系统的VPS原始内核版本为：4.19.0-5-amd64</p><p>2、添加Debian官方 buster-backports 源</p><p>deb <a target="_blank" rel="noopener" href="http://deb.debian.org/debian">http://deb.debian.org/debian</a> buster-backports main</p><p>编辑nano &#x2F;etc&#x2F;apt&#x2F;sources.list，站长用nano编辑演示，默认如下图所示(有些商家默认有buster-backports源的，则略过)：<img src="https://www.jarods.org/wp-content/uploads/2021/12/2021080602.jpg" alt="新手教程" title="新手教程"></p><p>将 buster-backports 源添加进去，然后按Ctrl+X退出；<img src="https://www.jarods.org/wp-content/uploads/2021/12/2021080603.jpg" alt="新手教程" title="新手教程"></p><p>这里会提示保存，输入Y并回车；<img src="https://www.jarods.org/wp-content/uploads/2021/12/2021080604.jpg" alt="新手教程" title="新手教程"></p><p>直接按回车确认将buster-backports源写入，<img src="https://www.jarods.org/wp-content/uploads/2021/12/2021080605.jpg" alt="新手教程" title="新手教程"></p><p>3、安装官方最新5.1x.x内核</p><p>先更新系统，命令如下：</p><p>apt update</p><p>安装最新内核</p><p>apt install -t buster-backports linux-image-cloud-amd64 linux-headers-cloud-amd64</p><p><img src="https://www.jarods.org/wp-content/uploads/2021/12/2021080606.jpg" alt="新手教程" title="新手教程"></p><p>更新启动内核版本</p><p>update-grub</p><p><img src="https://www.jarods.org/wp-content/uploads/2021/12/2021080607.jpg" alt="新手教程" title="新手教程"></p><p>重启系统</p><p>reboot</p><p>4、卸载旧内核版本 输入<code>uname -r</code>即可看到内核版本已经是<code>5.10.0-0.bpo.7-cloud-amd64</code>；输入以下命令查看当前系统已经安装的内核版本；</p><p>dpkg –list grep linux-image</p><p><img src="https://www.jarods.org/wp-content/uploads/2021/12/2021080608.jpg" alt="新手教程" title="新手教程"></p><p>使用<code>apt purge</code>命令卸载旧的内核版本(按实际卸载的内核版本修改命令)：</p><p>apt purge linux-image-4.19.0-5-amd64</p><p><img src="https://www.jarods.org/wp-content/uploads/2021/12/2021080609.jpg" alt="新手教程" title="新手教程"></p><p>输入以下命令查看当前系统已经安装的内核头文件；</p><p>dpkg –list grep linux-headers</p><p><img src="https://www.jarods.org/wp-content/uploads/2021/12/2021080610.jpg" alt="新手教程" title="新手教程"></p><p>如果有4.19.x.x的内核头文件，也可以使用<code>apt purge</code>命令卸载，命令如下(按实际卸载的内核头文件版本修改命令)：</p><p>apt purge linux-headers-4.19.0-5-amd64</p><p>最后再动更新一下启动内核版本，可以看到，只剩下<code>5.10.0-0.bpo.7-cloud-amd64</code>了。</p><p>update-grub</p><p><img src="https://www.jarods.org/wp-content/uploads/2021/12/2021080611.jpg" alt="新手教程" title="新手教程"></p><p>搞定！收工！……等等，好像还没完呢，查看下方这篇文章开启BBR才算真正搞定！</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2021/12/16/%E5%8F%AA%E7%94%A8%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A0%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BAwordpress/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2021/12/16/%E5%8F%AA%E7%94%A8%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A0%81%E4%BB%8E%E9%9B%B6%E6%90%AD%E5%BB%BAwordpress/" class="post-title-link" itemprop="url">只用一行代码从零搭建WordPress</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-12-16 23:46:38" itemprop="dateCreated datePublished" datetime="2021-12-16T23:46:38+08:00">2021-12-16</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>2.8k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>3 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>WordPress是世界上最著名的博客及内容管理系统(CMS)之一，我们这个博客也是基于WordPress的。通常来说，从一个新装的系统搭建WordPress都是比较麻烦的，自己需要安装PHP, 数据库，服务器程序等等多个组件，装好WordPress大概需要一个多小时，而且性能优化也不能尽如人意。因此，我们今天介绍一行代码，可以从零开始，用一行代码帮你搭好WordPress系统。本文作者为香菇肥牛，原文链接为<a target="_blank" rel="noopener" href="https://qing.su/article/146.html">https://qing.su/article/146.html</a>, 转载请注明原文链接，谢谢！</p><h2 id="1-服务器系统要求"><a href="#1-服务器系统要求" class="headerlink" title="1, 服务器系统要求"></a>1, 服务器系统要求</h2><p> </p><p>今天的教程支持CentOS 6, 7; Debian 7, 8, 9; Ubuntu 14, 16, 18.  所有系统均需为64位操作系统。安装时需要root权限。</p><h2 id="2-安装的组件"><a href="#2-安装的组件" class="headerlink" title="2, 安装的组件"></a>2, 安装的组件</h2><p> </p><p>这个一行安装代码将在您的服务器上安装LLsMP组件与Wordpress程序，即OpenLiteSpeed服务器，MariaDB数据库，及PHP.  OpenLiteSpeed是非常高效的服务器软件，其性能可以直接吊打Apache, 甚至还可以性能数倍于Nginx.  现在大部分主机商的虚拟主机都是搭建在LiteSpeed系统上的，因为它对高并发访问的支持是所有服务器程序里面最好的，同时还能兼容.htaccess这类比较方便的Apache功能。OpenLiteSpeed自带了人性化的后台控制面板，因此不仅高效，而且非常易用。服务器自带的LSCache更是毫无争议的效率最高的WordPress缓存系统。<strong>这个一行代码搭建出来的WordPress可以直接作为安全高效的生产环境。</strong>下面，我们开始介绍这个一行代码。</p><h2 id="3-安装Wordpress"><a href="#3-安装Wordpress" class="headerlink" title="3, 安装Wordpress"></a>3, 安装Wordpress</h2><p> </p><p>代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate https://raw.githubusercontent.com/litespeedtech/ols1clk/master/ols1clk.sh &amp;&amp; bash ols1clk.sh -w --adminpassword mypassword --email myemail@qing.su --lsphp 73 --wordpressplus mydomain.qing.su --wordpresspath /srv/www/mydomain.qing.su/public_html/ --dbrootpassword myrootpassword --dbname mywordpressdb --dbuser mywordpressdbuser --dbpassword mywordpressdbpassword --listenport 80 --wpuser mywpuser --wppassword mywppassword --wplang zh_CN</span><br></pre></td></tr></table></figure><p>我们依次解释一下这行代码里面用到的几个参数。</p><ul><li><strong>-w</strong> 安装wordpress</li><li><strong>–adminpassword</strong> 后面加上你设定的OpenLiteSpeed后台管理员密码</li><li><strong>–email</strong> 后面跟你的WordPress管理员邮箱</li><li><strong>–lsphp</strong> 后面加上你想要安装的PHP版本，比如7.3就输入73, 5.6就输入56.</li><li><strong>–wordpressplus</strong> 后面加上你的WordPress域名。请提前将该域名解析到这台VPS或者服务器上。</li><li><strong>–wordpresspath</strong> 后面跟WordPress的安装路径。</li><li><strong>–dbrootpassword</strong> 后面加上MariaDB数据库root用户的密码。</li><li><strong>–dbname</strong> 后面加上你需要新建的WordPress的数据库名。</li><li><strong>–dbuser</strong> 后面加上你需要新建的WordPress的数据库用户名。</li><li><strong>–dbpassword</strong> 后面加上你需要新建的WordPress的数据库密码。</li><li><strong>–listenport</strong> 后面加上网站的端口，默认是80。</li><li><strong>–wpuser</strong> 后面加上你需要新建的WordPress的管理员用户名。</li><li><strong>–wppassword</strong> 后面加上你需要新建的WordPress的管理员密码。</li><li><strong>–wplang</strong> 后面加上WordPress语言，如果需要中文，填zh_CN; 如果需要英文，填en.</li></ul><p>输入并执行这行命令之后，会出现下面这个页面，可以确认一下信息输入是否有误。</p><p><img src="/2021/12/1-2.png"></p><p>如果没有问题，回车即可开始安装啦，一般来说很快就能安装好。如果缺一些依赖环境，这行命令也会自动帮你安装。</p><p>安装完毕之后，登录你的域名，就能管理WordPress啦，比如如果你的安装域名是mydomain.qing.su, 那么登录WordPress后台的地址是mydomain.qing.su&#x2F;wp-login.php.  在后台，你可以继续设置主题、插件，布置模块样式等。</p><p>如果需要登录OLS的后台添加其他网站，请访问你的域名:7080, 比如这里是mydomain.qing.su:7080, 用户名是admin, 密码是刚才设定的第二个参数。</p><p>今天就介绍到这里。这个一行代码安装WordPress的方法是不是很方便呢？如果您遇到任何问题，欢迎留言与我交流。本文作者为香菇肥牛，原文链接为<a target="_blank" rel="noopener" href="https://qing.su/article/146.html">https://qing.su/article/146.html</a>, 转载请注明原文链接，谢谢！</p><p>EDIT: 新增SSL安全证书的安装</p><h2 id="4-可选-安装SSL安全证书"><a href="#4-可选-安装SSL安全证书" class="headerlink" title="4. [可选]安装SSL安全证书"></a>4. [可选]安装SSL安全证书</h2><p>这个脚本一键安装的WordPress是基于HTTP的，不带安全证书。如果您需要给网站加上安全证书，则还需要安装SSL.  刚开始用LiteSpeed的朋友们可能不清楚怎样安装SSL证书。我们这里假设用Let’s Encrypt生成好了证书，私钥储存在&#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;domain.qing.su&#x2F;privkey.pem, 证书储存在&#x2F;etc&#x2F;letsencrypt&#x2F;live&#x2F;domain.qing.su&#x2F;fullchain.pem (这里我们使用全链，包含了证书和中间链)。然后，我们登录OpenLiteSpeed后台，地址是你的网址:7080, 比如example.com:7080, 用户名是admin, 密码是之前使用一键安装的时候设置的–adminpassword参数值。登录好之后，会看到类似下面的界面。</p><p><img src="/2021/12/2-1-1024x941-1.png"></p><p>上面有服务器相关的基本信息。我们点击左侧的Listeners, 来到下图的界面。</p><p><img src="/2021/12/3-1-1024x341-1.png"></p><p>然后点击图中的wordpressssl, 即可编辑我们刚刚安装的WordPress网站的相关设置。如下图。</p><p><img src="/2021/12/4-1-1024x517-1.png"></p><p>我们点击头部的SSL选项卡，然后点击右上角小蓝色方框里面的图标，编辑第一个部分SSL Private Key &amp; Certificate.  编辑的时候，我们在Private Key File里面填入服务器上私钥的地址，在Certificate File里面填入全链证书的地址，然后Chained Certificate选择Yes.</p><p>全部填好之后，保存并点击右上角绿色方框里的图标，重启LiteSpeed服务器。这样，我们就安装好SSL证书啦！</p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://jarod.vip/2021/12/16/%E4%BD%BF%E7%94%A8mailu-io%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8Edocker%E7%9A%84%E5%9F%9F%E5%90%8D%E9%82%AE%E7%AE%B1/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="Jarod"><meta itemprop="description" content="记录生活中的点点滴滴"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Jarod's Blog"></span><header class="post-header"><h2 class="post-title" itemprop="name headline"><a href="/2021/12/16/%E4%BD%BF%E7%94%A8mailu-io%E6%90%AD%E5%BB%BA%E5%9F%BA%E4%BA%8Edocker%E7%9A%84%E5%9F%9F%E5%90%8D%E9%82%AE%E7%AE%B1/" class="post-title-link" itemprop="url">使用Mailu.io搭建基于Docker的域名邮箱</a></h2><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-12-16 23:24:38" itemprop="dateCreated datePublished" datetime="2021-12-16T23:24:38+08:00">2021-12-16</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2022-09-29 21:27:46" itemprop="dateModified" datetime="2022-09-29T21:27:46+08:00">2022-09-29</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">Linux教程</span></a></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>4.9k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>4 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><p>Mailu.io是一款免费开源且性能强大、功能丰富的域名邮箱系统。它基于Docker, 具有部署简单，可移植性高，备份方便等多种优势。之前，<a target="_blank" rel="noopener" href="https://qing.su/article/139.html">我们介绍过Poste邮箱系统的搭建</a>；Poste已经很久不再更新了，而Mailu则是Poste的升级版，一直稳定更新。</p><p>今天，我们就来介绍如何搭建并使用Mailu.io域名邮箱。类似的域名邮箱系统，我们还推荐<a target="_blank" rel="noopener" href="https://qing.su/article/154.html">iRedMail</a>与<a target="_blank" rel="noopener" href="https://qing.su/article/zimbra.html">Zimbra</a>, 您可以自行比较并选择喜欢的程序。本文作者为香菇肥牛，原文链接为<a target="_blank" rel="noopener" href="https://qing.su/article/mail-hosting-with-mailu-io.html">https://qing.su/article/mail-hosting-with-mailu-io.html</a>, 转载需注明原文链接。</p><h2 id="1-系统环境要求"><a href="#1-系统环境要求" class="headerlink" title="1, 系统环境要求"></a>1, 系统环境要求</h2><p>由于Mailu基于Docker, 因此几乎可以在任何版本的Linux发行版上安装使用。安装前，请确保您的服务器有2 GB的内存，并拥有一个独立IP地址。</p><p>在安装之前，您需要确保您的VPS的25端口是开放的。您可以在您的VPS上执行下面的命令来测试25端口是否开放。</p><p>1</p><p>telnet smtp.aol.com 25</p><p>如果看到类似下面的回显，则说明端口是开放的：</p><p>1 2 3 4</p><p>Trying 74.6.141.50… Connected to smtp.aol.g03.yahoodns.net. Escape character is ‘^]‘. 220 smtp.mail.yahoo.com ESMTP ready</p><p>如果显示超时，说明25端口不开放；您需要向主机商申请开放25端口，或者更换一台VPS.</p><p>本文中，我们将在一台Ubuntu 20.04 LTS 64 bit操作系统的VPS中安装。在其他操作系统中的安装步骤类似。</p><h2 id="2-主机名与DNS设置"><a href="#2-主机名与DNS设置" class="headerlink" title="2, 主机名与DNS设置"></a>2, 主机名与DNS设置</h2><p>设置好主机名（服务器名, Hostname）是所有邮件服务器必不可少的一步，否则在发信时将会遇到各种错误。</p><p>如果您的域名为example.com, 那么我建议您的邮件服务器主机名可以设置为_<strong>mail.example.com</strong><em>或者</em><strong>mx.example.com</strong>_.  如果您不知道如何设置服务器名，<a target="_blank" rel="noopener" href="https://qing.su/how-to-set-hostname">请参考我们的图文视频教程</a>。</p><p>下文中，我们将以_<strong>mx.qing.su</strong>_作为主机名介绍整个系统的部署。当您设置好主机名之后（以mx.qing.su为例），在SSH中执行命令：</p><p>1</p><p>hostname</p><p>此时您应当看到系统显示_<strong>mx</strong><em>.  如果系统显示</em><strong>mx.qing.su</strong>_, 说明主机名设置<strong>错误</strong>，请重新设置。</p><p>在SSH中执行命令：</p><p>1</p><p>hostname -f</p><p>此时您应当看到系统显示_<strong>mx.qing.su</strong>_.</p><p>设置好主机名之后，您还需要设置DNS解析记录。DNS记录的设置分为两部分，一部分需要在搭建邮箱之前设置，另一部分(DKIM)在搭建邮箱之后设置。我们先介绍第一部分。假设您的服务器IP地址为88.88.88.88, 那么您需要到您域名的DNS服务提供商处，添加下面的五条记录：</p><ul><li>将域名_<strong>qing.su</strong>_设置任意一条A记录或者ALIAS记录，值为任意。如果您不使用该域名做网站，您可以设置一条A记录，解析到127.0.0.1.  请注意，根域名不能设置CNAME记录。</li><li>将域名_<strong>mx.qing.su</strong>_设置A记录，解析到88.88.88.88</li><li>将域名_<strong>qing.su</strong>_设置MX记录，优先级为10，解析值为mx.qing.su</li><li>SPF: 将域名_<strong>qing.su</strong>_设置TXT记录，解析值为”v&#x3D;spf1 mx ~all”</li><li>DMARC: 将域名_<strong>_dmarc.qing.su</strong>_设置TXT记录，解析值为”v&#x3D;DMARC1; p&#x3D;none; pct&#x3D;100; rua&#x3D;mailto:<a href="mailto:&#97;&#x64;&#109;&#x69;&#x6e;&#x40;&#x71;&#105;&#110;&#x67;&#46;&#115;&#x75;">&#97;&#x64;&#109;&#x69;&#x6e;&#x40;&#x71;&#105;&#110;&#x67;&#46;&#115;&#x75;</a>”</li></ul><p>然后，您需要到您的VPS服务商处，为您的IP地址设置逆向DNS记录(Reverse DNS, PTR), 将88.88.88.88解析到mx.qing.su.</p><p>设置好这些之后，我们就可以开始部署Mailu域名邮箱了。</p><h2 id="3-安装Docker与Docker-Compose"><a href="#3-安装Docker与Docker-Compose" class="headerlink" title="3, 安装Docker与Docker Compose"></a>3, 安装Docker与Docker Compose</h2><p>前面说过，Mailu基于Docker.  这里我将以Ubuntu 20.04 LTS操作系统为例，简要记录Docker与Docker Compose的安装。如果您对Docker非常了解，可以跳过这一部分。如果您使用的是其他操作系统，可以在这里(<a target="_blank" rel="noopener" href="https://docs.docker.com/engine/install/">https://docs.docker.com/engine/install/</a>, <a target="_blank" rel="noopener" href="https://docs.docker.com/compose/install/)%E6%89%BE%E5%88%B0%E5%AF%B9%E5%BA%94%E7%9A%84%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4%E3%80%82">https://docs.docker.com/compose/install/)找到对应的安装步骤。</a></p><p>安装Docker Engine:</p><p>1 2 3 4 5 6</p><p>apt-get update &amp;&amp; apt-get upgrade apt-get install apt-transport-https ca-certificates curl gnupg-agent software-properties-common curl -fsSL <a target="_blank" rel="noopener" href="https://download.docker.com/linux/ubuntu/gpg">https://download.docker.com/linux/ubuntu/gpg</a>  apt-key add - add-apt-repository “deb [arch&#x3D;amd64] <a target="_blank" rel="noopener" href="https://download.docker.com/linux/ubuntu">https://download.docker.com/linux/ubuntu</a> $(lsb_release -cs) stable” apt-get update apt-get install docker-ce docker-ce-cli containerd.io</p><p>安装Docker Compose:</p><p>1 2</p><p>curl -L “<a target="_blank" rel="noopener" href="https://github.com/docker/compose/releases/download/1.27.2/docker-compose-$">https://github.com/docker/compose/releases/download/1.27.2/docker-compose-$</a>(uname -s)-$(uname -m)” -o &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose chmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</p><p> </p><h2 id="4-配置Mailu服务器"><a href="#4-配置Mailu服务器" class="headerlink" title="4, 配置Mailu服务器"></a>4, 配置Mailu服务器</h2><p>Mailu服务器提供了一个自动生成配置文件的网页，非常方便。因此，我们将使用这个网页来生成配置文件。它的地址是<a target="_blank" rel="noopener" href="https://setup.mailu.io/">https://setup.mailu.io/</a></p><p>打开网页后，第一步是选择版本与Docker管理方式。这里我们选择最新版1.7, Docker管理方式选择Docker.</p><p><img src="/2021/12/configuration_1-watermarked-1024x435-1.png" alt="设置Mailu版本与Docker"></p><p>第二步，需要设置路径与域名信息。请按照下图填写，并替换为您的域名。请注意，Main mail domain and server display name应该填写您的根域名，比如我这里是qing.su; 而Linked Website URL, 则填写您的邮件服务器主机名，这里我们填写<a target="_blank" rel="noopener" href="https://mx.qing.su/">https://mx.qing.su</a>.  在TLS certificates这里，我们选择letsencrypt, 系统将会自动帮我们生成Let’s Encrypt证书。您也可以选择自己提供证书。下方的Enable the admin UI请务必勾选，否则系统将不会安装Web管理面板。</p><p><img src="/2021/12/configuration_2-watermarked-1024x726-1.png" alt="设置Mailu路径与管理员信息"></p><p>第三步，选择网页邮箱的面板。这里可以选择Roundcube和Rainloop, 您可以根据个人偏好来选择。我这里推荐Rainloop，它更美观，且对移动端的适配更好。Rainloop支持中文显示。下面的三个选项分别是杀毒、WebDAV、邮件代收，您可以根据自己的需要来勾选。</p><p><img src="/2021/12/configuration_3-watermarked-1024x415-1.png"></p><p>第四步，配置IP与主机名。请在IP listen address中填写您服务器的IP地址，比如88.88.88.88.  第二行是设置Docker的子网，一般保持默认即可。IPv6建议不启用。Unbound resolver建议启用。最后一栏，填写您的服务器的长主机名，我这里是mx.qing.su.</p><p><img src="/2021/12/configuration_4-watermarked-1024x510-1.png" alt="配置IP地址与主机名"></p><p>第五步，也是最后一步，选择数据库。这里我们选择最简单的Sqlite即可。您也可以选择其他的数据库，比如MySQL或者PostgreSQL.</p><p><img src="/2021/12/configuration_5-watermarked-1024x181-1.png" alt="选择数据库"></p><p>选择完毕后，点击Setup Mailu, 系统就会自动帮你生成好配置文件了，如下图。</p><p><img src="/2021/12/generated_configuration-watermarked-1024x847-1.png" alt="系统生成的Mailu配置文件"></p><h2 id="5-运行Mailu服务器"><a href="#5-运行Mailu服务器" class="headerlink" title="5, 运行Mailu服务器"></a>5, 运行Mailu服务器</h2><p>按照上述步骤生成好Mailu配置文件，就可以运行Mailu服务器了。回到SSH, 执行：</p><p>1 2</p><p>mkdir &#x2F;mailu cd &#x2F;mailu</p><p>然后找到之前那个页面生成的配置文件链接，下载到&#x2F;mailu文件夹中：</p><p>1 2</p><p>wget <a target="_blank" rel="noopener" href="http://setup.mailu.io/1.7/file/edda7279-qing-su-qing-su-04773fdf23f9/docker-compose.yml">http://setup.mailu.io/1.7/file/edda7279-qing-su-qing-su-04773fdf23f9/docker-compose.yml</a> wget <a target="_blank" rel="noopener" href="http://setup.mailu.io/1.7/file/edda7279-qing-su-qing-su-04773fdf23f9/mailu.env">http://setup.mailu.io/1.7/file/edda7279-qing-su-qing-su-04773fdf23f9/mailu.env</a></p><p>最后，使用Docker compose运行。</p><p>1</p><p>docker-compose -p mailu up -d</p><p>初次使用，系统将会下载几个Docker镜像，需要数分钟的时间。等系统提示完成后，Mailu就处于运行状态了。</p><p>部分朋友在初次运行Mailu的时候会遇到类似于下图的报错：</p><p><img src="/2021/12/binding_error-watermarked.png" alt="Mailu运行报错"></p><p>如果遇到这种情况，您可以编辑_<strong>docker-compose.yml</strong>_文件，删除掉所有绑定了**[::1]**地址与端口的行，然后重新运行上面的命令即可。</p><h2 id="6-使用Mailu域名邮箱"><a href="#6-使用Mailu域名邮箱" class="headerlink" title="6, 使用Mailu域名邮箱"></a>6, 使用Mailu域名邮箱</h2><p>在第一次登录Mailu服务器后台面板之前，需要新建一个管理员账户。在SSH中执行：</p><p>1</p><p>docker-compose -p mailu exec admin flask mailu admin hello example.com qing.su</p><p>这样，我们就创建了一个用户名为<a href="mailto:&#x68;&#x65;&#x6c;&#x6c;&#x6f;&#x40;&#101;&#120;&#x61;&#109;&#112;&#108;&#101;&#46;&#99;&#111;&#x6d;">&#x68;&#x65;&#x6c;&#x6c;&#x6f;&#x40;&#101;&#120;&#x61;&#109;&#112;&#108;&#101;&#46;&#99;&#111;&#x6d;</a>, 密码为qing.su的管理员账户。请替换为您需要的值。</p><p>创建完毕，您就可以在浏览器中访问<a target="_blank" rel="noopener" href="https://mx.qing.su/admin%E7%99%BB%E5%BD%95%E6%82%A8%E7%9A%84%E7%AE%A1%E7%90%86%E5%91%98%E9%9D%A2%E6%9D%BF%E4%BA%86%EF%BC%8C%E5%A6%82%E4%B8%8B%E5%9B%BE%E3%80%82">https://mx.qing.su/admin登录您的管理员面板了，如下图。</a></p><p><img src="/2021/12/admin_login-watermarked.png" alt="Mailu后台面板"></p><p>点击左侧Mail Domains, 就能管理我们的邮箱域名。在域名管理界面，点击右上角New domain, 即可添加域名。点击下图中的红框部分，即可添加用户；点击绿框部分，则进入域名详情页。</p><p><img src="/2021/12/manage_domain-watermarked-1024x222-1.png" alt="管理邮箱域名"></p><p>点击上图中的红框，进入用户管理界面，如下图：</p><p><img src="/2021/12/add_user-watermarked-1024x548-1.png" alt="添加邮箱用户"></p><p>这里我们可以输入邮箱前缀，密码，姓名。下方的Features and quotas可以设置邮箱容量，并且可以设置是否允许IMAP和POP3客户端登录收信。设置完毕后，点击Save, 就添加好了用户。</p><p>在域名管理界面，点击之前那张图的绿框部分，则进入了域名详情页。我们点击右上角的Generate keys, 即可生成DKIM记录。如下图。</p><p><img src="/2021/12/DNS_records-watermarked-1024x528-1.png"></p><p>根据上图的信息，您需要去您的DNS服务器运营商设置域名的DKIM记录。比如，以我的qing.su域名为例，我需要设置下面的DKIM记录：</p><ul><li>将域名_<strong>dkim._domainkey.qing.su</strong>_设置TXT记录，解析值为”v&#x3D;DKIM1; k&#x3D;rsa; p&#x3D;MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDK8nX8NbQ&#x2F;16bb7zUqZif39emugOQpBDTXeLTqKhmrhPHFt5RgrDj9ibL18ovXKsQONjXZ+qNE407+KQZWcVLFvCQ6jtl1ojSfnJGeltGRqgfjw0nIAFQ9P6UVO5fiyrnxR4NZ+MDKvsv33NMgJxpEH6O8hQ&#x2F;K2mDM+mDcIIbOwQIDAQAB”</li></ul><p>这样，我们就完成了全部的DNS设置。此时，您的域名邮箱已经全部搭建并配置完毕，可以收发信了。</p><p>访问<a target="_blank" rel="noopener" href="https://mx.qing.su就会自动跳转到网页邮箱的登录界面.如果您在配置时选择了rainloop/">https://mx.qing.su就会自动跳转到网页邮箱的登录界面。如果您在配置时选择了Rainloop</a>, 则第一次登录时可以在界面上选择语言，比如简体中文。</p><p>我们使用mail-tester.com测试发信，可以看到评分为满分10分。</p><p><img src="/2021/12/mailtester_result-watermarked-1024x857-1.png" alt="Mail-tester邮件测试"></p></div><footer class="post-footer"><div class="post-eof"></div></footer></article><nav class="pagination"><a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/26/">26</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a></nav></div><script>window.addEventListener("tabs:register",()=>{let t=CONFIG.comments["activeClass"];var e;(t=CONFIG.comments.storage?localStorage.getItem("comments_active")||t:t)&&(e=document.querySelector(`a[href="#comment-${t}"]`))&&e.click()}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">Jarod</p><div class="site-description" itemprop="description">记录生活中的点点滴滴</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">258</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">6</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">306</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/jarodvip" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jarodvip" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a></span></div></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2022</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Jarod</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span title="站点总字数">647k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">9:48</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script></body></html>